;/*FB_PKG_DELIM*/

__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5918370558260901"}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookProactiveWarningFlowTriggerRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters","JSResourceForInteraction","React","WebPixelRatio","uuid"],(function(a,b,c,d,e,f,g){"use strict";c("React");a={getPreloadProps:function(a){return{queries:{reference:{parameters:c("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters"),variables:{input:babelHelpers["extends"]({},a,{nt_context:null,trigger_session_id:c("uuid")()}),scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometIXTFacebookProactiveWarningFlowTriggerRoot.react").__setRef("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint")};b=a;g["default"]=b}),98);
__d("useIXTProactiveWarningFlowTriggerDialog",["cr:2998","cr:3116"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:3116")(b("cr:2998"),a)}g["default"]=a}),98);
__d("LSClearCommunityMembersAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.i64.neq(a[0],d)?b.seq([function(c){return b.fe(b.ftr(b.db.table(170).fetch(),function(c){return b.i64.eq(c.source,a[0])}),function(a){return a["delete"]()})},function(c){return b.fe(b.ftr(b.db.table(189).fetch(),function(c){return b.i64.eq(c.source,a[0])}),function(a){return a["delete"]()})}]):b.seq([function(a){return b.fe(b.db.table(170).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(189).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSClearReactionsV2DetailsAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(239).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(243).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",c.i64.to_string(a[1])),d[1].set("muted_user_id",c.i64.to_string(a[0])),d[1].set("owner_id",c.i64.to_string(d[0])),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",[0,13],d[2])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueBotsInfoFetch",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),c.i64.gt([0,0],[0,0])?(d[4]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[4],[0,0])):d[1]=[0,0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"fetch_bot_info",[0,571],d[2],f,f,[0,0],[0,0],f,f,d[1]).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpsertCommunityMemberRanges",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(e){return d[0]=c.createArray(),d[2]=(d[0].push([0,0]),d[0]),a[2]===!0?c.resolve(d[1]=!0):c.seq([function(e){return d[2]=!1,d[3]=c.i64.of_int32(a[1].length),c.i64.gt(d[3],[0,0])?c.loopAsync(d[3],function(e){return d[4]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[1],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(a){return d[2]=d[2]||c.i64.eq([0,1],d[5])}])}):c.resolve()},function(a){return d[1]=d[2]}])},function(b){return c.db.table(189).put({communityId:a[0],isAdmin:d[1],minName:"",source:a[7],maxName:a[6],isLoadingBefore:!1,isLoadingAfter:a[4],hasMoreBefore:!1,hasMoreAfter:a[3],nextPageCursor:a[5]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueCommunityMemberListFetch",["LSIssueNewTask","LSUpsertCommunityMemberRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.createArray(),d[4]=(d[0].push([0,0]),d[0]),d[1]=c.createArray(),c.sp(b("LSUpsertCommunityMemberRanges"),a[0],a[1],a[2],!1,!0,"",a[5],a[6])},function(e){return d[2]=new c.Map(),d[2].set("community_id",a[0]),d[2].set("roles",a[1]),d[2].set("fetch_admins_only",a[2]),d[2].set("cursor",a[4]),d[2].set("source",a[6]),d[2].set("thread_key",a[7]),d[2].set("search_text",a[8]),d[2].set("thread_roles",a[9]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"fetch_community_member_list",[0,355],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.ftr(c.db.table(243).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(a[0],b.threadId)&&a[1]===b.messageId&&c.i64.eq(a[2],b.reactionFbid)}).next().then(function(b,d){var e=b.done;b=b.value;return e?c.db.table(243).add({threadId:a[0],messageId:a[1],reactionFbid:[0,0],minTimestampMs:[2147483647,4294967295],hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:[2147483647,4294967295],nextPageCursor:""}):(d=b.item,c.fe(c.db.table(243).fetch([[[d.threadId,d.messageId,d.reactionFbid,d.minTimestampMs]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})}))})},function(e){return d[1]=new c.Map(),d[1].set("thread_id",a[0]),d[1].set("message_id",a[1]),d[1].set("reaction_fbid",a[2]),d[1].set("cursor",a[3]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",[0,577],d[2],f,f,[0,0],[0,0],f,f,[0,0],f)}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(d){return c.sp(b("LSVerifyThreadRowExists"),a[0],a[2],[0,1])},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:[0,0],minMessageId:a[1],maxTimestampMs:[0,0],maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=[0,1]:(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),[0,19],d[5],f,f,[0,0],[0,0],f,f,[0,0])}]):(g=e.item,d[1]=g.timestampMs,c.ftr(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(g){var e=g.done;g.value;return e?c.seq([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:[0,0],minMessageId:a[1],maxTimestampMs:[0,0],maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=[0,1]:(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=[0,1],d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),[0,19],d[6],f,f,[0,0],[0,0],f,f,[0,0])}]):0}))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticProcessMarketplaceCallFunctionCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=[0,1],d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("action_type",a[4]),d[2].set("attachment_fbid",a[2]),d[2].set("message_id",a[0]),d[2].set("target_id",a[3]),d[2].set("thread_key",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"process_marketplace_xma_cta",[0,185],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSReportThreadViewOpen",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_stale",!1),d[0].set("client_seq_id",[0,0]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["report_thread_view_open","_",c.i64.to_string(d[1])].join(""),[0,605],d[2],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSSetProactiveWarningDismissTime",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=[0,1],d[0]=d[7])})},function(e){return d[2]=c.i64.of_float(Date.now()),d[6]=c.i64.div(d[2],[0,1e3]),d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("timestamp",d[6]),d[3].set("sync_group",d[0]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),[0,438],d[5],f,f,[0,0],[0,0],f,f,[0,0])},function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({proactiveWarningDismissTime:d[6]})})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateBotSubscription",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",c.i64.to_string(a[0])),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",[0,12],d[1])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateDraftMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({draftMessage:a[1]===""||a[1]===d?d:a[1]})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=[0,1],d[0]=d[4])})},function(e){return c.db.table(183).fetch([[[a[0]]]]).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",[0,192],d[5],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return d[2]=[0,1]}]):(g=e.item,c.seq([function(e){return d[5]=g.nextCheckTimestampMs,d[4]=c.i64.of_float(Date.now()),c.i64.neq(d[5],f)&&c.i64.ge(d[4],d[5])?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[7]=new c.Map(),d[7].set("thread_key",a[0]),d[7].set("sync_group",d[0]),d[8]=c.toJSON(d[7]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",[0,192],d[8],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return d[6]=[0,1]}]):c.resolve((c.i64.neq(d[5],f)&&g.tag!==f?d[7]=[0,2]:d[7]=[0,3],d[6]=d[7]))},function(a){return d[2]=d[6]}]))})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(b){return d[2]=["typing","_",c.i64.to_string(a[0])].join(""),c.fe(c.ftr(c.db.table(5).fetch(),function(a){return d[2]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_group_thread",a[1]),d[0].set("is_typing",a[2]),d[0].set("attribution",[0,0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),d[2],[0,3],d[1])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};f["default"]=a}),66);
__d("MWChatPIIFormScreenQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5021823607854583"}),null);
__d("MWChatPIIFormScreenQuery.graphql",["MWChatPIIFormScreenQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:c},params:{id:b("MWChatPIIFormScreenQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5936148239732069"}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:b("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserBirthdayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4679476245513562"}),null);
__d("MWChatUserBirthdayQuery.graphql",["MWChatUserBirthdayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserBirthdayQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserEmailQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5146654855396537"}),null);
__d("MWChatUserEmailQuery.graphql",["MWChatUserEmailQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:b("MWChatUserEmailQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserPhoneNumberQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5063442323698780"}),null);
__d("MWChatUserPhoneNumberQuery.graphql",["MWChatUserPhoneNumberQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserPhoneNumberQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserProfileLocationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4696875653751924"}),null);
__d("MWChatUserProfileLocationQuery.graphql",["MWChatUserProfileLocationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserProfileLocationQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4973572169363354"}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerPlatformCtaPostHandlingResponsePayload",kind:"LinkedField",name:"messenger_platform_cta_post_handling",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c},params:{id:b("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"),metadata:{},name:"GraphQLMessengerPlatformCtaPostHandlingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;";function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:this.__text.slice(1),type:"actor"})};function a(a,c){var d=a.id,e=a.prefix;e=e===void 0?"@":e;a=a.text;a=b.call(this,""+e+a,c)||this;a.__contactID=h(d);a.__prefix=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);(this.__prefix==="@"||this.__prefix==="#")&&(a.className="xv78j7m xt0e3qv");a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a){return new i(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof i}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","UserAgent","gkx","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("useLayoutEffect_SAFE_FOR_SSR")(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(c("gkx")("6934")?c("UserAgent").isPlatform("Mac OS X")?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey:!e.ctrlKey&&!e.metaKey)){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("ReStoreVaulting.bs",["ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReStoreVaulting").maybeVault(a)}function b(a){return d("ReStoreVaulting").maybeUnvault(a)}g.maybeVault=a;g.maybeUnvault=b}),98);
__d("MAWEphemeralConsts.bs",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";a=300;b=600;c=900;e=1800;f=Math.imul(d("WATimeUtils").HOUR_SECONDS,6);var h=Math.imul(d("WATimeUtils").HOUR_SECONDS,12),i=Math.imul(d("WATimeUtils").DAY_SECONDS,14),j=60,k=1e3,l=5,m=10,n=30,o=60,p=f;g.fiveMinutesInSeconds=a;g.tenMinutesInSeconds=b;g.fifteenMinutesInSeconds=c;g.thirtyMinutesInSeconds=e;g.oneHourInSeconds=d("WATimeUtils").HOUR_SECONDS;g.sixHoursInSeconds=f;g.twelveHoursInSeconds=h;g.oneDayInSeconds=d("WATimeUtils").DAY_SECONDS;g.ephemeralMaxDelectionWindowForUnseenMessage=i;g.minuteSeconds=j;g.msPerSec=k;g.fiveSeconds=l;g.tenSeconds=m;g.thirtySeconds=n;g.oneMinuteInSeconds=o;g.ephemeralReportingWindowInSeconds=p}),98);
__d("MWEncryptedUrl.bs",["invariant","Base64.bs","CancellablePromise.bs","CancellationToken.bs","Crypto.bs","Promise","bs_caml_option","bs_curry","bs_pervasives","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a,e,f){var g=i.useState(function(){if(e!==void 0)return;else return a}),j=g[1];i.useEffect(function(){var g=d("CancellationToken.bs").make(),i=0;if(e!==void 0&&a!==void 0){var k=d("CancellablePromise.bs").ignoreFailed(void 0,d("CancellablePromise.bs").then_(g,function(a){var e;switch(f.TAG){case 1:e="data:image/jpeg;base64,";break;case 6:e="data:audio/wav;base64,";break;case 7:e="data:video/mp4;base64,";break;default:e=c("bs_pervasives").failwith("Unsupported attachment for encryptedUrl")}c("bs_curry")._1(j,function(){return e+d("Base64.bs").fromArrayBuffer(a)});return b("Promise").resolve()},d("CancellablePromise.bs").then_(g,function(a){var b=a[1],e=b.slice(0,2),f=b.slice(2,14);b=b.slice(14);return d("Crypto.bs").decrypt({additionalData:c("bs_caml_option").some(e),iv:f,name:"AES-GCM",tagLength:128},a[0],b)},d("CancellablePromise.bs").then_(g,function(a){var c=d("Base64.bs").toArrayBuffer(e);c.byteLength===32||h(0,20660);return b("Promise").all([d("Crypto.bs").importKey("raw",c,{NAME:"Aes",VAL:"AES-GCM"},!1,["decrypt"]),b("Promise").resolve(a)])},d("CancellablePromise.bs").then_(g,function(a){return a.arrayBuffer()},window.fetch(a))))));c("promiseDone")(k)}else i=1;i===1&&c("bs_curry")._1(j,function(){return a});return g.cancel},[a,e,j]);return g[0]}e=128;g.useMaybeEncryptedUrl=a;g.aesGCMTagLength=e}),98);
__d("XCometMessengerAttachmentMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_attachment_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWChatAttachmentMediaPreview.bs",["fbt","CometImageCover.react","CometPressable.react","MWEncryptedUrl.bs","XCometMessengerAttachmentMediaControllerRouteBuilder","bs_belt_Option","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=String(18)+"px",k={imageContainer:{borderTop:"xzg4506",borderEnd:"xycxndf",borderBottom:"xua58t2",borderStart:"x4xrfw5",boxShadow:"x1yi6u8n",lineHeight:"x14ju556",verticalAlign:"xxymvpz",$$css:!0},standalone:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0}};function l(a){var b=a.attachmentMediaUrl,e=a.decryptionKey,f=a.previewUrl;a=a.widthStyle;f=d("MWEncryptedUrl.bs").useMaybeEncryptedUrl(f,e,{_0:{appAttribution:void 0,blurredImageUri:void 0,decryptionKey:void 0,isGIF:!1,photoFbid:void 0,previewHeight:void 0,previewUrl:"",previewWidth:void 0,title:void 0},TAG:1});if(f!==void 0)return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__mrw3CpFXi7r__JHASH__"),linkProps:{url:b},testid:void 0,xstyle:function(){return[k.standalone]},children:i.jsx(c("CometImageCover.react"),{src:f,style:{borderBottomLeftRadius:j,borderBottomRightRadius:j,borderTopLeftRadius:j,borderTopRightRadius:j,maxHeight:String(200)+"px",maxWidth:"100%",minHeight:String(24)+"px",width:a}})});else return null}b={make:l};function m(a){var b=c("bs_belt_Option").mapWithDefault(a.previewHeight,1,c("bs_caml_int64").to_int32),d=c("bs_belt_Option").mapWithDefault(a.previewWidth,1,c("bs_caml_int64").to_int32);d=d/b;a=a.previewWidth;if(a!==void 0)return(b>200?200*d:c("bs_caml_int64").to_float(a)).toString()+"px";else return"auto"}function a(a){a=a.attachment;var b=a.previewUrl;if(b!==void 0)return i.jsx("div",{className:"xzg4506 xycxndf xua58t2 x4xrfw5 x1yi6u8n x14ju556 xxymvpz x1gn5b1j x230xth x1g8br2z x1tlxs6b",children:i.jsx(l,{attachmentMediaUrl:c("XCometMessengerAttachmentMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,thread_id:c("bs_int64").to_string(a.threadKey)}),decryptionKey:a.decryptionKey,previewUrl:b,widthStyle:m(a)})});else return null}e=200;f=24;var n=!1,o=18;a=a;e=e;f=f;n=n;o=o;var p=j;b=b;var q=m;a=a;g.maxHeight=e;g.minHeight=f;g.withAppAttribution=n;g.radius=o;g.radiusStyle=p;g.MediaPreview=b;g.calculateWidthStyle=q;g.make=a}),98);
__d("xmaLayouts",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};f.XMA_LAYOUTS=a}),66);
__d("MWPSolidMessageBubble.bs",["bs_belt_Option","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={bubble:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",color:"x14ctfv",maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",zIndex:"x1vjfegm",$$css:!0},incoming_connect_bot:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_bot:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},precedes_xma:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",boxSizing:"x9f619",maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}};function a(a){var b=a.precedesXMA,e=a.children,f=a.connectBottom,g=a.connectTop,j=a.outgoing,k=a.style,l=a.xmaLayout;l=l===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:l;a=a.xstyle;b=b!==void 0?b:!1;return h.jsx("div",{className:c("stylex")(i.bubble,g?j?i.outgoing_connect_top:i.incoming_connect_top:!1,(!b||l===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT)&&f?j?i.outgoing_connect_bot:i.incoming_connect_bot:!1,l!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&b?i.precedes_xma:!1,c("bs_belt_Option").getWithDefault(a,!1)),"data-testid":void 0,role:"none",style:k,children:e})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("XCometMessengerEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWPChatEphemeralButton.bs",["fbt","CometPressable.react","LSIntEnum","MWChatEphemeralMediaTemporarySeenState.bs","MWPSolidMessageBubble.bs","MessagingAttachmentType","RavenMessagingState","XCometMessengerEphemeralMediaControllerRouteBuilder","bs_caml","bs_caml_option","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__wwWALtSTrAJ__JHASH__"),k=h._("__JHASH__pzxKpARq8gq__JHASH__");function l(a){var b=a.ariaLabel,e=a.attachment,f=a.buildURL,g=a.children;a=a.initiallyUnread;f=c("bs_curry")._1(f,{attachment_id:e.attachmentFbid,message_id:e.messageId,thread_id:c("bs_int64").to_string(e.threadKey)});e=e.ephemeralMediaState;if(e===void 0)return g;if(!(c("bs_caml").i64_eq(e,d("LSIntEnum").ofNumber(c("RavenMessagingState").UNSEEN))||c("bs_caml").i64_eq(e,d("LSIntEnum").ofNumber(c("RavenMessagingState").SEEN))&&a))return g;e={children:g,linkProps:{url:f},overlayRadius:50,testid:"view-ephemeral-media"};b!==void 0&&(e["aria-label"]=c("bs_caml_option").valFromOption(b));return i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},e))}l.displayName=l.name+" [from "+f.id+"]";b={make:l};function a(a){var b=a.backgroundColor,e=a.buildURL,f=a.attachment,g=a.connectBottom,h=a.connectTop,m=a.outgoing;a=a.renderContent;b=b!==void 0?b:"var(--wash)";e=e!==void 0?e:function(a){return c("XCometMessengerEphemeralMediaControllerRouteBuilder").buildURL(a)};var n=f.attachmentType;n=c("bs_caml").i64_eq(n,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))?j:c("bs_caml").i64_eq(n,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?k:void 0;var o=d("MWChatEphemeralMediaTemporarySeenState.bs").isSeenThisSession(c("bs_int64").to_string(f.threadKey),f.attachmentFbid),p=f.ephemeralMediaState;p=p!==void 0?c("bs_caml").i64_eq(p,d("LSIntEnum").ofNumber(c("RavenMessagingState").UNSEEN))?"unseen":c("bs_caml").i64_eq(p,d("LSIntEnum").ofNumber(c("RavenMessagingState").SEEN))&&o?"seen":"expired":"expired";return i.jsx(l,{ariaLabel:n,attachment:f,buildURL:e,initiallyUnread:o,children:i.jsx(d("MWPSolidMessageBubble.bs").make,{connectBottom:g,connectTop:h,outgoing:m,style:{backgroundColor:b},children:c("bs_curry")._4(a,f,p,o,n)})})}a.displayName=a.name+" [from "+f.id+"]";e=a;h=b;f=e;g.OpenMediaViewerAction=h;g.make=f}),98);
__d("UseCurrentDisplayMode.bs",[],(function(a,b,c,d,e,f){"use strict";a="dark";b="light";f.darkTheme=a;f.lightTheme=b}),66);
__d("MWChatEphemeralButton.bs",["ix","BaseImage_DEPRECATED.react","MWIcon.react","MWPChatEphemeralButton.bs","MWText.react","UseCurrentDisplayMode.bs","fbicon","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("fbicon")._(h("656360"),20);b={image:{verticalAlign:"x1b0d499",$$css:!0}};function k(a){var b=a.filter;a=a.icon;return i.jsx(c("BaseImage_DEPRECATED.react"),{className:"x1b0d499",src:a.src,style:{filter:b}})}k.displayName=k.name+" [from "+f.id+"]";e={make:k,styles:b};function a(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop;a=a.outgoing;var g=c("useCurrentDisplayMode")();return i.jsx(d("MWPChatEphemeralButton.bs").make,{attachment:b,connectBottom:e,connectTop:f,outgoing:a,renderContent:function(a,b,e,f){a=b==="expired"?"disabled":"primary";e=b==="unseen"?i.jsx(k,{filter:g===d("UseCurrentDisplayMode.bs").darkTheme?"invert(41%) sepia(25%) saturate(7193%) hue-rotate(202deg) brightness(106%) contrast(106%)":"invert(44%) sepia(95%) saturate(2777%) hue-rotate(182deg) brightness(102%) contrast(103%)",icon:j}):b==="expired"?i.jsx(c("MWIcon.react"),{color:"disabled",icon:j}):i.jsx(c("MWIcon.react"),{color:"primary-icon",icon:j});return i.jsx("div",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:i.jsxs(c("MWText.react"),{color:a,type:"bodyLink3",children:[e,i.jsx("span",{className:"x1i64zmx xjmsjum",children:f!==void 0?f:null})]})})}})}a.displayName=a.name+" [from "+f.id+"]";h=a;b=e;f=h;g.CustomColorIcon=b;g.make=f}),98);
__d("MWChatImageInsetShadow.bs",["bs_caml_splice_call","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={imageShadow:{borderTop:"xa1me7u",borderEnd:"x13z1dwb",borderBottom:"xpkj8wx",borderStart:"x1g8y7dm",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0}},j=[];function a(a){a=a.xstyle;var b=a!==void 0?a:j;a=h.useMemo(function(){return c("bs_caml_splice_call").spliceApply(c("stylex"),[[i.imageShadow].concat(b)])},[b]);return h.jsx("div",{className:a})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.empty=j;g.make=b}),98);
__d("MWChatComposerVoiceIndicator.bs",["fbt","CurrentUser","MDSTextPairing.react","MWText.react","getTopMostRoute","react","useCometRouterState"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.forceShown_TEST_ONLY;a=a!==void 0?a:!1;var b=c("useCometRouterState")(),d;if(b==null)d=!1;else{b=c("getTopMostRoute")(b).tracePolicy;d=b!==void 0?b.startsWith("comet.page.admin")||b.startsWith("comet.group.admin"):!1}b=c("CurrentUser").getName();b=h._("__JHASH__moy48BoqFvP__JHASH__",[h._param("full name",i.jsx(c("MWText.react"),{type:"meta2",children:b}))]);if(d||a)return i.jsx("div",{className:"xzg4506 xi81zsa x14vqqas xkrivgy xat24cr x1gryazu xyinxu5 xho0xa1 xs9asl8 x1vobaek",children:i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"body4",children:b}),level:4,textAlign:"center"})});else return null}b=a;g.make=b}),98);
__d("MWChatHotlikeEmitter.bs",[],(function(a,b,c,d,e,f,g){"use strict";var h={contents:0};function a(){var a=new Map();return{notify:function(b){a.forEach(function(a,c,d){return a(b)})},subscribe:function(b){var c=h.contents;h.contents=h.contents+1|0;a.set(c,b);return function(){return a["delete"](c)}}}}b=h;c=a;g.i=b;g.createEmitter=c}),98);
__d("MWComposerDisclosureContainer.react",["gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={border:{borderTop:"1px solid var(--media-inner-border)"},inner:{margin:"auto",maxWidth:450},inner_new_layout_for_horizontal_buttons:{margin:"auto",maxWidth:1200},root:{color:"var(--secondary-text)",marginTop:"12px",padding:"14px 13px 5px 13px",textAlign:"center"},root_new_layout_for_horizontal_buttons:{borderTop:"1px solid var(--media-inner-border)",color:"var(--secondary-text)",marginTop:"12px",padding:"28px 13px 13px 13px",textAlign:"center"}};function a(a){var b=a.children;a=a.testid;return h.jsx("div",{"data-testid":void 0,style:c("gkx")("6189")?i.root_new_layout_for_horizontal_buttons:i.root,children:h.jsx("div",{style:c("gkx")("6189")?i.inner_new_layout_for_horizontal_buttons:i.inner,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWUseAriaDescribedByForComposer.bs",["fbt","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","intlList","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:a.contactId,tl:0}))})},[b,JSON.stringify(a.threadKey)]));return i.useMemo(function(){var b=a.threadName;if(b!==void 0)return h._("__JHASH__AZYBx6Ry0lI__JHASH__",[h._param("name of conversation",b)]).toString();var d=[];f.forEach(function(a){if(a!==void 0&&c("bs_caml").i64_neq(a.id,e)){d.push(a.name);return}});b=c("intlList")(d,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__a-kg7czmDb1__JHASH__",[h._param("participant list",b)]).toString()},[JSON.stringify(a.threadKey),JSON.stringify(e)])}b=a;g.useHook=b}),98);
__d("MWV2ComposerRoundedCorners.bs",["Locale","react","stylex","useUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={roundedCornerBottomRight:{bottom:"x1ey2m1c",end:"xds687c",fill:"x1g6sh6t",pointerEvents:"x47corl",position:"x10l6tqk",$$css:!0},roundedCornerRtl:{transform:"xpk2tj9",$$css:!0},roundedCornerTopRight:{end:"xds687c",fill:"x1g6sh6t",pointerEvents:"x47corl",position:"x10l6tqk",top:"x13vifvy",$$css:!0},svg:{display:"x1lliihq",$$css:!0}};function a(a){a=c("useUniqueID")();return h.jsx("div",{className:c("stylex")(i.roundedCornerTopRight,d("Locale").isRTL()?i.roundedCornerRtl:!1),children:h.jsxs("svg",{className:"x1lliihq",height:"18px",width:"18px",children:[h.jsx("defs",{children:h.jsxs("mask",{id:a,children:[h.jsx("rect",{fill:"white",height:"36",width:"36",x:"-18",y:"0"}),h.jsx("circle",{cx:"0",cy:"18",fill:"black",r:"18"})]})}),h.jsx("rect",{height:"18",mask:"url(#"+(a+")"),width:"18",x:"0",y:"0"})]})})}a.displayName=a.name+" [from "+f.id+"]";e={make:a};function b(a){a=c("useUniqueID")();return h.jsx("div",{className:c("stylex")(i.roundedCornerBottomRight,d("Locale").isRTL()?i.roundedCornerRtl:!1),children:h.jsxs("svg",{className:"x1lliihq",height:"18px",width:"18px",children:[h.jsx("defs",{children:h.jsxs("mask",{id:a,children:[h.jsx("rect",{fill:"white",height:"36",width:"36",x:"-18",y:"0"}),h.jsx("circle",{cx:"0",cy:"0",fill:"black",r:"18"})]})}),h.jsx("rect",{height:"18",mask:"url(#"+(a+")"),width:"18",x:"0",y:"0"})]})})}b.displayName=b.name+" [from "+f.id+"]";a={make:b};g.TopRight=e;g.BottomRight=a}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWChatComposerMentionsViewItem.react",["CometIcon.react","CometProfilePhoto.react","CometSearchMentionsBaseViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=d.handle;e=d.key;e=d.label;var f=d.rawData,g=f.icon,i=f.photoURI;f=f.subtitle;var j;i!=null?j=h.jsx(c("CometProfilePhoto.react"),{size:28,source:{uri:i}}):g!=null&&(j=h.jsx(c("CometIcon.react"),{color:"primary",disabled:!1,icon:g}));return h.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:d,itemStartContent:j,testid:void 0,children:h.jsx(c("TetraTextPairing.react"),{body:e,bodyLineLimit:1,level:3,meta:f,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","MWChatComposerMentionsUtils","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e,f,g){var i=a.query,j=[];b.forEach(function(a){var b=a.actualName,c=a.contactId,e=a.nickname,f=a.profilePictureUrl;a=a.secondaryName;var g=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,i)?g="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,i)?g="name":e!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(e,i)&&(g="nickname");if(g!=null&&f!=null){var h;j.push({decorType:"regular",handle:(h=a)!=null?h:g==="nickname"?(h=e)!=null?h:b:b,key:c+" "+g,label:b,rawData:{photoURI:f,source:g,subtitle:(h=a)!=null?h:e},type:"entry"})}});if(c("gkx")("1608686")){b=h._("__JHASH__ovEnf-Gks1s__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,i)){var k=h._("__JHASH__oEf5vzwfdeB__JHASH__").toString();j.push({decorType:"regular",handle:b,key:""+e,label:b,rawData:{source:"all",subtitle:k},type:"entry"})}b=h._("__JHASH__pCjH3XwrsJ-__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,i)){k=h._("__JHASH__l7GTPV1uQCP__JHASH__").toString();j.push({decorType:"regular",handle:b,key:e+"-active",label:b,rawData:{source:"all",subtitle:k},type:"entry"})}}j.length>g&&(j=j.slice(0,g));j.length<g&&f&&f(i,g-j.length);return{entries:j,params:a}}g.fetchCacheComposerMentionsTypeahead=a}),98);
__d("MWChatComposerMentionsTypeaheadDataSource",["CurrentUser","MWChatComposerTypeaheadUtil","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h=6;a=function(){function a(a,b,d){this.$1=[];this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()});this.$2=b;this.$3=(a=d)!=null?a:null}var e=a.prototype;e.bootstrap=function(){return};e.fetchCache=function(a){return d("MWChatComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(a,this.$1,this.$2,this.$3,h)};e.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();g["default"]=a}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["MWChatComposerMentionsTypeaheadDataSource","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.participants,d=a.threadFBID,e=a.triggerParticipantsSearch;a=h(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(b,d,e),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[b,d,e]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a}),98);
__d("IXTProactiveWarningFollowUpActionsCell.react",["TetraButton.react","react","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:a.context,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"}),d=b[0],e=function(){a.onClose()};return h.jsx(c("TetraButton.react"),{label:a.label,onPress:function(){a.setPWDismissTime(),a.onPress(),d({flowCallbacks:{onClose:e}})},reduceEmphasis:!1,type:"secondary"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJoinChannelComposerPlaceholder.react",["fbt","$InternalEnum","CometGlimmer.react","MDSColumn.react","MDSColumnItem.react","MWText.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonGlimmer:{borderTopStartRadius:"xi112ho",borderTopEndRadius:"x17zwfj4",borderBottomEndRadius:"x585lrc",borderBottomStartRadius:"x1403ito",height:"x10w6t97",$$css:!0},root:{borderTop:"xzg4506",$$css:!0}},k=b("$InternalEnum").Mirrored(["Broadcast","Social"]);function a(a){var b=a.channelType;a=function(){switch(b){case k.Broadcast:return h._("__JHASH__LGuHuzgqd6L__JHASH__");case k.Social:if(c("gkx")("3187"))return h._("__JHASH__8LwBLF7_aVr__JHASH__");else return h._("__JHASH__o2j5qK5hFlr__JHASH__")}}();return i.jsxs(c("MDSColumn.react"),{paddingHorizontal:16,paddingVertical:16,spacing:16,xstyle:j.root,children:[i.jsx(c("MDSColumnItem.react"),{children:i.jsx(c("MWText.react"),{align:"center",type:"meta3",children:a})}),i.jsx(c("MDSColumnItem.react"),{children:i.jsx(c("CometGlimmer.react"),{index:0,xstyle:j.buttonGlimmer})})]})}a.displayName=a.name+" [from "+f.id+"]";g.ChannelType=k;g.MWJoinChannelComposerPlaceholder=a}),98);
__d("MWInboxThreadMessagesSpinner.react",["CometHeroHoldTrigger.react","CometProgressRingIndeterminate.react","react","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useState;function a(){var a=c("useIsMountedRef")(),b=j(function(){return!1}),d=b[0],e=b[1];b=i(function(){return{onHidden:function(){a.current&&e(!1)},onVisible:function(){a.current&&e(!0)}}},[a,e]);b=c("useVisibilityObserver")(b);return h.jsxs(h.Fragment,{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatSpinner",hold:d}),h.jsx("div",{className:"x6s0dn4 x78zum5 x1r8uery x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a xcrg951",ref:b,children:d?h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}):h.jsx("div",{className:"xcrg951 xxk0z11 xh8yej3"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMBotStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__K0E4NNoKNtJ__JHASH__");b=h._("__JHASH__sbctGC-UNw4__JHASH__");g.addedToChatLegend=a;g.notAddedToChatLegend=b}),98);
__d("useCommunityMembers",["I64","Int64Hooks","LSClearCommunityMembersAndRange","LSFactory","LSIntEnum","LSIssueCommunityMemberListFetch","LSVec","MWCMThreadTypes.react","ReQL","ReQLSuspense","asyncToGeneratorRuntime","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("community_members_ranges_v2__generated")).getKeyRange(a)},[b,a])}function e(a){a===void 0&&(a=7);var b=c("useReStore")();return h(function(){return b.runInTransaction(function(b){return c("LSClearCommunityMembersAndRange")(d("LSIntEnum").ofNumber(a),c("LSFactory")(b))},"readwrite")},[b,a])}function f(a,e,f,g){f===void 0&&(f=d("I64").of_int32(7));g===void 0&&(g=!1);var h=c("useReStore")(),i=e.threadKey,j=e.threadType,k=c("LSVec").make(g?[d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(2)]:[d("LSIntEnum").ofNumber(0)]);d("Int64Hooks").useEffectInt64(function(){var e=d("MWCMThreadTypes.react").isBroadcastThread(j)?[d("LSIntEnum").ofNumber(0)]:[],g=function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield h.runInTransaction(function(b){return c("LSIssueCommunityMemberListFetch")(a,k,!1,!1,"","",f,d("I64").equal(f,d("I64").of_int32(0))?void 0:i,void 0,c("LSVec").make(e),c("LSFactory")(b))},"readwrite")});return function(){return g.apply(this,arguments)}}();g()},[h,a,i,j,g])}g.useCommunityMembersRanges=a;g.useClearMemberList=e;g.useFetchCommunityMembers=f}),98);
__d("MWEditThreadNameDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.thread;var d=h.useRef(null);return h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(){},thread:a},dialogResource:c("JSResource")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.bs"),children:function(a){return c("bs_curry")._2(b,a,d)}})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWLSInThreadBanner.bs",["ReQL.bs","ReQLSuspense","bs_belt_Array","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";b={bannerCtaId:void 0,bannerCtaType:void 0,bannerId:c("bs_caml_int64").zero,chevronCtaId:void 0,chevronCtaType:void 0,cta1Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Id:void 0,cta2Title:void 0,cta2Type:void 0,heading:void 0,iconUrl:void 0,iconUrlExpirationTimestampMs:void 0,iconUrlFallback:void 0,infoLabel:void 0,threadKey:c("bs_caml_int64").zero,timestampMs:c("bs_caml_int64").zero,titleSectionOne:void 0,titleSectionTwo:void 0};e={actionContentBlob:void 0,bannerId:c("bs_caml_int64").zero,contextId:void 0,ctaId:c("bs_caml_int64").zero,ctaTitle:"",ctaType:"fallback",deeplinkUrl:void 0,threadKey:c("bs_caml_int64").zero,webviewUrl:void 0};f=[];f={banner:b,bannerAction:void 0,leftButton:void 0,overflowMenuActions:f,rightButton:void 0};function a(a,b){return d("ReQL.bs").map(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("in_thread_banner")),{hd:b,tl:0}),d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("in_thread_banner_overflow_menu")),{hd:b,tl:0})),function(b){var e=b[1];b=b[0];var f=new Map(d("ReQLSuspense").toArray(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("in_thread_banner_ctas")),{hd:b.bannerId,tl:0}),function(a){return[c("bs_int64").to_string(a.ctaId),a]}))),g=function(a){return c("bs_caml_option").nullable_to_opt(f.get(c("bs_int64").to_string(a)))};return{banner:b,bannerAction:c("bs_belt_Option").flatMap(b.bannerCtaId,g),leftButton:c("bs_belt_Option").flatMap(b.cta1Id,g),overflowMenuActions:e!==void 0?c("bs_belt_Array").keepMap([e.cta1Id,e.cta2Id,e.cta3Id,e.cta4Id,e.cta5Id],function(a){return c("bs_belt_Option").flatMap(a,g)}):[],rightButton:c("bs_belt_Option").flatMap(b.cta2Id,g)}})}var h={bannerId:c("bs_caml_int64").zero,cta1Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Id:void 0,cta2Title:void 0,cta2Type:void 0,cta3Id:void 0,cta3Title:void 0,cta3Type:void 0,cta4Id:void 0,cta4Title:void 0,cta4Type:void 0,cta5Id:void 0,cta5Title:void 0,cta5Type:void 0,threadKey:c("bs_caml_int64").zero};b=b;e=e;h=h;f=f;a=a;g.emptyBanner=b;g.emptyCta=e;g.emptyMenu=h;g.empty=f;g.getInThread=a}),98);
__d("MWLSLogMessageClick.bs",["LSIntEnum","MWChatMessageId.bs","UserAgentData","bs_caml_int64","bs_caml_option","bs_int64","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=e!==void 0?c("bs_caml_option").valFromOption(e):void 0;c("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWLSLogMessageClick.bs").onReady(function(e){e.log(function(){var e={};g!==void 0&&(e.action=g);e.browserName=c("UserAgentData").browserName;var f=d("MWChatMessageId.bs").getThreadId(a),h=d("MWChatMessageId.bs").getMessageId(a),i=d("MWChatMessageId.bs").getTimestamp(a);return{click:{category:c("bs_caml_int64").to_int32(d("LSIntEnum").ofNumber(2))},click_target:{type:c("bs_caml_int64").to_int32(b)},extra:JSON.stringify(e),message:{id:h!==void 0?h:"",sender_id:void 0,sent_time:i!==void 0?c("bs_caml_int64").to_float(i):void 0},thread:{id:f!==void 0?c("bs_int64").to_string(f):"",key:void 0,type:void 0},xma:void 0}})})}g.logMessageClicked=a}),98);
__d("MWVersion.bs",["bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";a=[0,2];g.v1=c("bs_caml_int64").one;g.v2=a}),98);
__d("MWLSLogSend.bs",["CometHeroLogging","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction.bs","bs_caml","bs_int64","bs_js_dict"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());d("MWChatInteraction.bs").set(b,f);f=e.initiatingSource;f!==void 0&&(c("bs_caml").i64_eq(f,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT))?a.addMetadata("entrypoint","chat"):c("bs_caml").i64_eq(f,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",c("bs_int64").to_string(e.mwVersion));a.addMetadata("is_dual_send",e.isDualSend?"true":"false");a.addMetadata("is_message_request",e.isMessageRequest?"true":"false");a.addMetadata("thread_type",c("bs_int64").to_string(e.threadType));return a.onComplete(function(){return c("bs_js_dict").unsafeDeleteKey(d("MWChatInteraction.bs").interactions,b)})}g.logSentHeroInteraction=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("I64").to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("MWChatBlockQuote.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("blockquote",{className:"xzrp4sq x26u7qi x7g060r x1gslohp x11i5rnm x12nagc x1mh8g0r x1pi30zi x1swvt13 x126k92a",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}});f["default"]=a}),66);
__d("MWChatTextFormatting",["$InternalEnum","MWChatBlockQuote.react","MessengerFormattingConfig","TetraText.react","UnicodeUtils","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]);function j(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case i.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case i.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case i.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case i.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case i.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case i.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case i.CodeBlock:d=function(a){var b;return(b=a[4])!=null?b:a[5]};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var k=[i.CodeBlock,i.InlineCode,i.BlockQuote,i.InlineQuote,i.Bold,i.Italics,i.StrikeThrough];function a(a,b){switch(b.format){case i.Bold:return h.jsx("b",{children:b.text});case i.Italics:return h.jsx("i",{children:b.text});case i.StrikeThrough:return h.jsx("strike",{children:b.text});case i.CodeBlock:return h.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:b.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:b.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,b){switch(b.format){case i.Bold:return h.jsx("b",{children:b.text});case i.Italics:return h.jsx("i",{children:b.text});case i.StrikeThrough:return h.jsx("strike",{children:b.text});case i.CodeBlock:return h.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:b.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:b.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=[];k.forEach(function(e){var f=j(e),g=f.getCleanText,h=f.hasClosingTag,i=f.regExp,k=f.tagIndex;f=f.validator;var l;if(!f(a))return;f=function(){if(l==null)return"break";var f=d("UnicodeUtils").substr(a,0,l.index);f=f.length-d("UnicodeUtils").strlen(f);var i=l.index-f,j=c("gkx")("188")?d("UnicodeUtils").strlen(l[0]):l[0].length;h&&(i+=l[k].length,j-=l[k].length);f=function(a){var b=i+j,c=a.offset+a.length;return b>a.offset&&i<c};var m=g(l);if(!b.find(f)){if(b.length>0){f=b[b.length-1];if(f.entity.format===e&&f.offset+f.length+1===i){f.entity.text+="\n"+m;f.length+=j+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:e,text:m},length:j,offset:i})}};_loop:while((l=i.exec(a))!=null){var m=f();switch(m){case"break":break _loop;case"continue":continue}}});return b}g.MessengerTextFormattingEntity=i;g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=l}),98);
__d("MWChatReplyText.bs",["fbt","CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform.bs","bs_caml_option","bs_curry","cr:2382","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var e=a.transformEmoticons,f=a.isHotLike,g=a.ranges;a=a.text;e=e!==void 0?e:!0;f=f!==void 0?f:!1;var j={};j.MessengerTextFormatting=[d("MWChatTextFormatting").replyRenderer];a=b("cr:2382")==null?a:c("bs_curry")._1(b("cr:2382").unvault,a);var k=h._("__JHASH__HyRDoZftJu4__JHASH__").toString();f=f?k:a;k={maxLength:120,maxLines:2,renderers:j,text:f,transforms:e?d("MWChatTextTransform.bs").epdTextTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1};g!==void 0&&(k.ranges=c("bs_caml_option").valFromOption(g));a=i.jsx(c("CometTextWithEntities.react"),babelHelpers["extends"]({},k));return i.jsx("div",{className:"xi81zsa",dir:"auto",children:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.make=e}),98);
__d("MWChatColors.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={incoming:{color:"xzsf02u",$$css:!0},incomingForwarded:{color:"x12scifz",$$css:!0},outgoing:{color:"x14ctfv",$$css:!0},outgoingForwarded:{color:"xkxfvhb",$$css:!0},replyToOriginal:{backgroundColor:"xmd5bsh",color:"xi81zsa",$$css:!0}};b={action:{alignContent:"xc26acl",alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",display:"x78zum5",flexShrink:"x2lah0s",height:"xxk0z11",justifyContent:"xl56j7k",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",position:"x1n2onr6",textAlign:"x2b8uid",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0},icon:{height:"x17rw0jw",opacity:"x197sbye",width:"x17z2i9w",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},svgFill:{fill:"x148u3ch",$$css:!0},svgStroke:{fill:"xbh8q5q",stroke:"xmb71p3",$$css:!0}};c={styles:b};g.styles=a;g.MessageActions=c}),98);
__d("MWChatForwardAction.bs",["CometPressable.react","LSIntEnum","MWChatColors.bs","MWLSLogMessageClick.bs","MWTooltip.react","ODS","emptyFunction","gkx","react","stylex","useMWChatForward"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={icon:{opacity:"x1hc1fzr",$$css:!0}},j=h.jsx("svg",{"aria-hidden":!0,height:"22px",viewBox:"0 0 36 36",width:"22px",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),d:"M22.001,11.0081937 L19,11.0081937 L19,23.007676 C19,23.5599911 18.5525,24.0073413 18,24.0073413 C17.448,24.0073413 17,23.5599911 17,23.007676 L17,11.0081937 L13.998,11.0081937 C13.199,11.0081937 12.7225,10.1169921 13.166,9.45171483 L17.1675,3.44572576 C17.5635,2.85142475 18.436,2.85142475 18.832,3.44572576 L22.8335,9.45171483 C23.2765,10.1169921 22.8,11.0081937 22.001,11.0081937 M24,31 L12,31 C9.791,31 8,29.2105991 8,27.0028383 L8,18.0103492 C8,15.8030883 9.791,14.0131875 12,14.0131875 L14,14.0131875 C14.5525,14.0131875 15,14.4610376 15,15.0128528 C15,15.5646681 14.5525,16.0120183 14,16.0120183 L12,16.0120183 C10.8955,16.0120183 10,16.9067187 10,18.0103492 L10,27.0028383 C10,28.1064688 10.8955,29.0011693 12,29.0011693 L24,29.0011693 C25.1045,29.0011693 26,28.1064688 26,27.0028383 L26,18.0103492 C26,16.9067187 25.1045,16.0120183 24,16.0120183 L22,16.0120183 C21.448,16.0120183 21,15.5646681 21,15.0128528 C21,14.4610376 21.448,14.0131875 22,14.0131875 L24,14.0131875 C26.2095,14.0131875 28,15.8030883 28,18.0103492 L28,27.0028383 C28,29.2105991 26.2095,31 24,31"})]})});function k(a,b){d("ODS").bumpEntityKey(3185,"mwchat_actions","forward"),d("MWLSLogMessageClick.bs").logMessageClicked(a,d("LSIntEnum").ofNumber(40)),b==null?void 0:b.onClick()}function a(a){var b=a.dropToggle;b=b===void 0?!1:b;var e=a.forwardDialogType;e=e===void 0?"open_":e;var f=a.label,g=a.messageID;a=a.onForward;var l=c("useMWChatForward")({dropToggle:b,forwardDialogType:e,messageID:g,onClose:c("emptyFunction"),onSend:a});return h.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:f,children:h.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.action),children:h.jsx(c("CometPressable.react"),{"aria-label":f,expanding:!0,onPress:function(){return k(g,l)},overlayDisabled:!0,role:c("gkx")("1224637")?"menuitem":"button",testid:void 0,children:h.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.icon,i.icon),children:j})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.sharedStyles=d("MWChatColors.bs").MessageActions.styles;g.icon=j;g.onOpenForwardDialog=k;g.make=b}),98);
__d("MWChatMessageUnreadIndicator.react",["fbt","MDSRow.react","MDSRowItem.react","MWPActor.bs","MWText.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=20,k={line:{backgroundColor:"x1iuwi03",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function a(a){var b=a.message,e=c("useReStore")(),f=d("MWPActor.bs").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableDescending(e.table("messages").index("messageDisplayOrder")).getKeyRange(b.threadKey).take(j).bounds({gte:d("ReQL").key(b.primarySortKey,b.secondarySortKey,b.messageId)}).filter(function(a){return a.senderId!==f&&!a.isAdminMessage})},[e,f,b.primarySortKey,b.secondarySortKey,b.messageId,b.threadKey]).length;var g=h._("__JHASH__dAK4xN4bf5e__JHASH__");return a>1?i.jsxs(c("MDSRow.react"),{"aria-label":g,paddingVertical:12,spacingVertical:0,children:[i.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:i.jsx(i.Fragment,{})}),i.jsx(c("MDSRowItem.react"),{children:i.jsx(c("MWText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:g})}),i.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:i.jsx(i.Fragment,{})})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJumpToMostRecentMessageButton.bs",["fbt","CometPressable.react","CurrentUser","MWIcon.react","MWPColorUtils.bs","MWPThreadTheme.bs","ODS","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={circleButton:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"xurzqwv",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}};function a(a){var b=a.onPress;a=d("MWPThreadTheme.bs").useHook();var e=a.threadTheme;return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__mZcaI1xn9AA__JHASH__"),onPress:function(){c("bs_curry")._1(b);var a=c("CurrentUser").getAppID();a=a==null?"unknown":a;d("ODS").bumpEntityKey(3185,"mw_jump_to_bottom","app_id."+a)},xstyle:function(){return[j.circleButton]},children:i.jsx(c("MWIcon.react"),{icon:function(){var a=d("MWPColorUtils.bs").int64ToHex(e.fallbackColor);return i.jsx("svg",{fill:"none",height:"18",viewBox:"7 7 22 22",width:"18",children:i.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})}})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatSingleSeenHead.react",["CometGlimmer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.altText,d=a.head;a=a.xstyle;return d.imageSrc===""?h.jsx(c("CometGlimmer.react"),{index:1,xstyle:i.profilePlaceholder}):h.jsx("img",{alt:b,className:c("stylex")(i.image,a),"data-testid":void 0,height:"14px",src:d.imageSrc,width:"14px"})}a.displayName=a.name+" [from "+f.id+"]";var i={image:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",userSelect:"x87ps6o",verticalAlign:"x11njtxf",$$css:!0},profilePlaceholder:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",verticalAlign:"x3ajldb",width:"x6jxa94",$$css:!0}};g["default"]=a}),98);
__d("MWTheme.bs",["bs_caml_exceptions","bs_caml_int64","cr:1581959","react"],(function(a,b,c,d,e,f,g){"use strict";var h=c("react");function a(a){if(a.TAG===0)return!1;else return!0}var i=c("bs_caml_exceptions").create("MWTheme.NotEnoughColorsForAGradient");function d(a,b){a=a!==void 0?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function e(a){if(a.TAG===0)return a._0.color;else return a._0.colors[0]}function f(a){if(a.TAG===0)return a._0.color;a=a._0.colors;return a[a.length-1|0]}function j(a){if(a.TAG===0)return a._0.color;else return a._0.fallback}function k(a,b,c){var d=a!==void 0?a:0;a=b!==void 0?b:100;b=c.length;if(b!==1){if(b!==0){var e=[];b=c.length;var f=a-d,g=f/(b-1|0);d!==0&&e.push(c[0]+" 0%");c.forEach(function(a,b){b=(d+b*g).toFixed(2);e.push(""+a+" "+b+"%")});a!==100&&e.push(c[b-1|0]+" 100%");f=e.join(", ");return"linear-gradient("+f+")"}throw{Error:new Error(),RE_EXN_ID:i}}throw{Error:new Error(),RE_EXN_ID:i}}function l(a){return"#"+a.slice(2)}function m(a){a=c("bs_caml_int64").to_int32(a);var b=(a&16711680)>>>16,d=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(d)+e(a)))}var n=h.createContext({clearTheme:function(){},setTheme:function(){},theme:(b=b("cr:1581959")).defaultTheme});function o(){return h.useContext(n).theme}function p(){var a=h.useContext(n),b=a.clearTheme;h.useEffect(function(){return b},[b]);return[a.setTheme,b]}function q(){}function r(){}function s(a){var b=a.setTheme,c=a.clearTheme,d=a.children;a=a.theme;b=b!==void 0?b:q;c=c!==void 0?c:r;c={clearTheme:c,setTheme:b,theme:a};return h.createElement(n.Provider,{children:d,value:c})}s=s;g.isGradient=a;g.NotEnoughColorsForAGradient=i;g.lighten=d;g.top=e;g.bottom=f;g.middle=j;g.gradient=k;g.aRGBtoHex=l;g.intToHex=m;g.$WorkChatDefaultTheme$OR$MessengerDefaultTheme$requireCond=b;g.DefaultTheme=b;g.defaultTheme=b.defaultTheme;g.context=n;g.useTheme=o;g.usePreview=p;g.defaultSetTheme=q;g.defaultClearTheme=r;g.provider=s}),34);
__d("MDSForwardSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M30.22 19.497l-10.5 7.198c-1.163.797-2.722-.06-2.722-1.497v-3.204H8.001A2 2 0 016 19.996v-3.997A2 2 0 018 14h8.998v-3.198c0-1.437 1.559-2.294 2.722-1.497l10.5 7.197c1.04.713 1.04 2.283 0 2.995z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("memoizeByIdentity",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();return function(c){b.has(c)||b.set(c,a.call(this,c));return b.get(c)}}f["default"]=a}),66);
__d("MWPMessageAuthor.bs",["LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExists","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_obj","bs_caml_option","bs_int64","memoizeByIdentity","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext({contact:void 0,nickname:void 0});function j(a){var b=a.children,e=a.contactId,f=c("useReStore")(),g=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("contacts")),{hd:e,tl:0})},[f,JSON.stringify(e)]));a=h.useMemo(function(){var a=g!==void 0?g.name:void 0;return{contact:g,nickname:a}},[g]);h.useEffect(function(){c("promiseDone")(f.runInTransaction(function(a){return c("LSVerifyContactRowExists")(e,d("LSIntEnum").ofNumber(c("LSContactIdType").FBID),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,!1,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(a))},"readwrite"))},[f,JSON.stringify(e)]);return h.createElement(i.Provider,{children:b,value:a})}f={make:j};function k(a){var b=a.children,c=a.contact,d=a.nickname;a=h.useMemo(function(){return{contact:c,nickname:d}},[c,d]);return h.createElement(i.Provider,{children:b,value:a})}var l={make:k};function a(a){var b=a.children,e=a.contactId,f=a.threadKey,g=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:e,tl:0})},[e]);var i=c("bs_belt_Option").flatMap(d("ReQLSuspense").useFirst(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("participants")),{hd:f,tl:{hd:e,tl:0}}),c("memoizeByIdentity")(function(a){return a.nickname}))},[e,f]),function(a){return a}),l=d("ReQLSuspense").useFirst(function(){return d("ReQL.bs").take(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("threads")),{hd:f,tl:0}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").take(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("community_folders")),{hd:a.parentThreadKey,tl:0}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").take(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contextual_profile_v1")),{hd:e,tl:{hd:a.folderId,tl:0}}),c("memoizeByIdentity")(function(a){return a.profileName})),1))}),1))}),1)},[c("bs_int64").to_string(f),c("bs_int64").to_string(e)]);if(l!==void 0){l=c("bs_caml_option").valFromOption(l);if(l!==void 0){l=c("bs_caml_option").valFromOption(l);if(l!==void 0){l=c("bs_caml_option").valFromOption(l);l=l!==void 0?l:void 0}else l=void 0}else l=void 0}else l=i!==void 0?i:void 0;if(a!==void 0)if(c("bs_caml").i64_ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT)))return h.jsx(k,{contact:a,nickname:l,children:b});else return h.jsx(j,{contactId:e,children:b});else return h.jsx(j,{contactId:e,children:b})}a=h.memo(a,function(a,b){if(!(a==null)&&!(b==null)&&c("bs_caml_obj").caml_equal(a.contactId,b.contactId)&&c("bs_caml_obj").caml_equal(a.threadKey,b.threadKey))return a.children===b.children;else return!1});function b(a){a=h.useContext(i);var b=a.nickname;a=a.contact;if(b!==void 0)b=b;else if(a!==void 0){var c=a.firstName;b=c!==void 0?c:a.name}else b=void 0;return[b,a]}function e(a){a=h.useContext(i);a=a.contact;var b=a!==void 0?a.name:void 0;return[b,a]}var m=i;f=f;l=l;a=a;b=b;e=e;g.ctx=m;g.MissingContactProvider=f;g.Provider=l;g.make=a;g.useAuthorName=b;g.useAuthorFullName=e}),98);
__d("MWPMessageHasAttachment.bs",["LSIntEnum","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!c("bs_int64").equal(a.displayedContentTypes,d("LSIntEnum").ofNumber(1))&&!c("bs_int64").equal(a.displayedContentTypes,c("bs_caml_int64").add(d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(8192)))&&!c("bs_int64").equal(a.displayedContentTypes,d("LSIntEnum").ofNumber(128))&&!c("bs_int64").equal(a.displayedContentTypes,c("bs_caml_int64").add(d("LSIntEnum").ofNumber(128),d("LSIntEnum").ofNumber(8192))))return!c("bs_int64").equal(a.displayedContentTypes,c("bs_caml_int64").add(d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(512)));else return!1}b=a;g.make=b}),98);
__d("MWPAudioPlayer.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","CometPressable.react","MWConsole","Promise","bs_caml_option","bs_curry","cancelAnimationFrame","formatDurationSeconds","react","requestAnimationFrameAcrossTransitions","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");d=56;var j={common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",$$css:!0},playbackButtonContainer:{marginStart:"x1mnrxsn",marginEnd:"x1w0mnb",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",":after_borderTopColor":"xzackxk",":after_borderEndColor":"x1vvs6jl",":after_borderBottomColor":"x1p8yz0e",":after_borderStartColor":"x1e72984",":after_borderTopStartRadius":"x1qxsuse",":after_borderTopEndRadius":"x1pwr4jm",":after_borderBottomEndRadius":"xgt0i0e",":after_borderBottomStartRadius":"xhiudvi",":after_borderTopStyle":"x1ikrcl6",":after_borderEndStyle":"xrlr1mf",":after_borderBottomStyle":"x13m8g0b",":after_borderStartStyle":"x1wea3ti",":after_borderTopWidth":"x1pdxsal",":after_borderEndWidth":"xgyc039",":after_borderBottomWidth":"xza5l1d",":after_borderStartWidth":"xcavrb8",":after_bottom":"x1p4c0ny",":after_content":"x5l10my",":after_display":"xieozyd",":after_end":"x14rr3af",":after_pointerEvents":"x1kx6eu5",":after_position":"x1x824oc",":after_start":"x1fefmpr",":after_top":"x1a3valx",$$css:!0}},k=h._("__JHASH__KhMMxBdqg3x__JHASH__"),l=h._("__JHASH__2rBFW-RfRDV__JHASH__"),m=h._("__JHASH__IubwmxlTNhe__JHASH__");function a(a){a=a.color;return i.jsx("svg",{height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}a.displayName=a.name+" [from "+f.id+"]";a={make:a};function e(a){a=a.color;return i.jsx("svg",{height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("rect",{fill:a,height:"18",rx:"2",width:"18",x:"9",y:"9"})})}e.displayName=e.name+" [from "+f.id+"]";e={make:e};function n(a){a=a.color;return i.jsx("svg",{height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}n.displayName=n.name+" [from "+f.id+"]";n={make:n};function o(a){var b=a.currentTime;a=a.duration;return i.jsx("div",{"aria-label":h._("__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":b,role:"slider",style:{position:"absolute"},tabIndex:0})}o.displayName=o.name+" [from "+f.id+"]";o={make:o};function p(a){var b=a.audioEl;a=a.children;var d=i.useCallback(function(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5},[]),e=i.useCallback(function(){var a=b.current;if(a===void 0)return;a=c("bs_caml_option").valFromOption(a);var e=a.duration;a.currentTime=a.currentTime-c("bs_curry")._1(d,e)},[d]),f=i.useCallback(function(){var a=b.current;if(a===void 0)return;a=c("bs_caml_option").valFromOption(a);var e=a.duration;a.currentTime=a.currentTime+c("bs_curry")._1(d,e)},[d]),g=i.useCallback(function(){var a=b.current;if(a!==void 0){c("bs_caml_option").valFromOption(a).currentTime=0;return}},[]),j=i.useCallback(function(){var a=b.current;if(a===void 0)return;a=c("bs_caml_option").valFromOption(a);var d=a.duration;a.currentTime=d},[]),k=i.useMemo(function(){return[{command:{key:c("CometKeys").UP},description:h._("__JHASH__0poPtptaPoq__JHASH__"),handler:f},{command:{key:c("CometKeys").DOWN},description:h._("__JHASH__rYkfY7o-Wnk__JHASH__"),handler:e},{command:{key:c("CometKeys").LEFT},description:h._("__JHASH__1Lid3qpGe7D__JHASH__"),handler:e},{command:{key:c("CometKeys").RIGHT},description:h._("__JHASH__SFoCE2wpUn9__JHASH__"),handler:f},{command:{key:c("CometKeys").HOME},description:h._("__JHASH__d6P7X8Ve8io__JHASH__"),handler:g},{command:{key:c("CometKeys").END},description:h._("__JHASH__QXmXaNdkPYM__JHASH__"),handler:j}]},[e,f,g,j]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:k,children:a})}p.displayName=p.name+" [from "+f.id+"]";p={make:p};var q={timer:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderTopStartRadius:"xfj52jq",borderTopEndRadius:"xykzs3s",borderBottomEndRadius:"x17xv1ja",borderBottomStartRadius:"x1mvicbb",color:"x1mqxbix",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginStart:"x1mnrxsn",marginEnd:"x1w0mnb",position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0}},r=i.memo(function(a){var b=a.time;a=a.style;a=a!==void 0?c("bs_caml_option").valFromOption(a):{};b=c("formatDurationSeconds")(b);return i.jsx("div",{className:"x6s0dn4 x14hiurz xfj52jq xykzs3s x17xv1ja x1mvicbb x1mqxbix x78zum5 x1nxh6w3 x1s688f xi0exxh xl56j7k x1mnrxsn x1w0mnb x1n2onr6 x87ps6o x1r9kitl","data-testid":void 0,style:a,children:b})});r={make:r,styles:q};var s={pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",width:"xvy4d1p",$$css:!0}};function t(a){var b=a.icon,d=a.label,e=a.onHoverMove;a=a.onPress;d={"aria-label":d,children:b,disabled:a===void 0,overlayRadius:"50%",xstyle:function(){return[s.pressable]}};e!==void 0&&(d.onHoverMove=c("bs_caml_option").valFromOption(e));a!==void 0&&(d.onPress=c("bs_caml_option").valFromOption(a));return i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},d))}t.displayName=t.name+" [from "+f.id+"]";q={make:t,styles:s};var u={highlight:{height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0}};t=i.forwardRef(function(a,b){a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;var d=i.useRef();i.useImperativeHandle(b,function(){return{updateHighlight:function(a){var b=d.current;if(!(b==null)){b.style.transform="translateX("+(a-100).toFixed(1)+"%)";return}}}},[d]);return i.jsx("div",{className:c("stylex")(u.highlight,a),ref:d})});t={make:t,styles:u};function v(a,b,c){return Math.min(Math.max(b,a),c)}var w={container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function x(a){var b=a.style,d=a.audioEl,e=a.children,f=a.hasScrubber,g=a.scrubberRef;a=a.testid;a=b!==void 0?c("bs_caml_option").valFromOption(b):{};var h=i.useRef(),j=function(a,b){b=b.getBoundingClientRect();a=a.clientX-b.left;a=a/b.width;return v(a,0,1)};b=function(a){var b=d.current,e=h.current;if(b===void 0)return;if(e==null)return;b=c("bs_caml_option").valFromOption(b);b.currentTime=j(a,e)*b.duration*100/100};var k=function(a){var b=h.current,c=g.current;if(!(b==null)&&!(c==null))return c.updateHighlight(j(a,b)*100)},l=function(){var a=g.current;if(!(a==null))return a.updateHighlight(0)};return i.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 x1qughib x6ikm8r x10wlt62 x1n2onr6","data-testid":void 0,onClick:f?b:void 0,onMouseLeave:f?l:void 0,onMouseMove:f?k:void 0,ref:h,style:a,children:e})}x.displayName=x.name+" [from "+f.id+"]";f={clamp:v,make:x,styles:w};function y(a){return i.useCallback(function(b){var c=a.current;if(!(c==null)){b.stopPropagation();return c.updateHighlight(0)}},[a])}function z(a,b,d,e,f,g){var h=f!==void 0?f:!1,j=i.useRef();i.useEffect(function(){var d=function(a){var b=j.current;if(!(b==null))return b.updateHighlight(a)};if(g){h?d(100):d(0);return}if(e){var f={contents:void 0},i={contents:void 0},k=function e(g){var h=b.current;if(h!==void 0){h=c("bs_caml_option").valFromOption(h);h=h.currentTime/h.duration}else{var j=f.contents;j=j!==void 0?g-j:(f.contents=g,0);h=j/(a*1e3)}g=Math.min(h*100,100);d(g);if(g<100){i.contents=c("bs_caml_option").some(c("requestAnimationFrameAcrossTransitions")(e));return}};i.contents=c("bs_caml_option").some(c("requestAnimationFrameAcrossTransitions")(k));return function(){var a=i.contents;if(a!==void 0){c("cancelAnimationFrame")(c("bs_caml_option").valFromOption(a));return}}}k=b.current;if(k!==void 0){k=c("bs_caml_option").valFromOption(k);k=k.currentTime/k.duration;d(k*100)}},[a,e,g,j,b,h,d]);return j}function A(a,b){switch(b.TAG){case 0:switch(a.TAG){case 0:return{_0:0,TAG:1};case 1:case 2:return a}case 1:switch(a.TAG){case 0:return a;case 1:return{_0:a._0,TAG:2};case 2:return{_0:b._0?0:a._0,TAG:1}}case 2:b=b._0;switch(a.TAG){case 0:return a;case 1:return{_0:b,TAG:1};case 2:return{_0:b,TAG:2}}}}function B(a,d,e,f){var g=i.useReducer(A,{_0:void 0,TAG:0}),h=g[0],j=g[1],k=i.useRef();i.useEffect(function(){if(a===void 0)return;var b=new Audio(),d=function(){var a=k.current;if(a===void 0)return;a=c("bs_caml_option").valFromOption(a).currentTime;return j({_0:a,TAG:2})},e=function(){k.current=c("bs_caml_option").some(b);return j({_0:void 0,TAG:0})},f=function(){return j({_0:!0,TAG:1})};b.addEventListener("canplay",e);b.addEventListener("timeupdate",d);b.addEventListener("ended",f);b.preload="auto";b.src=a;b.load();return function(){b.removeEventListener("canplay",e),b.removeEventListener("timeupdate",d),b.removeEventListener("ended",f),b.pause()}},[a]);g=function(){var a=k.current;if(a===void 0)return j({_0:!1,TAG:1});a=c("bs_caml_option").valFromOption(a);switch(h.TAG){case 0:return j({_0:!1,TAG:1});case 1:a.play().then(function(){j({_0:!1,TAG:1});return b("Promise").resolve()})["catch"](function(a){c("bs_curry")._1(d);return b("Promise").resolve()});return;case 2:a.pause();return j({_0:!1,TAG:1})}};var l;switch(h.TAG){case 0:l=void 0;break;case 1:case 2:l=h._0;break}var m;switch(h.TAG){case 0:case 1:m=!1;break;case 2:m=!0;break}var n;switch(h.TAG){case 1:n=h._0===0;break;case 0:case 2:n=!1;break}f=z(f,k,l,m,e,n);return[h,j,k,g,f]}x={useHook:B};w=36;g.borderRadius=d;g.styles=j;g.playLabel=k;g.stopLabel=l;g.pauseLabel=m;g.PlayIcon=a;g.StopIcon=e;g.PauseIcon=n;g.ScreenreaderLabel=o;g.KeyCommands=p;g.Timer=r;g.PlaybackButton=q;g.Highlight=t;g.Container=f;g.useResetHighlightProgress=y;g.useProgressLiveUpdate=z;g.ControlCenter=x;g.borderWidth=w}),98);
__d("MessengerSurfaceContext.bs",["MessengerSurfaceType.bs","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(d("MessengerSurfaceType.bs").messenger);g.context=b;g.defaultValue=d("MessengerSurfaceType.bs").messenger}),98);
__d("MessengerSurfaceQuickChat.bs",["MessengerSurfaceContext.bs","MessengerSurfaceType.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=h.useContext(d("MessengerSurfaceContext.bs").context);return a===d("MessengerSurfaceType.bs").workQuickchat}g.useIsQuickChatSurface=a}),98);
__d("MWAudioPlayer.bs",["CometPressable.react","CometProgressRingIndeterminate.react","MWLSThreadDisplayContext","MWPAudioPlayer.bs","MWPColorUtils.bs","MWPThreadTheme.bs","MWUseInlineStyleforReply","MessengerSurfaceQuickChat.bs","bs_caml_int64","bs_caml_option","bs_curry","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWAudioPlayer.bs"),j={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function k(a){return h.useMemo(function(){return[j.root,a?j.outgoing:j.incoming]},[a])}e={styles:j,useStyles:k};function l(a){return h.jsx("svg",{height:"24px",viewBox:"0 0 36 36",width:"24px",children:h.jsx("path",{d:"M 0, 18 a 18,18 0 1,0 36,0 a 18,18 0 1,0 -36, 0\n      M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z\n        ",fill:"var(--always-white)",fillRule:"evenodd"})})}l.displayName=l.name+" [from "+f.id+"]";var m={make:l};function a(a){return h.jsx("svg",{height:"24px",viewBox:"0 0 36 36",width:"24px",children:h.jsx("path",{d:"M 0, 18 a 18,18 0 1,0 36,0 a 18,18 0 1,0 -36, 0\n           M 9, 9 h 18 v 18 h -18 Z",fill:"var(--always-white)",fillRule:"evenodd",rx:"2"})})}a.displayName=a.name+" [from "+f.id+"]";a={make:a};function n(a){return h.jsx("svg",{height:"24px",viewBox:"0 0 36 36",width:"24px",children:h.jsx("path",{d:"M 0, 18 a 18,18 0 1,0 36,0 a 18,18 0 1,0 -36, 0\n          M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:"var(--always-white)",fillRule:"evenodd"})})}n.displayName=n.name+" [from "+f.id+"]";var o={make:n},p={black:{backgroundColor:"xal61yo",$$css:!0},pressable:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"xy34o72",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",width:"xvy4d1p",$$css:!0},transparent:{backgroundColor:"xjbqb8w",$$css:!0}};function q(a){var b=a.icon,d=a.label,e=a.onHoverMove,f=a.onPress,g=a.outgoing;a={"aria-label":d,children:b,disabled:f===void 0,overlayRadius:"50%",testid:"chat-audio-play-back",xstyle:function(){return[p.pressable,g?p.transparent:p.black]}};e!==void 0&&(a.onHoverMove=c("bs_caml_option").valFromOption(e));f!==void 0&&(a.onPress=c("bs_caml_option").valFromOption(f));return h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},a))}q.displayName=q.name+" [from "+f.id+"]";var r={make:q,styles:p};function b(a){var b=a.attachment,e=a.disableTransparentBg;e=e===void 0?!1:e;var f=a.getPlayableUrl,g=a.isReply,j=a.outgoing;a=a.width;var m=d("MWPThreadTheme.bs").useBottom(),o=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),p=d("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface(),r=d("MWPThreadTheme.bs").useHook(),s=r.gradientColors;r=r.threadTheme;var t=h.useCallback(function(){i.onReady(function(a){return c("bs_curry")._1(a.logBrowserDenyAccess)})},[]),u=b.playableDurationMs;u=u!==void 0?c("bs_caml_int64").to_float(u)/1e3:0;f=d("MWPAudioPlayer.bs").ControlCenter.useHook(c("bs_curry")._1(f,b),t,!1,u);b=f[2];t=f[0];e=!e&&j&&s.length>1;var v;switch(t.TAG){case 0:v=!1;break;case 1:case 2:v=!0;break}var w=h.useRef(),x=d("MWPAudioPlayer.bs").useResetHighlightProgress(w),y=k(j);s=c("MWUseInlineStyleforReply")(r,s,j);var z=s.backgroundAttachment,A=s.backgroundColor;s=s.backgroundImage;A={backgroundColor:g?A:j?e?"transparent":d("MWPColorUtils.bs").int64ToHex(r.fallbackColor):"var(--wash)",backgroundAttachment:g?z:null,backgroundImage:g?s:null,cursor:v?"pointer":"default",height:"36px",width:a!==void 0?a:o!==void 0?o==="Inbox"?"218px":o==="ChatTab"&&p?"168px":"180px":"180px"};r=e?void 0:"18px";r!==void 0&&(A.borderRadius=r);var B;z=0;switch(t.TAG){case 0:B=null;break;case 1:case 2:z=1;break}z===1&&(B=h.jsx(d("MWPAudioPlayer.bs").ScreenreaderLabel.make,{currentTime:t._0,duration:u}));var C;switch(t.TAG){case 0:C=!0;break;case 1:case 2:C=!1;break}if(C)g=h.jsx("div",{className:c("stylex")(d("MWPAudioPlayer.bs").styles.playbackButtonContainer,d("MWPAudioPlayer.bs").PlaybackButton.styles.pressable),onMouseMove:v?x:void 0,children:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})});else{var D;switch(t.TAG){case 0:D=!0;break;case 1:case 2:D=!1;break}var E;switch(t.TAG){case 0:case 1:E=d("MWPAudioPlayer.bs").playLabel;break;case 2:E=d("MWPAudioPlayer.bs").pauseLabel;break}var F;switch(t.TAG){case 0:F=null;break;case 1:F=h.jsx(l,{});break;case 2:F=h.jsx(n,{});break}s={icon:F,label:E,outgoing:j};a=D?void 0:f[3];a!==void 0&&(s.onPress=c("bs_caml_option").valFromOption(a));g=h.jsx("div",{className:c("stylex")(d("MWPAudioPlayer.bs").styles.playbackButtonContainer),onMouseMove:v?x:void 0,children:h.jsx(q,babelHelpers["extends"]({},s))})}var G;switch(t.TAG){case 0:G=0;break;case 1:case 2:G=Math.max(u-t._0,0);break}o={cursor:"pointer"};p=j?m:void 0;p!==void 0&&(o.color=p);return h.jsx(d("MWPAudioPlayer.bs").KeyCommands.make,{audioEl:b,children:h.jsx(d("MWPAudioPlayer.bs").Container.make,{audioEl:b,hasScrubber:v,scrubberRef:w,style:A,testid:void 0,children:h.jsxs("div",{className:c("stylex")(d("MWPAudioPlayer.bs").styles.common,e?d("MWPAudioPlayer.bs").styles.transparent:!1),children:[h.jsx(d("MWPAudioPlayer.bs").Highlight.make,{ref:f[4],xstyle:y}),B,h.jsx(d("MWPAudioPlayer.bs").Highlight.make,{ref:w,xstyle:y}),g,h.jsx(d("MWPAudioPlayer.bs").Timer.make,{style:o,time:G})]})})})}b.displayName=b.name+" [from "+f.id+"]";f=b;b=e;e=m;m=a;a=o;o=r;r=f;g.MWHighlight=b;g.PlayIconOutline=e;g.StopIconOutline=m;g.PauseIconOutline=a;g.PlaybackButton=o;g.make=r}),98);
__d("MWV2ComposerMediaProgressBar.bs",["MWPColorUtils.bs","MWPThreadTheme.bs","bs_js_math","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.height;a=a.mediaStaging;var e=d("MWPThreadTheme.bs").useHook();e=a.hasError?"var(--negative)":d("MWPColorUtils.bs").int64ToHex(e.threadTheme.fallbackColor);var f=c("bs_js_math").ceil(a.progress*100),g=(b/2).toString();g="M 0,"+g+" L 100,"+g;if(a.progress===1)return null;else return h.jsxs("svg",{className:"x1ey2m1c x10l6tqk x17qophe xh8yej3",preserveAspectRatio:"none",style:{height:b.toString()},viewBox:"0 0 100 "+b.toString(),children:[h.jsx("path",{d:g,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:b.toString()}),h.jsx("path",{d:g,stroke:e,strokeLinecap:"round",strokeWidth:(f===0?0:b).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-f|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}b=a;e=b;g.make=e}),98);
__d("MWV2MediaViewerContainer.bs",["MessengerBlurpleLogoSvg.bs","XMessengerDotComCometRootControllerRouteBuilder","bs_belt_Option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.actions,e=a.children;a=a.shouldShowMessengerLogo;return h.jsxs("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o x1uvtmcs",children:[e,h.jsx("div",{className:"x10l6tqk x16q8cke x1tk7jg1",children:c("bs_belt_Option").getWithDefault(a,!1)?h.jsx("a",{"aria-label":"Messenger",href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL(),children:h.jsx(d("MessengerBlurpleLogoSvg.bs").make,{height:"40",width:"40"})}):null}),h.jsx("div",{className:"x92rtbv x10l6tqk x1tk7jg1",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2TombstonedMessage.bs",["bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={connectBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},root:{borderTop:"x1n2xptk",borderEnd:"xkbpzyx",borderBottom:"xdppsyt",borderStart:"x1rr5fae",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",color:"x1dntmbh",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.ariaLabel,d=a.children,e=a.connectTop,f=a.connectBottom;a=a.xstyle;e=e!==void 0?e:!1;f=f!==void 0?f:!1;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;return h.jsx("div",{"aria-label":b,className:c("stylex")(i.root,e?i.connectTop:!1,f?i.connectBottom:!1,a),children:d})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWPMessageIsReply.bs",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.replySourceTypeV2!=null&&d("LSIntEnum").toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);
__d("MWPMessageHasXMA.bs",["LSIntEnum","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return[c("bs_caml_int64").and_(d("LSIntEnum").ofNumber(1024),a.displayedContentTypes),c("bs_caml_int64").and_(d("LSIntEnum").ofNumber(2048),a.displayedContentTypes)].some(function(a){return c("bs_caml_int64").to_int32(a)!==0})}b=a;g.make=b}),98);
__d("MWPMessageListColumn.bs",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=c("react"),i={centered:{alignItems:"x6s0dn4",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},makeSpaceForActions:{maxWidth:"x1r145dm",$$css:!0},paint:{backgroundColor:"xcrg951",$$css:!0},profile:{paddingEnd:"x1sxyh0",paddingStart:"x1nvil2r",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},withGutters:{paddingEnd:"xe53cfu",paddingStart:"xrgni87",$$css:!0}};function j(a){var b=a.children,d=a.grow,e=a.shrinkwrap,f=a.paint,g=a.profile,j=a.withGutters,k=a.makeSpaceForActions,l=a.centered;a=a.selfCentered;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?g:!1;j=j!==void 0?j:!1;k=k!==void 0?k:!1;l=l!==void 0?l:!1;a=a!==void 0?a:!1;return h.jsx("div",{className:c("stylex")(i.root,d?i.grow:!1,e?i.shrinkwrap:!1,f?i.paint:!1,g?i.profile:!1,j?i.withGutters:!1,k?i.makeSpaceForActions:!1,l?i.centered:!1,a?i.selfCentered:!1),role:"none",children:b})}j.displayName=j.name+" [from "+f.id+"]";var k={make:j,styles:i};function a(a){var b=a.children,c=a.shrinkwrap;a=a.grow;c=c!==void 0?c:!1;a=a!==void 0?a:!1;return h.jsx(j,{grow:a,paint:!0,shrinkwrap:c,withGutters:!0,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children;a=a.selfCentered;a=a!==void 0?a:!1;return h.jsx(j,{paint:!0,profile:!0,selfCentered:a,shrinkwrap:!0,children:b})}b.displayName=b.name+" [from "+f.id+"]";b={make:b};function d(a){var b=a.children,c=a.paint;a=a.centered;c=c!==void 0?c:!0;a=a!==void 0?a:!1;return h.jsx(j,{centered:a,paint:c,shrinkwrap:!0,children:b})}d.displayName=d.name+" [from "+f.id+"]";function e(a){a=a.children;return h.jsx(j,{grow:!0,paint:!0,children:a})}e.displayName=e.name+" [from "+f.id+"]";e={make:e};function l(a){var b=a.children,c=a.makeSpaceForActions;a=a.paint;return h.jsx(j,{makeSpaceForActions:c,paint:a,children:b})}l.displayName=l.name+" [from "+f.id+"]";l={make:l};var m={spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}};function n(a){return h.jsx("div",{className:"x1r8uery x1iyjqo2",role:"none"})}n.displayName=n.name+" [from "+f.id+"]";n={make:n,styles:m};function o(a){a=a.height;return h.jsx("div",{className:"xcrg951 xh8yej3",role:"none",style:{height:""+a+"px"}})}o.displayName=o.name+" [from "+f.id+"]";g.BaseColumn=k;g.WithGutters=a;g.Profile=b;g.Shrinkwrap=d;g.Grow=e;g.Bubble=l;g.HorizontalSpacer=n;g.VerticalRhythm=o}),34);
__d("MDSCautionTriangleSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M19.747 8.027c-.764-1.367-2.73-1.367-3.494 0L6.757 25.025C6.012 26.358 6.977 28 8.504 28h18.992c1.528 0 2.492-1.642 1.747-2.975L19.747 8.027zm-3.159 5.97a1.414 1.414 0 112.824 0l-.353 6.005a1.06 1.06 0 01-2.118 0l-.353-6.005zm2.662 9.753a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5428046370622309"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5955570681156946"}),null);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744182");b=d("FalcoLoggerInternal").create("pii_action_flow",a);e=b;g["default"]=e}),98);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(function(a){return{format:a.format,id:a.id,length:a.length,mask:a.mask,placeholder:a.placeholder,subtitle:a.subtitle,title:a.title,type:a.type}}),f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a}),98);
__d("P2MAttachBankSlipDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5342426462467736"}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6339489026097299"}),null);
__d("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5004730099638134"}),null);
__d("P2MOrderDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5467941156583377"}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5841476822586309"}),null);
__d("MentorshipClientSideEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActorID=function(a){this.$1.actor_id=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setApplicationID=function(a){this.$1.application_id=a;return this};c.setApplicationProfileID=function(a){this.$1.application_profile_id=a;return this};c.setCohortGroupOrPageID=function(a){this.$1.cohort_group_or_page_id=a;return this};c.setCohortID=function(a){this.$1.cohort_id=a;return this};c.setContainerType=function(a){this.$1.container_type=a;return this};c.setDestinationContainerType=function(a){this.$1.destination_container_type=a;return this};c.setDestinationUnitType=function(a){this.$1.destination_unit_type=a;return this};c.setDisplayName=function(a){this.$1.display_name=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExplicitActorType=function(a){this.$1.explicit_actor_type=a;return this};c.setPairCreationType=function(a){this.$1.pair_creation_type=a;return this};c.setProgramGroupID=function(a){this.$1.program_group_id=a;return this};c.setProgramID=function(a){this.$1.program_id=a;return this};c.setProgramThreadID=function(a){this.$1.program_thread_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSourceContainerType=function(a){this.$1.source_container_type=a;return this};c.setSourceUnitType=function(a){this.$1.source_unit_type=a;return this};c.setUnitType=function(a){this.$1.unit_type=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={actor_id:!0,app_id:!0,app_version:!0,application_id:!0,application_profile_id:!0,cohort_group_or_page_id:!0,cohort_id:!0,container_type:!0,destination_container_type:!0,destination_unit_type:!0,display_name:!0,event:!0,explicit_actor_type:!0,pair_creation_type:!0,program_group_id:!0,program_id:!0,program_thread_id:!0,session_id:!0,source_container_type:!0,source_unit_type:!0,unit_type:!0};f["default"]=a}),66);
__d("MentorshipMessengerLoggingUtils",["CurrentUser","MentorshipClientSideEventsTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new(c("MentorshipClientSideEventsTypedLogger"))().setEvent(a.event).setActorID(c("CurrentUser").getID()).setProgramID(a.programID).setDisplayName(a.displayName).updateExtraData(a.extraData).setContainerType("messenger_thread").setUnitType(a.unit);a.event=="click_unit"&&b.setDestinationContainerType(a.destContainer).setDestinationUnitType(a.destUnit);b.log()}g.logMessengerEvent=a}),98);
__d("MWMessageListAttachmentContainer.bs",["CometErrorBoundary.react","LSIntEnum","MWChatAttachmentMediaPreview.bs","MWChatEphemeralButton.bs","MWLSThreadDisplayContext","MWMessageListAttachment.bs","MWPMessageIsReply.bs","MWPMessageListAttachment.bs","MWPSolidMessageBubble.bs","MWV2ChatBubble.bs","MWV2ChatFileCommon.bs","MWV2ChatImagesGrid.bs","MWV2UnsupportedAttachment.bs","MWXMAAttachment.react","RavenMessagingState","bs_caml","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={file:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=a.hasText,e=a.connectBottom,f=a.connectTop,g=a.message,j=a.outgoing,k=a.xstyle;a=a.hasEmphasisRing;var l=b!==void 0?b:!1;b=a!==void 0?a:!1;a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var m=a==="ChatTab"?180:void 0;a={connectBottom:e,connectTop:f,message:g,outgoing:j,renderAudioAttachment:function(a){return h.jsx(d("MWMessageListAttachment.bs").$$Audio.make,{attachment:a,isReply:c("MWPMessageIsReply.bs")(g),outgoing:j})},renderEphemeralMediaAttachment:function(a){var b=a.ephemeralMediaState;if(b!==void 0)if(c("bs_caml").i64_eq(b,d("LSIntEnum").ofNumber(c("RavenMessagingState").PERMANENT)))return h.jsx(d("MWChatAttachmentMediaPreview.bs").make,{attachment:a});else return h.jsx(d("MWChatEphemeralButton.bs").make,{attachment:a,connectBottom:e,connectTop:f,outgoing:j});else return null},renderFileAttachment:function(a){return h.jsx(d("MWPSolidMessageBubble.bs").make,{connectBottom:e,connectTop:f,outgoing:j,style:{backgroundColor:"var(--comment-background)"},xstyle:i.file,children:h.jsx(d("MWV2ChatFileCommon.bs").make,{attachment:a})})},renderImageAttachment:function(c,b,a){return h.jsx(d("MWMessageListAttachment.bs").$$Image.make,{attachment:c,connectBottom:a,connectTop:b,message:g,outgoing:j})},renderImageGrid:function(a){return h.jsx(d("MWV2ChatImagesGrid.bs").make,{attachments:a})},renderStickerAttachment:function(a){return h.jsx(d("MWMessageListAttachment.bs").Sticker.make,{attachment:a})},renderUnsupportedAttachment:function(a){return h.jsx(d("MWPSolidMessageBubble.bs").make,{connectBottom:e,connectTop:f,outgoing:j,style:{backgroundColor:"var(--comment-background)"},children:h.jsx(d("MWV2UnsupportedAttachment.bs").make,{attachment:a})})},renderVideoAttachment:function(a){return h.jsx(d("MWMessageListAttachment.bs").Video.make,{attachment:a,connectTop:f,message:g,outgoing:j})},renderXMAAttachment:function(a){return h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(d("MWMessageListAttachment.bs").$$Error.make,{connectBottom:e,connectTop:f,xstyle:k})},children:h.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:a,cardWidth:m,connectBottom:e,connectTop:f,hasText:l,outgoing:j,xstyle:k})})}};b=b?function(a,b){return h.jsx(d("MWV2ChatBubble.bs").EmphasisRing.make,{hasXMA:a,isBeforeXMA:!1,isOutgoing:j,shouldConnectBottom:!1,shouldConnectTop:f,children:b})}:void 0;b!==void 0&&(a.renderEmphasisRing=c("bs_caml_option").valFromOption(b));return h.jsx(d("MWPMessageListAttachment.bs").make,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);e=b;g.make=e}),98);
__d("MDSReplySvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M18.005 24.4c0 1.278-1.336 2.04-2.334 1.332l-9.007-6.399c-.891-.633-.89-2.028 0-2.661l9.007-6.398c.998-.71 2.334.053 2.334 1.33l.001 3.397c7.14 0 11.997 3.226 11.998 10.987 0 .594-.411 1.012-1.033 1.012-.46 0-.845-.265-1.115-1.083-1.147-3.464-4.54-4.917-9.85-4.917v3.4z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageParsingUtils.bs",["LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","MDSForwardSvgIcon.react","MDSReplySvgIcon.react","MercuryThreadlistConstants","bs_belt_Option","bs_caml","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=a.text;if(a!==void 0)return a!=="";else return!1}function j(a){a=a.replySourceTypeV2;if(a!==void 0&&c("bs_caml").i64_neq(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD)))return!0;else return!1}function k(a){a=a.replySourceTypeV2;if(a!==void 0&&c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD)))return!0;else return!1}function l(a){return c("bs_belt_Option").mapWithDefault(a.text,!1,function(a){return a.length>c("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK})}function m(a){if(a.isAdminMessage||d("LSBitFlag").has(d("LSIntEnum").ofNumber(128),a.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(256),a.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(4096),a.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(4),a.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(512),a.displayedContentTypes))return!0;else return l(a)}function n(a,b){if(b===void 0)return!0;var d=Math.abs(c("bs_caml_int64").to_float(a.timestampMs)-c("bs_caml_int64").to_float(b.timestampMs))>c("MercuryThreadlistConstants").GROUPING_THRESHOLD,e=k(a),f=c("bs_int64").compare(a.senderId,b.senderId)===0;if(b.isUnsent||a.isUnsent||j(a)||!f||d||e||m(a))return!0;else return m(b)}function o(a,b){if(b!==void 0&&!n(a,b))return!1;else return!0}function p(a,b){if(b!==void 0&&!n(b,a))return!1;else return!0}function a(a,b,c){if(c==="below")if(i(a))return!0;else return!o(a,b);else return!1}function b(a,b,c){if(c==="below")return!p(a,b);else if(p(a,b))return!1;else return i(a)}f={shouldConnectBottom:b,shouldConnectTop:a};function e(a){var b=a.replySourceTypeV2,e=b!==void 0?c("bs_caml").i64_eq(b,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))||c("bs_caml").i64_eq(b,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").STORY))?h.jsx(c("MDSReplySvgIcon.react"),{color:"tertiary",size:16}):c("bs_caml").i64_eq(b,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))||c("bs_caml").i64_eq(b,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||c("bs_caml").i64_eq(b,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE))?h.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16}):null:null;return c("bs_belt_Option").map(a.replySnippet,function(a){return h.jsxs("div",{className:"x6s0dn4 x78zum5 xahult9",children:[e,h.jsx("div",{className:"x12scifz x1pg5gke x1h0ha7o",children:a})]})})}b=i;a=j;var q=k,r=l,s=m,t=n,u=o,v=p;f=f;e=e;g.hasText=b;g.isReplyToSomething=a;g.isForwarded=q;g.isLongText=r;g.shouldBeStandalone=s;g.isInDifferentGroup=t;g.isStartOfGroup=u;g.isEndOfGroup=v;g.MessageWithAttachments=f;g.getGroupTitleForReply=e}),98);
__d("MWV2MessageIsEmojiOnly.bs",["EmojiRenderer","EmoticonRenderer","bs_curry","cr:2382","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,e){if(a===void 0)return!1;var f=b("cr:2382")==null?a:c("bs_curry")._1(b("cr:2382").unvault,a);a=d("EmojiRenderer").parse(f).map(function(a){return{length:a.length,offset:a.offset}});var g=c("gkx")("1839834");g=g?e?d("EmoticonRenderer").parse(f).map(function(a){return{length:a.chars.length,offset:a.offset}}):[]:[];e=a.concat(g);if(e.length===0)return!1;a=e.sort(function(a,b){return a.offset-b.offset|0});var i={contents:0},j={contents:0};g=a.some(function(a){i.contents===a.offset?(i.contents=i.contents+a.length|0,j.contents=i.contents):j.contents=a.offset;var b=f.substring(i.contents,j.contents);i.contents=a.offset+a.length|0;return h.test(b)===!1});e=i.contents!==f.length&&!h.test(f.substring(j.contents));if(g)return!1;else return!e}g.utf16RegexSpaces=h;g.make=a}),98);
__d("MWPBaseMessage.bs",["fbt","LSBitFlag","LSIntEnum","MWPMessageHasAttachment.bs","MWPMessageHasXMA.bs","MWPMessageIsReply.bs","MWPMessageListColumn.bs","MWPMessageParsingUtils.bs","MWPThreadCapabilitiesContext","MWV2MessageIsEmojiOnly.bs","bs_caml_option","bs_curry","cr:3890","gkx","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",$$css:!0},elevate:{position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0},vr:{backgroundColor:"xcrg951",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function k(a,b){if(d("LSBitFlag").has(d("LSIntEnum").ofNumber(128),a.displayedContentTypes))return!0;else return d("MWV2MessageIsEmojiOnly.bs").make(a.text,b)}var l=b("cr:3890")==null?void 0:c("bs_caml_option").some(b("cr:3890"));function m(a){return i.jsx(c("MWPMessageListColumn.bs").Grow.make,{children:i.jsx(c("MWPMessageListColumn.bs").HorizontalSpacer.make,{})})}m.displayName=m.name+" [from "+f.id+"]";e={make:m};function n(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isMessagePinned,j=a.isNextMessagePinned,k=a.message,l=a.nextMessage,n=a.outgoing,o=a.prevMessage,p=a.renderAttachment,q=a.renderEmoji,r=a.renderMessageBubble,s=a.shouldHideLinkPreviews,t=a.shouldRenderMessageContent;a=a.xmaLayout;var u=d("MWPThreadCapabilitiesContext").useHook(),v=c("MWPMessageIsReply.bs")(k),w=d("MWPMessageParsingUtils.bs").hasText(k),x=d("MWPMessageHasXMA.bs").make(k);u=c("gkx")("1886144")&&u(d("LSIntEnum").ofNumber(45))&&x&&k.textHasLinks;s=s||u;u=x&&b==="below"&&!s;x=b==="below"?!v&&!f&&!h:!1;f=!g&&!j||(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?u:!1);if(t){h=k.text;g=h!==void 0?e?v?i.jsx("div",{className:"x1n2onr6 x1vjfegm",children:q(k)}):v?null:i.jsxs(c("MWPMessageListColumn.bs").Shrinkwrap,{children:[x?i.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,i.jsx("div",{className:"x1n2onr6 x1vjfegm",children:c("bs_curry")._1(q,k)})]}):h!==""?i.jsxs(i.Fragment,{children:[x||b==="above"?i.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,i.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[n?i.jsx(m,{}):null,r(k,x,f,u,n),n?null:i.jsx(m,{})]})]}):null:null}else g=null;var y;if(d("MWPMessageHasAttachment.bs").make(k)&&!s){j=d("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectTop(k,o,b);a=d("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectBottom(k,l,b);y=p(j,a,w)}return i.jsxs(i.Fragment,{children:[b==="above"?y:null,g,b==="below"?y:null]})}h={make:n};function a(a){var e=a.reactionsV2,f=a.attachmentRenderPosition,g=a.shouldRenderMessageContent,h=a.checkEmoticon,o=a.isFirstMessageInGroup,p=a.isLastMessageInGroup,q=a.message,r=a.nextMessage,s=a.outgoing,t=a.prevMessage,u=a.reactions,v=a.renderAttachment,w=a.renderEmoji,x=a.renderMessageBubble,y=a.renderMessageContainer,z=a.renderMessageFooter,A=a.renderUnsentMessage,B=a.shouldHideLinkPreviews;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;e!==void 0?c("bs_caml_option").valFromOption(e):void 0;e=f!==void 0?f:"below";f=g!==void 0?g:!0;if(q.isUnsent)if(A!==void 0)return i.jsx(c("MWPMessageListColumn.bs").Shrinkwrap,{children:A()});else return null;g=k(q,h);A=b("cr:3890")==null?i.jsx(n,{attachmentRenderPosition:e,isEmojiOnly:g,isFirstMessageInGroup:o,isLastMessageInGroup:p,isMessagePinned:!1,isNextMessagePinned:!1,message:q,nextMessage:r,outgoing:s,prevMessage:t,renderAttachment:v,renderEmoji:w,renderMessageBubble:x,shouldHideLinkPreviews:B,shouldRenderMessageContent:f,xmaLayout:a}):i.jsx(l.make,{attachmentRenderPosition:e,isEmojiOnly:g,isFirstMessageInGroup:o,isLastMessageInGroup:p,message:q,nextMessage:r,outgoing:s,prevMessage:t,renderAttachment:v,renderEmoji:w,renderMessageBubble:x,shouldRenderMessageContent:f});return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[s?i.jsx(m,{}):null,y!==void 0?c("bs_curry")._2(y,A,[j.container,s?j.outgoing:!1]):i.jsx("div",{className:c("stylex")(j.container,s?j.outgoing:!1),children:A}),s?null:i.jsx(m,{})]}),i.jsxs(i.Fragment,{children:[g&&u.length>0?i.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:5}):null,i.jsx(c("MWPMessageListColumn.bs").Shrinkwrap,{children:z()})]})]})}f=a;g.styles=j;g.$MWPBaseMessageContentWithPinnedMessageSupport$requireCond=b("cr:3890");g.HorizontalFill=e;g.Content=h;g.make=f}),34);
__d("bs_caml_int32",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b===0)throw{RE_EXN_ID:"Division_by_zero",Error:new Error()};return a/b|0}function b(a,b){if(b===0)throw{RE_EXN_ID:"Division_by_zero",Error:new Error()};return a%b}f.div=a;f.mod_=b}),null);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.bs","StylexHelpers.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("react");function a(a){var b=a.message;a=a.outgoing;var e=d("MWPMessageAuthor.bs").useAuthorName(b);e=e[0];var f=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&i.jsx("span",{className:c("stylex")(d("StylexHelpers.bs").styles.visuallyHidden),children:e!=null&&!a?e:f})}g["default"]=a}),98);
__d("MWPMessageLoggingWrapper.bs",["CometHeroInteractionWithDiv.react","MWChatInteraction.bs","bs_caml_splice_call","bs_js_null_undefined","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.messageId,f=a.offlineThreadingId;a=a.xstyle;e=d("MWChatInteraction.bs").get(e);f=d("MWChatInteraction.bs").get(f);e=(e=e)!=null?e:f;if(e==null)return h.jsx("div",{className:c("bs_caml_splice_call").spliceApply(c("stylex"),[a]),children:b});else return h.jsx(c("CometHeroInteractionWithDiv.react"),{excludeFromMainVC:!1,interactionDesc:"MESSAGE_RENDER",interactionUUID:c("bs_js_null_undefined").fromOption(e),pageletName:"Message",xstyle:a,children:b})}b=a;g.make=b}),98);
__d("MWJumpToMessageLogger.bs",["CometHeroLogging","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction.bs","bs_caml","bs_curry","bs_int64","bs_js_dict"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(c("bs_curry")._1(a.getTraceId),null);d("MWChatInteraction.bs").set(b,g);e!==void 0&&(c("bs_caml").i64_eq(e,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT))?a.addMetadata("entrypoint","chat"):c("bs_caml").i64_eq(e,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",c("bs_int64").to_string(f));return a.onComplete(function(){return c("bs_js_dict").unsafeDeleteKey(d("MWChatInteraction.bs").interactions,b)})}g.startHeroInteractionTrace=a}),98);
__d("MWPVisibleMessageContext.bs",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");d=e.createContext;var i=e.useContext,j=e.useMemo,k=e.useState;e={setVisibleMessage:c("emptyFunction"),visibleMessage:void 0};var l=d(e);function a(a){a=a.children;var b=k(),c=b[0],d=b[1];b=j(function(){return{setVisibleMessage:d,visibleMessage:c}},[c,d]);return h.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(l)}g.MWPVisibleMessageContext=l;g.MWPVisibleMessageContextProvider=a;g.useMWPVisibleMessageContext=b}),98);
__d("MWJumpToMessage.bs",["LSMessagingInitiatingSourceHook.bs","MWJumpToMessageLogger.bs","MWPVisibleMessageContext.bs","MWVersion.bs","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("MWPVisibleMessageContext.bs").useMWPVisibleMessageContext(),e=b.setVisibleMessage,f=d("LSMessagingInitiatingSourceHook.bs").useHook(),g=c("useCometInteractionTracing")(c("qpl")._(25301087,"7779"),"fast","INTERACTION");return h.useCallback(function(b,c,h,i,j){var k=h!==void 0?h:"",l=i!==void 0?i:[];return g(function(g){e({contextLine:k,highlights:l,messageId:b,source:a,timestamp:c});return d("MWJumpToMessageLogger.bs").startHeroInteractionTrace(g,b,f,d("MWVersion.bs").v2)})},[a,e,g,f])}g.useHook=a}),98);
__d("MWRepliedMessage.bs",["MWPBaseRepliedMessage.bs","MWReplies.bs","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message,c=a.outgoing;a=a.isSecureMessage;var e=a!==void 0?a:!1;return h.jsx(d("MWPBaseRepliedMessage.bs").make,{message:b,outgoing:c,renderAttachment:function(a,b){return h.jsx(d("MWReplies.bs").Attachment.make,{outgoing:b})},renderExpiredMessage:function(a){return h.jsx(d("MWReplies.bs").Expired.make,{outgoing:a})},renderMedia:function(a,b){return h.jsx(d("MWReplies.bs").Media.make,{isSecureMessage:e,message:a,outgoing:b})},renderRemovedMessage:function(a){return h.jsx(d("MWReplies.bs").Removed.make,{outgoing:a})},renderSticker:function(a,b){return h.jsx(d("MWReplies.bs").Sticker.make,{isSecureMessage:e,message:a,outgoing:b})},renderStory:function(a,b){return h.jsx(d("MWReplies.bs").Story.make,{isSecureMessage:e,message:a,outgoing:b})},renderTextMessage:function(b,a){return h.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,children:h.jsx(d("MWReplies.bs").$$Text.make,{text:b})})},renderUnavailableMessage:function(a){return h.jsx(d("MWReplies.bs").Unavailable.make,{outgoing:a})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;c=b;g.make=c}),98);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(a,b,c,d,e,f,g){var h="scraperLastPermissiveMatch";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}var e=b.prototype;e.reset=function(){d("DataStore").set(this.input,h,null)};e.enable=function(){if(this.events)return;var a=function(a){window.setTimeout(this.check.bind(this,a),30)};this.events=c("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};e.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};e.check=function(a){var c=this.getValueFn?this.getValueFn():this.input.value;if(a&&b.trigger(c))return;a=b.match(c);c=d("URLMatcher").permissiveMatch(c);c&&c!=d("DataStore").get(this.input,h)&&(d("DataStore").set(this.input,h,c),this.inform("match",{url:a||c,alt_url:c}))};return b}(c("mixin")(c("ArbiterMixin")));Object.assign(a,d("URLMatcher"));g["default"]=a}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=0;while(!0){var f=d("UnicodeUtils").substr(a,e),g=c("URLScraper").match(f);if(!g)break;if(!c("URI").isValidURI(g))break;var h=g;/^[a-z][a-z0-9\-+.]+:\/\//i.test(g)||(h="http://"+g);var i=f.indexOf(g);f=d("UnicodeUtils").strlen(f.substr(0,i));e+=f;i=g.length;b.push({offset:e,length:g.length,entity:{url:h}});e+=i}return b}g["default"]=a}),98);
__d("MWStatusText.react",["MWPThreadTheme.bs","MWText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={alignLeft:{paddingStart:"xtt4iyq",$$css:!0},alignRight:{paddingEnd:"x1sxyh0",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0}};function a(a){var b=a.alignLeft,e=a.error,f=a.text;a=a.xstyle;var g=d("MWPThreadTheme.bs").useHook();return h.jsx("span",{className:c("stylex")(b===!0?i.alignLeft:i.alignRight,d("MWPThreadTheme.bs").isGradient(g)?i.mask:!1,a),role:"none",children:h.jsx(c("MWText.react"),{align:b===!0?"start":"end",color:e===!0?"negative":"secondary",type:"meta4",children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSAccountSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0118 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 01.059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWIsReplyToAuthor",["I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.replySourceTypeV2!=null&&d("I64").equal(a.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").XMA))}g["default"]=a}),98);
__d("UseMWIsReplyToAuthor.bs",["useMWIsReplyToAuthor"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWIsReplyToAuthor")(a)}g.make=a}),98);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadKey,a.messageId)},[b,a]);return(e==null?void 0:e.defaultCtaType)==="xma_web_url"&&(e==null?void 0:e.attachmentLoggingType)==="xma_open_native_rooms_invite"}g["default"]=a}),98);
__d("MWMessageRow.react",["CometErrorBoundary.react","CometMiddot.react","CometPressable.react","GroupsCometChatsEngagementLogger","I64","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset.bs","MAWGating","MNLSXMALayoutType","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWChatGutterItem.bs","MWChatMessageUnreadIndicator.react","MWClickedMessageContext.react","MWForwardedContent.react","MWLSThread.bs","MWLSThreadDisplayContext","MWMessageDeliveryStatus","MWMessageListAttachmentContainer.bs","MWMessageReactionsContainer.react","MWMessageRowActions.bs","MWPActor.bs","MWPBaseMessage.bs","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPMessageFooter.react","MWPMessageIsReply.bs","MWPMessageListColumn.bs","MWPMessageListRowWithKeyboardInteractions.bs","MWPMessageLoggingWrapper.bs","MWPMessageParsingUtils.bs","MWPMessageReactions.react","MWPMessageRowCalculateStatusCond.react","MWPMessageSenderName.react","MWRepliedMessage.bs","MWReplySnippet.bs","MWText.react","MWV2ChatAdminMessage.bs","MWV2ChatBubble.bs","MWV2ChatEmoji.bs","MWV2ChatErrorBubble.bs","MWV2ChatText.bs","MWV2ChatUnsentMessage.bs","MWV2MessageEndOfGroupContent.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.bs","MWV2MessageStartOfGroupContent.bs","MWV2MessageTimestampTooltip.bs","MWV2ReplyError.bs","ReQL","ReQL.bs","ReQLSubscription.bs","UseMWIsReplyToAuthor.bs","asyncToGeneratorRuntime","cr:3935","cr:4443","cr:4709","cr:4710","cr:4711","cr:4712","cr:4713","gkx","promiseDone","qex","react","stylex","useCometUniqueID","useMWIsXMARoom","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("react");e=a.memo;var i=a.useCallback,j=a.useMemo,k=a.useState,l=(b("cr:4443")||{}).make,m=((f=b("cr:3935"))!=null?f:{}).make,n={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x1i5r0r9",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingTop:"x1nn3v0j","@supports(max-width: min(100%, 500px))_maxWidth":"x8ibpz6",$$css:!0},alignEnd:{alignItems:"xuk3077",$$css:!0},emptyGutter:{width:"x51ohtg",$$css:!0},emptyGutterForTextReceipts:{width:"x1xc55vz",$$css:!0},gutter:{overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xw4jnvo",$$css:!0},reply:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},replyMargin:{marginBottom:"x1q5jw98",minHeight:"xvnwnnf",$$css:!0}},o=e(function(a){var e=a.hasClickState,f=e===void 0?!1:e,g=a.hasMessageEmphasisRing;e=a.isFirstMessageInGroup;var j=a.isLastMessageInGroup,k=a.isSecureMessage,l=a.message,n=a.nextMessage,o=a.outgoing,p=a.prevMessage,q=a.reactions,r=a.reactionsV2,s=a.renderAttachment;a=c("MWClickedMessageContext.react").useHook();var t=a.clickedMessageId,u=a.fetchMessageSeenCount,v=a.hasError,w=a.setClickedMessageId,x=c("useReStore")(),y=i(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(x.table("threads")).getKeyRange(l.threadKey))),b=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(x.table("community_folders")).getKeyRange(a.parentThreadKey));a!=null&&b!=null&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:l.messageId},community_id:d("I64").to_string(b.folderId),event:"render_seen_count",group_id:d("I64").to_string(b.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:d("I64").to_string(a.threadKey)});if(t===l.messageId&&!v)return w(null);else return u(l.threadKey,l.messageId,b)})())},[x,t,l.messageId,JSON.stringify(l.threadKey),v,w,u]);return h.jsx(d("MWPBaseMessage.bs").make,{checkEmoticon:!0,isFirstMessageInGroup:e,isLastMessageInGroup:j,message:l,nextMessage:n,outgoing:o,prevMessage:p,reactions:q,reactionsV2:r,renderAttachment:function(a,b,c){return s!=null&&k?s(l,p,n,o):h.jsx(d("MWMessageListAttachmentContainer.bs").make,{connectBottom:b,connectTop:a,hasEmphasisRing:g,hasText:c,message:l,outgoing:o})},renderEmoji:function(){var a=l.hotEmojiSize;if(k&&a!=null&&(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").MEDIUM))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").LARGE)))&&d("MAWGating").isHotLikeEnabled())if(m==null)return null;else return h.jsx(m,{});else return h.jsx(d("MWV2ChatEmoji.bs").make,{hasEmphasisRing:g,message:l})},renderMessageBubble:function(a,b,c,e){return h.jsx(d("MWV2ChatBubble.bs").make,{connectBottom:c,connectTop:b,hasEmphasisRing:g,message:l,outgoing:o,precedesXMA:e,children:h.jsx(d("MWV2ChatText.bs").make,{isSecureMessage:k,message:l,outgoing:o})})},renderMessageContainer:function(a,b){a=h.jsx(d("MWPMessageLoggingWrapper.bs").make,{messageId:l.messageId,offlineThreadingId:l.offlineThreadingId,xstyle:f?[!1]:b,children:h.jsx(d("MWV2MessageTimestampTooltip.bs").make,{message:l,children:a})});if(f)return h.jsx(c("CometPressable.react"),{onPress:y,overlayDisabled:!0,xstyle:b,children:a});else return a},renderMessageFooter:function(){var a=r!=null&&r.length>0;return h.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{outgoing:o,children:!a&&q.length<1?null:h.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:l,outgoing:o,reactions:q,reactionsV2:a?r:void 0,children:function(b,d,e,f,g){return h.jsx(c("MWMessageReactionsContainer.react"),{count:d,emojis:b,messageId:f,reactions:e,reactionsV2:a?r:void 0,threadKey:g})}})})},renderUnsentMessage:function(){return h.jsx(d("MWV2MessageTimestampTooltip.bs").make,{message:l,children:h.jsx(d("MWV2ChatUnsentMessage.bs").make,{isSecureMessage:k,message:l,outgoing:o})})}})});function p(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return j(function(){var b=c("gkx")("571")?"12px":a==="Inbox"?"16px":"8px";return{dark:{"mwp-message-list-profile-start-padding":b},light:{"mwp-message-list-profile-start-padding":b},type:"VARIABLES"}},[a])}a=e(function(a){var e,f=a.displayMode;f=f===void 0?"standard":f;var g=a.domElementRef,i=a.hasMessageEmphasisRing,m=a.isCMAdmin,q=m===void 0?!1:m,r=a.isModal,s=a.isSecureMessage,t=a.message,u=a.nextMessage,v=a.prevMessage,w=a.renderAttachment;m=a.shouldRenderUnreadIndicator;var x=a.stopHoveringRef,y=a.threadType;a=a.useReactionsV2;var z=a===void 0?!1:a,A=f==="pinnedMessages";a=d("MWPActor.bs").useActor();f=c("MWClickedMessageContext.react").useHook();var B=f.clickedMessageId,C=A||d("MWPMessageParsingUtils.bs").isStartOfGroup(t,v),D=A||d("MWPMessageParsingUtils.bs").isEndOfGroup(t,u),E=c("MWCMIsAnyCMThread")(y),F=d("MWCMThreadTypes.react").isBroadcastThread(y),G=d("LSMessagingThreadTypeUtil").isGroup(y);f=d("LSMessagingThreadTypeUtil").isSecure(y);y=Boolean(d("MWLSThread.bs").useThread(t.threadKey,function(a){return d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(140),a)}));var H=!f&&((e=c("qex")._("65"))!=null?e:!1),I=!t.isUnsent&&y,J=!A&&d("I64").equal(t.senderId,a);e=t.textHasLinks;var K=u===void 0;y=c("useMWIsXMARoom")(t);var aa=!J&&(e||y)&&K&&!A,L=d("MWPMessageReactions.react").useReactions(t),M=d("MWPMessageReactions.react").useReactionsV2(t);a=k(!1);var N=a[0],O=a[1];e=k(!1);var P=e[0],Q=e[1],R=c("useCometUniqueID")();y=k(!1);var S=y[0],T=y[1],U=!J,ba=U&&G,V=c("MWPMessageIsReply.bs")(t),W=L.length>0||M.length>0;a=d("UseMWIsReplyToAuthor.bs").make(t);var ca=a||t.replySourceId==null?!1:t.replyMediaExpirationTimestampMs!=null?d("I64").gt(t.replyMediaExpirationTimestampMs,d("I64").zero):!0,da=F&&c("gkx")("6159")||A||H,ea=function(a){return h.jsx(c("MWText.react"),{color:"secondary",type:"meta4",children:a})},X=p();e=m===!0?h.jsx(d("MWV2MessageRowSimple.bs").make,{children:h.jsx(c("MWChatMessageUnreadIndicator.react"),{message:t})}):null;var Y=c("useReStore")(),Z=t.messageId,$=t.threadKey;y=d("ReQLSubscription.bs").useArray(j(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(Y.table("attachments")),{hd:$,tl:{hd:Z,tl:0}})},[Y,Z,$]));a=y.length>0&&y[0].xmaLayoutType!==void 0&&d("I64").equal(y[0].xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA));if(t.isAdminMessage){m=h.jsxs(c("MWPMessageListColumn.bs").Shrinkwrap,{centered:!0,children:[h.jsx(d("MWV2ChatAdminMessage.bs").make,{message:t,nextMessage:u,prevMessage:v}),h.jsx(d("MWMessageListAttachmentContainer.bs").make,{connectBottom:!1,connectTop:!1,message:t,outgoing:J,xstyle:n.adminMessageAttachment})]});t.adminMsgCtaType===void 0?y=h.jsx(d("MWV2MessageRowSimple.bs").make,{children:m}):y=h.jsx(d("MWPMessageListRowWithKeyboardInteractions.bs").make,{domElementRef:C?void 0:g,isDialogOpened:S,isFocused:N,isModal:r,message:t,messageDomID:R,nextMessage:u,outgoing:J,prevMessage:v,setFocused:O,setHovered:Q,setIsDialogOpened:T,stopHoveringRef:x,theme:X,children:m})}else a?y=h.jsx(c("MWPMessageListColumn.bs").Shrinkwrap,{centered:!0,children:h.jsx(d("MWV2MessageRowSimple.bs").make,{children:h.jsx(d("MWMessageListAttachmentContainer.bs").make,{connectBottom:!1,connectTop:!1,message:t,outgoing:J,xstyle:n.adminMessageAttachment})})}):y=h.jsxs(h.Fragment,{children:[C&&!A?h.jsx(d("MWV2MessageStartOfGroupContent.bs").make,{domElementRef:g,message:t,prevMessage:v}):null,e,h.jsx(c("MWPMessageRowCalculateStatusCond.react"),{isBroadcastThread:F,isLargeGroup:!1,isSecureGroupThread:f&&G,message:t,nextMessage:u,children:function(a){return h.jsxs(d("MWPMessageListRowWithKeyboardInteractions.bs").make,{domElementRef:C?void 0:g,isDialogOpened:S,isFocused:N,isModal:r,message:t,messageDomID:R,nextMessage:u,outgoing:J,prevMessage:v,setFocused:O,setHovered:Q,setIsDialogOpened:T,stopHoveringRef:x,theme:X,children:[h.jsx(c("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:A,isAnyCMThread:E,isFirstMessageInGroup:C,isGroupThread:G,message:t,outgoing:J,renderForwardSnippet:function(){return h.jsx(c("MWForwardedContent.react"),{message:t,outgoing:J})},renderPinnedText:function(a,d){return!A&&b("cr:4713")!=null?h.jsx(b("cr:4713"),{divider:d&&h.jsx(c("CometMiddot.react"),{}),message:t}):null},renderReplySnippet:function(){return h.jsx(d("MWReplySnippet.bs").make,{message:t,outgoing:J})},renderSenderName:function(a){return h.jsx(c("MWPMessageSenderName.react"),{isOutgoingMessage:J,message:t})},renderTextWrapper:function(a){return h.jsx(c("MWText.react"),{color:"secondary",type:"meta4",children:a})},renderTimestamp:A?ea:void 0}),h.jsxs(h.Fragment,{children:[C&&!ba?h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:2}):null,V&&h.jsx("div",{className:c("stylex")(n.reply,J?n.alignEnd:!1,ca?n.replyMargin:!1),role:"none",children:h.jsx(c("MWPMessageListColumn.bs").WithGutters,{grow:!0,children:h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(d("MWV2ReplyError.bs").make,{outgoing:J})},children:!A&&b("cr:4711")!=null?h.jsx(b("cr:4711"),{alreadyRenderedPin:!1,message:t,outgoing:J,children:h.jsx(d("MWRepliedMessage.bs").make,{isSecureMessage:s,message:t,outgoing:J})}):h.jsx(d("MWRepliedMessage.bs").make,{isSecureMessage:s,message:t,outgoing:J})})})}),h.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasReactions:W,message:t,outgoing:J,renderGutterItem:function(){return da?h.jsx("div",{className:""+(H?" x1xc55vz":" x51ohtg"),role:"none"}):h.jsx(d("MWChatGutterItem.bs").make,{errorMessage:t.subscriptErrorMessage!=null&&E?t.subscriptErrorMessage:void 0,incoming:!1,status:a,xstyle:n.gutter})},renderMessageActions:function(){return A?b("cr:4710")!=null?h.jsx(b("cr:4710"),{hidden:!P&&!N,message:t}):null:h.jsx(d("MWMessageRowActions.bs").make,{ariaHidden:r===!1,focused:N||S||r,hasReactions:W,hovered:P,message:t,outgoing:J})},renderProfile:function(){return h.jsx(c("MWV2MessageProfilePhoto.react"),{ariaHidden:G?!r:!0,isCMAdmin:q,isGroupThread:G,isLastMessageInGroup:D,message:t})},children:h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(d("MWV2ChatErrorBubble.bs").make,{isReply:V})},children:!A&&b("cr:4711")!=null?h.jsx(b("cr:4711"),{alreadyRenderedPin:V,message:t,outgoing:J,children:h.jsx(o,{hasClickState:I,hasMessageEmphasisRing:i,isFirstMessageInGroup:C,isLastMessageInGroup:D,isSecureMessage:s,message:t,nextMessage:u,outgoing:J,prevMessage:v,reactions:L,reactionsV2:z?M:void 0,renderAttachment:w})}):h.jsx(o,{hasClickState:I,hasMessageEmphasisRing:i,isFirstMessageInGroup:C,isLastMessageInGroup:D,isSecureMessage:s,message:t,nextMessage:u,outgoing:J,prevMessage:v,reactions:L,reactionsV2:z?M:void 0,renderAttachment:w})})}),b("cr:4712")!=null&&aa&&h.jsx(b("cr:4712"),{}),b("cr:4709")&&h.jsx(b("cr:4709"),{nextMessage:u}),I&&B===t.messageId?h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:6}):D&&!H?h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:7}):null]}),A?null:h.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:t,nextMessage:u,showContent:I||d("MWMessageDeliveryStatus").isSendingOrSeenHead(a)&&H,children:function(){return h.jsxs(h.Fragment,{children:[H&&h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:4}),h.jsx(d("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:I&&U,isOutgoing:J,isTextOnly:F,message:t,status:a,useTextBasedMessageReceipts:H}),H&&h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:K?4:12})]})}})]})}})]});return h.jsxs(h.Fragment,{children:[y,l==null?null:h.jsx(l,{})]})});g.useTheme=p;g.MWMessageRow=a}),98);
__d("MWMessageSendingContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.createContext;var i=b.useContext,j=b.useMemo,k=b.useRef,l=e({findSendingMessage:c("emptyFunction").thatReturnsFalse,trackSendingMessage:c("emptyFunction"),untrackSendingMessage:c("emptyFunction")});function a(a){a=a.children;var b=k(new Set()),c=j(function(){return{findSendingMessage:function(a){return b.current.has(a)},trackSendingMessage:function(a){b.current.add(a)},untrackSendingMessage:function(a){b.current["delete"](a)}}},[b]);return h.jsx(l.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";d={Provider:a,useHook:function(){return i(l)}};g["default"]=d}),98);
__d("MWPAriaLabelForMessageListGrid.bs",["fbt","MWPActor.bs","MWPGetThreadTitle.bs","ReQL.bs","ReQLSuspense","bs_belt_Option","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=d("MWPActor.bs").useActor(),e=c("useReStore")(),f=d("ReQLSuspense").useArray(function(){return d("ReQL.bs").take(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(e.table("contacts"))),8)},[a.threadKey]);return i.useMemo(function(){var e=a.threadName;if(e!==void 0)return h._("__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",e)]).toString();e=c("bs_belt_Option").getWithDefault(d("MWPGetThreadTitle.bs").computeThreadTitle(void 0,a,f,b),"");return h._("__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",e)]).toString()},[b,f,a.threadName])}b=a;g.useHook=b}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l={animateIn:{animationDuration:"x5hsz1j",animationName:"x1j49z95",transform:"x1dufm33",$$css:!0},animateOut:{animationDuration:"x5hsz1j",animationName:"x1j4bph1",transform:"xk9af5f",$$css:!0},animationWrapper:{bottom:"x1ey2m1c",position:"x10l6tqk",start:"x14yxtea",zIndex:"x1vjfegm",$$css:!0},root:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,d=a.visible;a=k(d);var e=a[0],f=a[1];i(function(){d&&f(!0)},[d,f]);return j(function(){return e?h.jsx("div",{className:"xqtp20y x1n2onr6 xh8yej3",children:h.jsx("div",{className:c("stylex")([l.animationWrapper,d?l.animateIn:l.animateOut]),onAnimationEnd:function(a){d||f(!1)},children:b})}):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.bs","UserActivity","asyncToGeneratorRuntime","cr:10880","emptyFunction","gkx","react","useMWInboxPassiveContext"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect;function j(a,b){var e=d("MWV2IsTabFocusedContext.bs").useContext(),f=c("useMWInboxPassiveContext")(),g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),i=g!==void 0?g==="ChatTab"?e:g==="Inbox"&&c("gkx")("6531")?!f.isPassive:!0:!0,j;if(b!==void 0){e=d("I64").gt(b.timestampMs,a.lastActivityTimestampMs)?b.timestampMs:a.lastActivityTimestampMs;j=d("I64").gt(e,a.lastReadWatermarkTimestampMs)}else j=!1;return h(function(){return c("UserActivity").isOnTab()&&c("UserActivity").isActive()&&i&&j},[i,j])}function k(a,b,c){var d=j(a,b);return h(function(){if(d())return c()},[d,c])}function l(a,c,d){i(function(){var e=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a();typeof b!=="boolean"&&(b=(yield b));if(b&&!c())return d()});return function(){return e.apply(this,arguments)}}();window.addEventListener("focus",e);document.hasFocus()&&e();return function(){return window.removeEventListener("focus",e)}},[d,a,c])}var m=b("cr:10880")==null?c("emptyFunction"):b("cr:10880").useHook;function a(a,b,c,d,e){b=k(a,b,c);m(a);l(d,e,b);return b}g["default"]=a}),98);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","FBLogger","I64","Int64Hooks","IntersectionObserver","LSAuthorityLevel","LSDbKeyComparer","LSFactory","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","LSMessagePointQuery","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.bs","MWPVisibleMessageContext.bs","PromiseOrValue","ReQL","ReQLPaginatedList.react","ReQLSuspense","ServerTime","cr:2291","cr:3393","emptyFunction","intersectionObserverEntryIsIntersecting","nullthrows","promiseDone","qex","react","useMWMarkThreadAsReadWhenNewMessagesArrive","useReStore","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,aa=e.useImperativeHandle,ba=e.useMemo,k=e.useRef,l=e.useState,ca=(e=b("cr:2291"))!=null?e:c("emptyFunction"),da={container:{isolation:"xc8icb0",zIndex:"x1ja2u2z",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},observed:{height:"xjm9jq1",marginTop:"x1y332i5",pointerEvents:"x47corl",position:"x10l6tqk",$$css:!0},spacer:{backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}},ea=d("I64").of_string("9999999999999"),m=5;function n(a){var b=a.isCollapsed,c=a.messageId,e=a.primarySortKey;a=a.secondarySortKey;return d("ReQL").key(e,a,c,b)}function fa(a,b){if(a==null||b==null)return;return d("I64").compare(b,a.maxTimestampMs)<=0?a:null}function ga(a,b,d,e){c("promiseDone")(a.runInTransaction(function(a){return c("LSMessagePointQuery")(b,d,e,c("LSFactory")(a))},"readwrite"))}function ha(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function o(a,b){var c=new WeakMap();function e(a){return a.gt!=null?{gt:a.gt.tl}:{gte:a.gte.tl}}function f(a){return a.lt!=null?{lt:a.lt.tl}:{lte:a.lte.tl}}function g(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?e(a):{},a.lte!=null||a.lt!=null?f(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g={};if(f){if(f.gt!=null){var h=f.gt,i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)if(h.tl===0)return{next:function(){return{done:!0}}};else g.gt=h.tl;else if(i<0)return{next:function(){return{done:!0}}}}if(f.gte!=null){h=f.gte;i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)g.gte=h.tl;else if(i<0)return{next:function(){return{done:!0}}}}if(f.lte!=null){h=f.lte;i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)h.tl!==0&&(g.lte=h.tl);else if(i>0)return{next:function(){return{done:!0}}}}if(f.lt!=null){h=f.lt;i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)if(h.tl===0)return{next:function(){return{done:!0}}};else g.lt=h.tl;else if(i>0)return{next:function(){return{done:!0}}}}}var j=a.iterator(e,g);return{next:function(a){return d("PromiseOrValue").map(j.next(a==null?void 0:a.tl),function(a){if(a.done)return{done:!0};var d=c.get(a.value[0]);d==null&&(d={hd:b,tl:a.value[0]},c.set(a.value[0],d));return{done:!1,value:[d,a.value[1]]}})}}},keyLength:a.keyLength+1,subscribe:function(d,e){return a.subscribe(function(a,e,f){var g=c.get(a);g==null&&(g={hd:b,tl:a},c.set(a,g));return d(g,e,f)},g(e))}},d("ReQL").prototype)}function p(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(b.table("messages")).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs,a.minMessageId)}):d("ReQL").empty()},[b,a])}function ia(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableDescending(b.table("messages")).getKeyRange(a.threadKey).bounds({lte:d("ReQL").key(a.maxTimestampMs,a.maxMessageId)}):d("ReQL").empty()},[b,a])}function a(a,e){var f=a.children,g=a.entryPoint,q=a.onInitialLoadingCompleted,ja=a.onScroll,ka=a.renderFooter,r=a.renderHeader,s=a.renderHeaderContentSpacer,t=a.renderJumpToMostRecentMessageButton,u=a.renderLoadingAnimation,la=a.renderRow,v=a.secondaryThread,w=a.thread,x=a.checkIsThreadManuallySetAsUnread,y=x===void 0?function(){return!1}:x;x=a.pageSize;function z(a,b,e,f){c("promiseDone")(a.runInTransaction(async function(a){var g=await a.table("messages_ranges_v2__generated").get(b);if(g==null||(f==="before"?g.isLoadingBefore:g.isLoadingAfter))return;var h=e==null?null:await a.table("messages_ranges_v2__generated").get(e);if(e!=null&&(h==null||(f==="before"?h.isLoadingBefore:h.isLoadingAfter)))return;if(f==="before")if(h==null||g.hasMoreBefore){var i=d("LSMessagingThreadTypeUtil").isSecure(B);if(i){if(J!=null)return J(a,g.threadKey,"before")}else return c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(a))}else{i=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(D));if(i){if(J!=null)return J(a,h.threadKey,"before")}else return c("LSIssueMessagesRangeQuery")(h.threadKey,h.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(a))}else if(h==null||g.hasMoreAfter){i=d("LSMessagingThreadTypeUtil").isSecure(B);if(i)throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),c("LSFactory")(a))}else{i=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(D));if(i)throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQuery")(h.threadKey,h.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),c("LSFactory")(a))}},"readwrite"))}var A=w.threadKey,B=w.threadType;a=v||{};var C=a.threadKey,D=a.threadType,E=c("useReStore")(),F=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(E.table("messages_ranges_v2__generated")).getKeyRange(A)},[E,A]),G=d("ReQLSuspense").useFirst(function(){return C==null?d("ReQL").empty():d("ReQL").fromTableDescending(E.table("messages_ranges_v2__generated")).getKeyRange(C)},[E,C]),H=c("useUnsafeRef_DEPRECATED")(new Map()),I=k(null);a=b("cr:3393");var J=a==null?void 0:a.useFetchSecureMessages();a=l([[F,G],void 0]);var K=a[0],L=a[1];a=d("MWPVisibleMessageContext.bs").useMWPVisibleMessageContext();var ma=a.setVisibleMessage,M=a.visibleMessage;a=(a=M)!=null?a:{};var N=a.messageId,O=a.timestamp,P=d("ReQLSuspense").useFirst(function(){return N!=null&&O!=null?d("ReQL").fromTableAscending(E.table("messages")).getKeyRange(A,O,N):d("ReQL").empty()},[E,A,N,O]),Q=fa(d("ReQLSuspense").useFirst(function(){return O!=null?d("ReQL").fromTableDescending(E.table("messages_ranges_v2__generated")).getKeyRange(A).bounds({lte:{hd:O,tl:0}}):d("ReQL").empty()},[E,O,A]),O);j(function(){N==null||O==null?L(function(a){a=a[0];a[0];a=a[1];return[[F,a],void 0]}):Q==null?ga(E,A,N,B):Q.minMessageId===N&&Q.hasMoreBefore?z(E,d("ReQL").key(Q.threadKey,Q.minTimestampMs,Q.minMessageId),null,"before"):Q.maxMessageId===N&&Q.hasMoreAfter?z(E,d("ReQL").key(Q.threadKey,Q.minTimestampMs,Q.minMessageId),null,"after"):P!=null&&L(function(a){a=a[0];a[0];a=a[1];return[[Q,a],P]})},[E,P,N,Q,F,JSON.stringify(A),JSON.stringify(B),JSON.stringify(O)]);a=K[0];a=a===void 0?[]:a;var R=a[0];a=a[1];K=K[1];j(function(){G!=null&&L(function(a){var b=a[0];b=b[0];a=a[1];return[[b,G],a]})},[G,a]);j(function(){var a;a=(a=H.current.get(M==null?void 0:M.messageId))==null?void 0:a.current;a!=null&&a.scrollIntoView()},[M]);var S=p(R),T=ia(R),U=p(a),na=ca({entryPoint:g,threadKey:A,threadType:B});g=l(!0);var oa=g[0],pa=g[1],qa=k(),V=I.current,W=qa.current,X=k(!1);j(function(){if(q==null||X.current)return;if(R!=null&&!R.hasMoreBefore){q();X.current=!0;return}var a=I.current;if(a==null)return;if(a.scrollHeight-a.clientHeight>m){q();X.current=!0;return}},[q,R]);j(function(){if(W!=null&&V!=null){var a=new(c("IntersectionObserver"))(function(a){a=a[0];return pa(c("intersectionObserverEntryIsIntersecting")(a))},{root:V,rootMargin:"360px"});a.observe(W);return function(){return a.disconnect()}}},[V,W]);var ra=R!=null?!R.hasMoreAfter:!1;g=i(function(){return new Promise(function(a){var b=I.current;b==null?a(!1):window.requestAnimationFrame(function(){var c=b.scrollHeight-b.scrollTop-b.clientHeight<m&&ra;a(c)})})},[ra]);var Y=c("useMWMarkThreadAsReadWhenNewMessagesArrive")(w,T,d("Int64Hooks").useCallbackInt64(function(){na==null?void 0:na(),c("promiseDone")(E.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2")(A,d("I64").of_float(d("ServerTime").getMillis()),c("LSFactory")(a))},"readwrite"))},[A]),g,y);j(function(){if(W!=null&&V!=null){var a=new(c("IntersectionObserver"))(function(a){a=a[0];c("intersectionObserverEntryIsIntersecting")(a)&&!y()&&Y()},{root:V,rootMargin:"0px"});a.observe(W);return function(){return a.disconnect()}}},[V,W,Y,y]);g=ba(function(){var a=E.table("messages").index("messageDisplayOrder");function b(a){var b=a.getKeyRange(w.threadKey).filter(function(a){a=a.isCollapsed;return!a});return v==null?o(b,1):d("ReQL").union(o(a.getKeyRange(v.threadKey).filter(function(a){a=a.isCollapsed;return!a}),0),o(b,1))}var c=b(d("ReQL").fromTableAscending(a)),e=b(d("ReQL").fromTableDescending(a));return{entries:function(a,b,d){return(b==="asc"?c:e).iterator(a,d)},keyLength:c.keyLength,subscribe:function(a,b){var d=c.subscribe(function(b,c,d){return a(b,c,d)},b),f=e.subscribe(function(b,c,d){return a(b,c,d)},b);return function(){d(),f()}}}},[E,JSON.stringify(v==null?void 0:v.threadKey),JSON.stringify(w.threadKey)]);var Z=c("useUnsafeRef_DEPRECATED")(),sa=R!=null&&d("I64").equal(R.maxTimestampMs,ea),$=R!=null&&d("I64").equal(R.minTimestampMs,d("I64").zero),ta=a!=null&&d("I64").equal(a.minTimestampMs,d("I64").zero);function ua(){R===F&&(V!=null&&(Z.current!=null&&Z.current.scrollToBottom())),ma(function(){return void 0})}aa(e,function(){return{jumpToMostRecentMessage:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){ua()})}});if(R==null||v!=null&&a==null||S==null&&!$||T==null&&!sa){return((e=c("qex")._("619"))!=null?e:!1)&&d("I64").equal(w.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC))?r!=null?r():null:u!=null?u():null}var va=d("ReQL").key(R.threadKey,R.minTimestampMs,R.minMessageId),wa=a==null?null:d("ReQL").key(a.threadKey,a.minTimestampMs,a.minMessageId);e=K==null?"bottom":{hd:1,tl:n(K)};K=S==null||$?U==null||ta?null:{hd:0,tl:n(U)}:{hd:1,tl:n(S)};$=T==null||sa?null:{hd:1,tl:n(T)};return h.jsxs("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",children:[h.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:K,lte:$},hasReachedBottom:!R.hasMoreAfter,hasReachedTop:a==null?!R.hasMoreBefore:!(R.hasMoreBefore||a.hasMoreBefore),imperativeRef:Z,initialAnchor:e,onReachingBottom:function(){z(E,va,wa,"after"),Y()},onReachingTop:function(){return z(E,va,wa,"before")},onScroll:ja,pageSize:x,renderContent:function(a,b){return h.jsx(c("BaseHeadingContextWrapper.react"),{children:h.jsxs("div",{className:"xc8icb0 x1ja2u2z",children:[f(a,b),h.jsx("div",{className:"xjm9jq1 x1y332i5 x47corl x10l6tqk",ref:qa})]})})},renderFooter:ka,renderHeader:r,renderHeaderContentSpacer:s!=null?s:function(){return h.jsx("div",{className:"xcrg951 x78zum5 xdt5ytf x1iyjqo2"})},renderItem:function(a,b){var c=b.nextItem;b=b.previousItem;return h.jsx(d("MWPMessageAuthor.bs").make,{contactId:a.senderId,threadKey:a.threadKey,children:la({domElementRef:ha(H.current,a.messageId,function(){return{current:null}}),message:a,nextMessage:c,prevMessage:b})},a.offlineThreadingId)},renderLoadingAnimation:u,scrollAreaElementRef:I,table:g,xstyle:da.list}),t&&h.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!oa||R.hasMoreAfter,children:t(ua)})]})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g.default=e}),98);
__d("MWPMessageListFocusTable.bs",["FocusRegion.react","MWMessageTableFocusTable.bs","MWV2MessageListIsRowModalContext.bs","bs_caml_option","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h=c("react");function i(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,e=a.children,f=a.modal,g=a.setModal,j=a.wrapX;j=j===void 0?!1:j;a=a.wrapY;a=a===void 0?!1:a;var k=h.useCallback(function(a){var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=a.type==="PAGE_DOWN";a.preventDefault();var d=a.currentRowIndex+(b?1:-1)|0,e=!1;while(!e){var f=a.getCell(d,a.currentCellIndex);if(f==null){var g=a.getCell(b?d-1|0:0,a.currentCellIndex);g!=null&&a.focusCell(g);e=!0}else{g=f.scopeRef.current;g=g!=null?c("bs_caml_option").valFromOption(g).DO_NOT_USE_queryFirstNode(i):null;g==null?d=b?d+1|0:d-1|0:(a.focusCell(f),e=!0)}}},[]);return h.jsx(d("MWV2MessageListIsRowModalContext.bs").Provider.make,{value:g,children:h.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.bs").scopeQuery,children:h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[0],{allowModifiers:!0,disabled:f!=="",onNavigate:k,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:j,wrapY:a,children:h.jsx("div",{"aria-label":b,className:"x63ui4o x18i3tt1 x6ikm8r x10wlt62",role:"grid",children:e})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWPVisibleMessageContextWrapper",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case"Search":return{_0:void 0,TAG:0};case"Reply":return{_0:void 0,TAG:1};case"Pinned":return{_0:void 0,TAG:2};case"LastReadWatermark":return{_0:void 0,TAG:3};case"DeepLink":return{_0:void 0,TAG:4}}}function b(a){switch(a.TAG){case 0:return"Search";case 1:return"Reply";case 2:return"Pinned";case 3:return"LastReadWatermark";case 4:return"DeepLink"}}f.sourceToRE=a;f.sourceToJS=b}),66);
__d("useFirstUnreadMessage",["I64","MWPActor.bs","ReQL","ReQLSuspense","gkx","useReStore","useServerTime","useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("gkx")("7262"),e=c("useReStore")(),f=d("MWPActor.bs").useActor(),g=c("useServerTime")(),h=c("useStable")(function(){return d("I64").of_string(String(g.getTime()))}),i=c("useStable")(function(){return a.lastReadWatermarkTimestampMs}),j=d("ReQLSuspense").useFirst(function(){return b?d("ReQL").fromTableAscending(e.table("messages")).getKeyRange(a.threadKey).bounds({gt:d("ReQL").key(i)}).filter(function(a){a=a.senderId;return d("I64").equal(a,f)}):d("ReQL").empty()},[b,e,a.threadKey,i,f])==null,k=d("ReQLSuspense").useFirst(function(){return b?d("ReQL").fromTableDescending(e.table("messages_ranges_v2__generated")).getKeyRange(a.threadKey):d("ReQL").empty()},[e,a.threadKey,b]),l=d("ReQLSuspense").useFirst(function(){return j&&k?d("ReQL").fromTableAscending(e.table("messages")).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(k.minTimestampMs,k.minMessageId),lte:d("ReQL").key(h,k.maxMessageId)}).bounds({gt:d("ReQL").key(i)}):d("ReQL").empty()},[j,k,e,a.threadKey,h,i]);return k==null?void 0:(l==null?void 0:l.messageId)===k.minMessageId?void 0:l}g["default"]=a}),98);
__d("MWMessageList",["CometPagelet.react","I64","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset.bs","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWClickedMessageContext.react","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.bs","MWMessageRow.react","MWMessageSendingContext.react","MWPAriaLabelForMessageListGrid.bs","MWPBaseMessageList.react","MWPMessageListFocusTable.bs","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWPVisibleMessageContext.bs","MWPVisibleMessageContextWrapper","MWV2MessageActionsVisibility.bs","cr:4242","gkx","react","useCometUniqueID","useCommunityFolder","useFirstUnreadMessage"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.forwardRef,j=e.useEffect,k=e.useMemo,l=e.useState,m=(b("cr:4242")||{}).make;function n(){return h.jsx(c("MWInboxThreadMessagesSpinner.react"),{})}n.displayName=n.name+" [from "+f.id+"]";function a(a,b){var e=a.entryPoint,f=a.renderFooter,g=a.renderHeader,i=a.thread,o=d("MWV2MessageActionsVisibility.bs").useStopHoveringRef();a=l(function(){return""});var p=a[0],q=a[1],r=c("useCometUniqueID")(),s=d("LSMessagingThreadTypeUtil").isSecure(i.threadType),t=d("MWPAriaLabelForMessageListGrid.bs").useHook(i);a=d("MWPVisibleMessageContext.bs").useMWPVisibleMessageContext();var u=a.setVisibleMessage,v=a.visibleMessage,w=k(function(){return i.threadType},[JSON.stringify(i.threadType)]);a=c("useCommunityFolder")(i);var x=a!==void 0?d("LSCommunityBitOffset").has(d("LSIntEnum").ofNumber(9),a):!1,y=d("MWCMThreadTypes.react").isBroadcastThread(w)&&c("gkx")("8026")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),i),z=c("MWCMIsAnyCMThread")(i.threadType)&&!d("MWCMThreadTypes.react").isBroadcastThread(w)&&c("gkx")("2551")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),i),A=d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(i.threadType)&&c("gkx")("6661")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),i),B=c("useFirstUnreadMessage")(i);a=l(!1);var C=a[0],D=a[1];j(function(){B&&!C&&u(function(a){return(a=a)!=null?a:{contextLine:"",highlights:[],messageId:B.messageId,source:d("MWPVisibleMessageContextWrapper").sourceToRE("LastReadWatermark"),timestamp:B.timestampMs}})},[B,u,C]);return h.jsx(c("MWMessageSendingContext.react").Provider,{children:h.jsx(c("MWClickedMessageContext.react").Provider,{children:h.jsx(c("MWPBaseMessageList.react"),{entryPoint:e,onScroll:function(){return D(!0)},ref:b,renderFooter:f,renderHeader:g,renderJumpToMostRecentMessageButton:function(a){return h.jsx(d("MWJumpToMostRecentMessageButton.bs").make,{onPress:a})},renderLoadingAnimation:n,renderRow:function(a){var b=a.domElementRef,c=a.message,e=a.nextMessage;a=a.prevMessage;var f=s?d("I64").equal(i.threadKey,c.threadKey):!1,g=(B==null?void 0:B.messageId)===c.messageId;return h.jsx(d("MWMessageRow.react").MWMessageRow,{domElementRef:b,hasMessageEmphasisRing:v==null?!1:v.messageId===c.messageId&&(v.source.TAG===1||v.source.TAG===2),isCMAdmin:x,isModal:p===c.messageId,isSecureMessage:f,message:c,nextMessage:e,prevMessage:a,shouldRenderUnreadIndicator:g,stopHoveringRef:o,threadType:w,useReactionsV2:y||z||A})},thread:i,children:function(a){a=h.jsxs(h.Fragment,{children:[a,h.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:i.threadKey})]});return h.jsx("div",{"data-testid":void 0,id:r,children:h.jsx(d("CometPagelet.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:h.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:i,children:h.jsx(d("MWPMessageListFocusTable.bs").make,{ariaLabel:t,modal:p,setModal:q,children:m==null?a:h.jsx(m,{id:r,children:a})})})})})}})})})}a.displayName=a.name+" [from "+f.id+"]";e=i(a);g["default"]=e}),98);
__d("MAWDualSendPermissionsManager.bs",["LSInt64.bs","LSIntEnum","MAWDualSendSimplePermissionsManager.bs","MWV2UseAreThreadContactsDualSendEligible.bs","bs_caml","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(1)))return c("bs_caml").i64_neq(a,d("LSIntEnum").ofNumber(15));else return!1}function j(a){if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(2)))return c("bs_caml").i64_neq(a,d("LSIntEnum").ofNumber(16));else return!1}function k(a,b){if(i(a)&&b===1)return[d("MAWDualSendSimplePermissionsManager.bs").isOneToOneDualSendTextUser(),d("MAWDualSendSimplePermissionsManager.bs").isOneToOneDualSendMediaUser()];else if(j(a)&&b===2)return[d("MAWDualSendSimplePermissionsManager.bs").isGroupDualSendTextUser(),d("MAWDualSendSimplePermissionsManager.bs").isGroupDualSendMediaUser()];else return[!1,!1]}function l(a,b,c){var e=d("MWV2UseAreThreadContactsDualSendEligible.bs").useThreadEligiblity(b,c);c=k(c,e);var f=c[0],g=c[1];return h.useMemo(function(){if(a==="media")return g;else return f},[d("LSInt64.bs").string(b),f,g,a,e])}function a(a,b){var c=l("text",a,b);a=l("media",a,b);if(c)return!0;else return a}g.usePermission=l;g.useIsThreadEligible=a}),98);
__d("MWContactDetails.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0)return a.name}function b(a){if(a===void 0)return;var b=a.firstName;if(b!==void 0)return b;else return a.name}function c(a){if(a!==void 0)return a.secondaryName}d=a;e=b;a=c;f.getName=d;f.getShortName=e;f.getSecondaryName=a}),66);
__d("MWLSProactiveWarningTables.bs",["MWLSInThreadBanner.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=d("MWThreadKey.bs").useIdMemoizedExn(),b=c("useReStore")(),e=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("MWLSInThreadBanner.bs").getInThread(b,a)},[b,JSON.stringify(a)])),f=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("thread_proactive_warning_settings")),{hd:a,tl:0})},[b,JSON.stringify(a)]));return{banner:e,pwSettings:f}}b=a;g.useHook=b}),98);
__d("MWProactiveWarningPayload.bs",["LSIntEnum","MWLSProactiveWarningTables.bs","MWThreadKey.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var e=d("MWThreadKey.bs").useIdMemoizedExn(),f=a!==void 0?a:!1;a=d("MWLSProactiveWarningTables.bs").useHook();var g=a.banner,i=a.pwSettings,j=b!==void 0?c("bs_caml").i64_eq(c("bs_belt_Option").getWithDefault(b.proactiveWarningDismissTime,c("bs_caml_int64").zero),c("bs_caml_int64").zero):!1;return h.useMemo(function(){if(i===void 0)return;if(g===void 0)return;if(!((f||j)&&c("bs_caml").i64_eq(g.banner.bannerId,[0,7])))return;var a=i.context,b=g.banner.heading;if(a===void 0)return;if(b===void 0)return;var h=i.storyLocation,k=i.entryPoint;if(h===void 0)return;if(k===void 0)return;var l=g.banner.cta1Title,m=g.banner.cta2Title;if(l===void 0)return;if(m===void 0)return;var n=g.banner.titleSectionOne,o=i.tag;if(n===void 0)return;if(o===void 0)return;var p=i.suspectId;if(p!==void 0)return{context:a,cta1Title:l,cta2Title:m,description:n,falco_event_data:{data:{entry_point:c("bs_caml_int64").to_int32(k),error_string:void 0,evidence_source:void 0,feedback_secondary_tags:void 0,feedback_tags:[o],is_other_user_mo:void 0,mute_duration:void 0,selected_messages_count:void 0,surface:c("bs_caml_int64").to_int32(h),time_to_report:void 0},impersonatedUser:{id:"0"},otherUser:{id:c("bs_int64").to_string(p)},reportedUser:{id:"0"},thread:{id:c("bs_int64").to_string(e),type:c("bs_caml_int64").to_int32(d("LSIntEnum").ofNumber(1))}},header:b,threadKey:e}},[JSON.stringify(e),i!==void 0,g!==void 0,j,f])}b=a;g.useHook=b}),98);
__d("MWPreloadedText",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({text:null});g["default"]=b}),98);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a=d("CometRelay").useLazyLoadQuery(i,{},{fetchPolicy:"store-or-network"});return(a==null?void 0:(a=a.viewer)==null?void 0:a.chat_visibility)===!0}g["default"]=a}),98);
__d("MWChatBusinessQuickReply.bs",["CometImage.react","MDSTextPairing.react","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={image:{borderTopStartRadius:"x1z11no5",borderTopEndRadius:"xjy5m1g",borderBottomEndRadius:"x1mnwbp6",borderBottomStartRadius:"x4pb5v6","float":"xrbpyxo",height:"x158ke7r",marginTop:"x16ldp7u",marginEnd:"x1t4t16n",marginBottom:"xz62fqu",marginStart:"xbmpl8g",width:"x1kl0l3y",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTop:"x731872",borderEnd:"x170eksp",borderBottom:"xug2kuu",borderStart:"x1p5fkxa",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",cursor:"x1ypdohk",fontFamily:"xjb2p0i",fontWeight:"xk50ysn",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingBottom:"x1a8lsjc",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",paddingTop:"x889kno",textAlign:"x1yc453h",wordBreak:"x13faqbe",$$css:!0},vertical:{paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"xr9oo41",$$css:!0}};function a(a){var b=a.bodyLineLimit,d=a.quickReplyVertical,e=a.onClick,f=a.text;a=a.imageUrl;b=b!==void 0?b:1;d=d!==void 0?d:!1;a=a!==void 0?c("bs_caml_option").valFromOption(a):void 0;return h.jsx("div",{className:c("stylex")(d?i.vertical:!1),children:h.jsxs("button",{className:"x6s0dn4 xcrg951 x731872 x170eksp xug2kuu x1p5fkxa xfh8nwu xoqspk4 x12v9rci x138vmkv x1vnslfi x9f619 x1ypdohk xjb2p0i xk50ysn xl56j7k xr9ek0c x1emribx xjpr12u x1i64zmx x1mzt3pk x1a8lsjc xn6708d x1ye3gou x889kno x1yc453h x13faqbe",onClick:function(){return c("bs_curry")._1(e)},children:[a!==void 0?h.jsx(c("CometImage.react"),{src:a,xstyle:[i.image]}):null,h.jsx(c("MDSTextPairing.react"),{body:f,bodyLineLimit:b,level:3})]})})}a.displayName=a.name+" [from "+f.id+"]";b=32;e=a;g.mediumHeight=b;g.make=e}),98);
__d("MWChatBusinessQuickReplyText.bs",["MWChatBusinessQuickReply.bs","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,e=a.quickReply;a=a.quickReplyVertical;var f=a?3:1,g=function(){return c("bs_curry")._1(b,e)},i=e.image_url;return h.jsx(d("MWChatBusinessQuickReply.bs").make,{bodyLineLimit:f,imageUrl:i!==void 0?c("bs_caml_option").nullable_to_opt(c("bs_caml_option").valFromOption(i)):void 0,onClick:g,quickReplyVertical:a,text:e.title})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatUserBirthdayQuery",["CometRelay","MWChatUserBirthdayQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i="en-US";function j(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,k,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.birthdate;if(a){var c=a==null?void 0:a.day,d=a==null?void 0:a.month;a=a==null?void 0:a.year;c&&d&&a&&b(j(c,d,a,i))}});c("promiseDone")(e)}};var k=h!==void 0?h:h=b("MWChatUserBirthdayQuery.graphql");g.useUserBirthdayDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserBirthday.bs",["MWChatBusinessQuickReply.bs","MWChatUserBirthdayQuery","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),i=h.useState(function(){}),j=i[0],k=i[1];h.useEffect(function(){g(function(a){return c("bs_curry")._1(k,function(){return a})})},[a,g,k]);if(j===void 0)return null;i=e.content_type;a=e.data;var l=e.image_url;e=e.payload;var m={content_type:i,data:a,image_url:l,payload:e,title:j};i=function(){return c("bs_curry")._1(b,m)};return h.jsx(d("MWChatBusinessQuickReply.bs").make,{onClick:i,quickReplyVertical:f,text:j})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.all_emails;if(a&&a.length>0){var c=a.find(function(a){return a.is_primary});c!=null?b(c.display_email):b(a[0].display_email)}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserEmailQuery.graphql");g.useUserEmailDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserEmail.bs",["MWChatBusinessQuickReply.bs","MWChatUserEmailQuery","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserEmailQuery").useUserEmailDataQuery(),i=h.useState(function(){}),j=i[0],k=i[1];h.useEffect(function(){g(function(a){return c("bs_curry")._1(k,function(){return a})})},[a,g,k]);if(j===void 0)return null;i=e.content_type;a=e.data;var l=e.image_url;e=e.payload;var m={content_type:i,data:a,image_url:l,payload:e,title:j};i=function(){return c("bs_curry")._1(b,m)};return h.jsx(d("MWChatBusinessQuickReply.bs").make,{onClick:i,quickReplyVertical:f,text:j})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.all_phones;if(a&&a.length>0){var c=a.find(function(a){return a.is_preferred});if(c!=null){b((c=c.phone_number)==null?void 0:c.universal_number)}else{b((c=a[0].phone_number)==null?void 0:c.universal_number)}}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserPhoneNumberQuery.graphql");g.useUserPhoneNumberDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserPhoneNumber.bs",["MWChatBusinessQuickReply.bs","MWChatUserPhoneNumberQuery","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),i=h.useState(function(){}),j=i[0],k=i[1];h.useEffect(function(){g(function(a){return c("bs_curry")._1(k,function(){return a})})},[a,g,k]);if(j===void 0)return null;i=e.content_type;a=e.data;var l=e.image_url;e=e.payload;var m={content_type:i,data:a,image_url:l,payload:e,title:j};i=function(){return c("bs_curry")._1(b,m)};return h.jsx(d("MWChatBusinessQuickReply.bs").make,{onClick:i,quickReplyVertical:f,text:j})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatUserProfileLocationQuery",["CometRelay","MWChatUserProfileLocationQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer.user.address)==null?void 0:a.region;a!=null&&a!==""&&b(a)});c("promiseDone")(e)}};e=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.address;a=a==null?void 0:a.postal_code;a&&b(a)});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserProfileLocationQuery.graphql");g.useUserProfileStateDataQuery=a;g.useUserProfileZipCodeDataQuery=e}),98);
__d("MWChatBusinessQuickReplyUserState.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),i=h.useState(function(){}),j=i[0],k=i[1];h.useEffect(function(){g(function(a){return c("bs_curry")._1(k,function(){return a})})},[a,g,k]);if(j===void 0)return null;i=e.content_type;a=e.data;var l=e.image_url;e=e.payload;var m={content_type:i,data:a,image_url:l,payload:e,title:j};i=function(){return c("bs_curry")._1(b,m)};return h.jsx(d("MWChatBusinessQuickReply.bs").make,{onClick:i,quickReplyVertical:f,text:j})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatBusinessQuickReplyUserZipCode.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),i=h.useState(function(){}),j=i[0],k=i[1];h.useEffect(function(){g(function(a){return c("bs_curry")._1(k,function(){return a})})},[a,g,k]);if(j===void 0)return null;i=e.content_type;a=e.data;var l=e.image_url;e=e.payload;var m={content_type:i,data:a,image_url:l,payload:e,title:j};i=function(){return c("bs_curry")._1(b,m)};return h.jsx(d("MWChatBusinessQuickReply.bs").make,{onClick:i,quickReplyVertical:f,text:j})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatBusinessQuickReplyList.bs",["CometScrollableArea.react","CurrentUser","LSIntEnum","LSQuickReplyType","MWChatBusinessQuickReplyText.bs","MWChatBusinessQuickReplyUserBirthday.bs","MWChatBusinessQuickReplyUserEmail.bs","MWChatBusinessQuickReplyUserPhoneNumber.bs","MWChatBusinessQuickReplyUserState.bs","MWChatBusinessQuickReplyUserZipCode.bs","MessengerWebEventsFalcoEvent","bs_caml","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.arrayQR,e=a.id,f=a.onSend;a=a.quickReplyType;a=a!==void 0?a:d("LSIntEnum").ofNumber(c("LSQuickReplyType").NONE);var g=c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSQuickReplyType").VERTICAL));h.useEffect(function(){c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"render_quick_replies",other_user_fbid:e}})},[e]);return h.jsx("div",{className:"x1n2onr6 xh8yej3 xcrg951",children:h.jsx(c("CometScrollableArea.react"),{horizontal:!0,children:h.jsx("div",{className:""+(g?" xuk3077 xcrg951 x78zum5 xdt5ytf xm7lytj":" xcrg951 x78zum5 x1q0g3np x1nn3v0j xozqiw3 x1sxyh0 x1a8lsjc xurb0ha"),children:b.map(function(a,b){var e=c("CurrentUser").getID(),i=a.content_type;switch(i){case"text":return h.jsx(d("MWChatBusinessQuickReplyText.bs").make,{onSend:f,quickReply:a,quickReplyVertical:g},String(b));case"user_birthday":return h.jsx(d("MWChatBusinessQuickReplyUserBirthday.bs").make,{onSend:f,quickReply:a,quickReplyVertical:g,userID:e},String(b));case"user_email":return h.jsx(d("MWChatBusinessQuickReplyUserEmail.bs").make,{onSend:f,quickReply:a,quickReplyVertical:g,userID:e},String(b));case"user_phone_number":return h.jsx(d("MWChatBusinessQuickReplyUserPhoneNumber.bs").make,{onSend:f,quickReply:a,quickReplyVertical:g,userID:e},String(b));case"user_state":return h.jsx(d("MWChatBusinessQuickReplyUserState.bs").make,{onSend:f,quickReply:a,quickReplyVertical:g,userID:e},String(b));case"user_zip_code":return h.jsx(d("MWChatBusinessQuickReplyUserZipCode.bs").make,{onSend:f,quickReply:a,quickReplyVertical:g,userID:e},String(b));default:return null}})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWPQuickReplies.bs",["LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingSource","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","MWChatBusinessQuickReplyList.bs","MWPActor.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml_option","bs_int64","bs_js_null_undefined","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var e=a.lastMessageId,f=a.quickReplyType,g=a.threadKey,i=d("LSMessagingSource").useHook(),j=c("useReStore")(),k=d("MWPActor.bs").useActor();a=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(j.table("quick_reply_ctas")),{hd:g,tl:{hd:e,tl:0}}),function(a){var b=a.type_;b=b==="quick_reply_text"?"text":b==="quick_reply_phone"?"user_phone_number":b==="quick_reply_email"?"user_email":(c("recoverableViolation")("Unexpected quick-reply type","messenger_web_produce"),"");return{content_type:b,data:void 0,image_url:c("bs_caml_option").some(c("bs_js_null_undefined").fromOption(a.imageUrl)),payload:c("bs_caml_option").some(a.platformToken),title:a.title}}),function(a){return a.content_type!==""})},[j,e,g]));if(a.length>0)return h.jsx(d("MWChatBusinessQuickReplyList.bs").make,{arrayQR:a,id:c("bs_int64").to_string(k),onSend:function(a){var e=d("LSThreadAttributionTypeUtil.bs").getSource(g,i),f=j.runInTransaction(function(f){var h=a.payload;if(h!==void 0){h=c("bs_caml_option").valFromOption(h);var i=h==null?void 0:c("bs_caml_option").some(h);h=h==null?void 0:i}else h=void 0;return c("LSOptimisticSendMessage")(k,g,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),a.title,void 0,!1,void 0,void 0,void 0,void 0,e,void 0,h!==void 0?c("bs_caml_option").valFromOption(h):void 0,void 0,d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").NONE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,void 0,void 0,c("LSFactory")(f)).then(function(a){return b("Promise").resolve(a)})},"readwrite");c("promiseDone")(f)},quickReplyType:f});else return null}e={make:i};function a(a){var b=a.threadKey,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(e.table("messages")),{hd:b,tl:0})},[e,b]);if(a!==void 0)return h.jsx(i,{lastMessageId:a.messageId,quickReplyType:a.quickReplyType,threadKey:b});else return null}f=a;g.Impl=e;g.make=f}),98);
__d("MessengerDefaultTheme.bs",["CurrentEnvironment","bs_caml_format"],(function(a,b,c,d,e,f,g){"use strict";a=c("bs_caml_format").caml_int64_of_string("196241301102133");b={_0:{color:c("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:a,label:"Default Blue"},TAG:0};g.defaultThemeInt64=a;g.defaultTheme=b}),98);
__d("MWChatHotLikeEmitterContext.bs",["MWChatHotlikeEmitter.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("MWChatHotlikeEmitter.bs").createEmitter(),j=h.createContext(i);function a(a){a=a.children;return h.createElement(j.Provider,{children:a,value:i})}c={make:a};function b(){return h.useContext(j)}g.emitter=i;g.context=j;g.Provider=c;g.useHook=b}),98);
__d("MWLSUseLatch.bs",["CometThrottle","Run","bs_curry","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,e){var f=b!==void 0?b:!1;h.useEffect(function(){if(!f)return;var b=d("Run").onUnload(function(){return c("bs_curry")._1(a,!1)});return function(){return b.remove()}},[f,a]);return h.useMemo(function(){var b={contents:!1},d=c("debounce")(function(){if(!b.contents)return c("bs_curry")._1(a,!1)},e|0),f=c("CometThrottle")(function(){return c("bs_curry")._1(a,!0)},3e3,{leading:!0,trailing:!1}),g=function(){c("bs_curry")._1(a,!1),b.contents=!0},h=function(){c("bs_curry")._1(f);return d()};return[h,g]},[a,e])}g.throttle=c("CometThrottle");g.useLatch=a}),98);
__d("MWChatFilePreProcessingErrorDialog.bs",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._("__JHASH__rp1B2ks3qwV__JHASH__"),title:h._("__JHASH__Tgh_5naYWqz__JHASH__")};g.invalidFileFormat=a}),98);
__d("MWChatFileUploadErrorDialog.bs",["fbt","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:c("gkx")("1147754")?h._("__JHASH__tncNGvtAhMp__JHASH__"):h._("__JHASH__BNDx1mX2nlz__JHASH__"),title:h._("__JHASH__GVmFuh2jycz__JHASH__")};g.maxFileSizeExceeded=a}),98);
__d("MWPThreadGradientBackground.bs",["MWPColorUtils.bs","MWPThreadTheme.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;var b=d("MWPThreadTheme.bs").useHook(),c=b.gradientColors;b=h.useMemo(function(){if(c.length>1)return{backgroundImage:d("MWPColorUtils.bs").gradient(c)};else return{}},[c]);return h.jsx("div",{className:"x78zum5 x1r8uery xdt5ytf x1iyjqo2 xmz0i5r x6ikm8r x10wlt62 x1n2onr6",style:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:a.key,text:c("cometMentionsDataEntryText")(a)})});b=a;g["default"]=b}),98);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatComposerMentionsViewItem.react","MWLSThread.bs","cr:2600","cr:4183","messengerMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadSectionedViewListStrategy","useCommunityFolder","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=(e=b("cr:4183"))!=null?e:function(a){return function(a,b){}},k={view:{minWidth:"x1jzhcrs",$$css:!0}};function a(a){var e=a.editor,f=a.participants,g=a.threadFBID,l=j(d("I64").of_string(g));a=i(function(){return{participants:f,threadFBID:g,triggerParticipantsSearch:l}},[f,g,l]);a=c("useMWChatMentionsDataSourceResolverConfig")(a);var m=c("useCometTypeaheadSectionedViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:k.view}),n=d("MWLSThread.bs").useThreadExn(d("I64").of_string(g)),o=c("useCommunityFolder")(n);if(b("cr:2600")!=null&&(d("MWCMThreadTypes.react").isJoinedCMThread(n.threadType)&&o||d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(n.threadType))){var p;return h.jsx(b("cr:2600"),{editor:e,fbGroupId:(p=o==null?void 0:o.fbGroupId)!=null?p:n.threadKey,folderId:(p=o==null?void 0:o.folderId)!=null?p:n.threadKey,threadFBID:g})}else return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:e,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:m})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","cr:1948","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useMemo,l=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),m={container:{backgroundColor:"xmjcpbm",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",boxSizing:"x9f619",flexGrow:"x1iyjqo2",minWidth:"xeuugli",$$css:!0},editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0},editorWrapper:{display:"x78zum5",flexGrow:"x1iyjqo2",marginEnd:"x1gja9t",marginStart:"x16n37ib",marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},inputRow:{display:"x78zum5",flexWrap:"x1a02dak",justifyContent:"x13a6bvl",$$css:!0}},n=h._("__JHASH__mUqaYJ48Erc__JHASH__").toString();function a(a){var e=a.ariaDescribedBy,f=a.contentEditableRef,g=a.editor,h=a.endContent,o=a.handlePastedFiles,p=a.participants,q=a.policyProduct,r=a.startContent,s=a.surface,t=a.testId,u=a.threadID,v=a.topContent;a=a.useMentionsPlugin;var w=j(function(a){var b=f.current;if(a==null||b===a)return;f.current=a;g.setRootElement(a)},[f,g]),x=d("LexicalComposerContext").createLexicalComposerContext(),y=k(function(){return[g,x]},[g,x]);e=i.jsx(c("CometLexicalContentEditable.react"),{ariaDescribedBy:e,ariaLabel:n,contentEditableRef:w,editor:g,spellCheck:!0,tabIndex:0,webDriverTestID:t,xstyle:m.editor});w=i.jsx(c("CometLexicalPlaceholder.react"),{children:"Aa"});t=c("useDeferredModuleOnReady")(l);return i.jsxs("div",{className:"xmjcpbm x107yiy2 xv8uw2v x1tfwpuw x2g32xy x9f619 x1iyjqo2 xeuugli",children:[i.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{editor__DEPRECATED:g,policyProduct:q,surface:s}),v,i.jsxs("div",{className:"x78zum5 x1a02dak x13a6bvl",children:[r,i.jsx("div",{className:"x78zum5 x1iyjqo2 x1gja9t x16n37ib x1xmf6yo x1e56ztr xeuugli x1n2onr6",children:i.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:y,children:[i.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:c("LexicalErrorBoundary"),contentEditable:e,placeholder:w}),i.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{})]})}),h]}),a&&i.jsx(c("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:g,participants:p,threadFBID:u}),b("cr:1948")&&i.jsx(b("cr:1948"),{editor:g}),t==null?null:i.jsx(t,{editor:g,handlePastedFiles:o})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LSClearCommunityMembersAndRange","LSFactory","LSIssueCommunityMemberListFetch","LSVec","MWChatComposerMentionsViewItem.react","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","messengerMentionsLexicalCreateNodeStrategy","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy","useCommunityMembers","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useMemo,l=e.useRef,m={view:{minWidth:"x1jzhcrs",$$css:!0}};function n(a,e,f){var g=c("useReStore")(),h=l(""),j=l([]),k=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("community_members").index("communitySource")).getKeyRange(a,d("I64").of_int32(8)).take(6).map(function(a){var b,c;b=(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contextual_profile_v1")).getKeyRange(a.contactId,f)))==null?void 0:b.profileName;return{key:d("I64").to_string(a.contactId),label:(c=b)!=null?c:a.name,rawData:{photoURI:a.profilePictureUrl,source:"all",subtitle:b!=null?a.name:a.subtitle},type:"entry"}})},[g,d("I64").to_string(a)]),m=i(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield g.runInTransaction(function(a){return c("LSClearCommunityMembersAndRange")(d("I64").of_int32(8),c("LSFactory")(a))},"readwrite"),yield g.runInTransaction(function(f){return c("LSIssueCommunityMemberListFetch")(a,c("LSVec").make([d("I64").of_int32(0)]),!1,!1,"","",d("I64").of_int32(8),d("I64").of_string(e),b,c("LSVec").make([]),c("LSFactory")(f))},"readwrite")});return function(a){return f.apply(this,arguments)}}(),[g,d("I64").to_string(a),e,k]),n=i(function(a){return new(b("Promise"))(function(b){a.query!==h.current&&(h.current=a.query,m(h.current)),k.length!==0&&(j.current=k),b({entries:k.length===0?j.current:k,params:a})})},[k,m]);return{bootstrap:function(){},fetchCache:void 0,fetchNetwork:n}}function o(a,b,e){var f=n(a,b,e);e=k(function(){return[{dataSource:f,matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[d("I64").to_string(a),b,f]);return c("useCometMentionsDataSourceResolverConfig")(e,!1)}function a(a){var b=a.editor,e=a.fbGroupId,f=a.folderId;a=a.threadFBID;e=o(e,a,f);a=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:m.view});var g=d("useCommunityMembers").useClearMemberList(8);j(function(){return function(){g()}},[g]);return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:e,editor:b,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPUseVoiceRecorder.bs",["MWAudioPlayer.bs","MWChatRecorderUtilsWorkerResource","MWPAudioPlayer.bs","Promise","WebWorker","bs_caml_option","bs_curry","clearTimeout","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){switch(a.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}function e(a){switch(a.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}function f(a){switch(a.TAG){case 0:return 0;case 1:return a._1;case 2:case 3:break}return Math.max(a._0-a._1,0)}function i(a){switch(a.TAG){case 0:return 0;case 1:return a._2;case 2:case 3:return a._0}}function j(a){switch(a.TAG){case 0:case 1:return;case 2:case 3:return a._1}}function k(a){switch(a.TAG){case 0:case 2:return!1;case 1:case 3:return!0}}function l(a){if(a.TAG===2)return a._1===0;else return!1}function m(a){switch(a.TAG){case 1:return d("MWPAudioPlayer.bs").stopLabel;case 0:case 2:return d("MWPAudioPlayer.bs").playLabel;case 3:return d("MWPAudioPlayer.bs").pauseLabel}}function n(a){switch(a.TAG){case 1:return h.jsx(d("MWAudioPlayer.bs").StopIconOutline.make,{});case 0:case 2:return h.jsx(d("MWAudioPlayer.bs").PlayIconOutline.make,{});case 3:return h.jsx(d("MWAudioPlayer.bs").PauseIconOutline.make,{})}}function o(a,b){switch(b.TAG){case 0:return{_0:b._0,_1:0,_2:b._1,TAG:1};case 1:switch(a.TAG){case 0:return a;case 1:return{_0:a._1,_1:0,TAG:2};case 2:return{_0:a._0,_1:a._1,TAG:3};case 3:return{_0:a._0,_1:a._1,TAG:2}}case 2:var c=b._0;switch(a.TAG){case 0:return a;case 1:return{_0:a._0,_1:c,_2:a._2,TAG:1};case 2:return{_0:c,_1:a._1,TAG:2};case 3:return{_0:c,_1:a._1,TAG:3}}case 3:c=b._0;switch(a.TAG){case 0:case 1:return a;case 2:var d=a._0;if(c===d)return{_0:d,_1:0,TAG:2};else return{_0:d,_1:c,TAG:2};case 3:d=a._0;if(c===d)return{_0:d,_1:0,TAG:2};else return{_0:d,_1:c,TAG:3}}case 4:return{_0:b._0,_1:0,TAG:2};case 5:return{_0:void 0,TAG:0}}}function p(){if(window.AudioContext!==void 0)return c("bs_caml_option").some(new window.AudioContext());else if(window.webkitAudioContext!==void 0)return c("bs_caml_option").some(new window.webkitAudioContext());else return}function q(a,d,e,f){var g=a!==void 0?a:60;f=h.useReducer(o,{_0:void 0,TAG:0});var i=f[0],j=f[1],k=c("useIsMountedRef")(),l=h.useRef(),m=h.useRef([]),n=h.useRef([]),q=h.useRef(),r=h.useRef(),s=h.useRef(),t=h.useRef(),u=h.useRef(),v=h.useCallback(function(a){if(!k.current)return;var b=URL.createObjectURL(a);s.current=b;var d=new Audio(b);d.addEventListener("canplay",function(){r.current=c("bs_caml_option").some(d);var b=d.duration;j({_0:b,TAG:2});b={duration:b,file:a};t.current=b;var e=u.current;if(e!==void 0)return c("bs_curry")._1(e,b)});d.addEventListener("timeupdate",function(){var a=r.current;if(a===void 0)return;a=c("bs_caml_option").valFromOption(a).currentTime;return j({_0:a,TAG:3})});d.addEventListener("durationchange",function(){var a=r.current;if(a===void 0)return;a=c("bs_caml_option").valFromOption(a).duration;if(!Number.isNaN(a))return j({_0:a,TAG:2})})},[]),w=h.useCallback(function(){var a=l.current,b=q.current;if(a===void 0)return;if(b===void 0)return;var d=m.current,e=n.current;d={buffersL:d,buffersR:e,sampleRate:a};c("bs_caml_option").valFromOption(b).postMessage(d)},[]),x;x=i.TAG===1?!0:!1;var y=h.useCallback(function(a){if(!x)return;a=a.inputBuffer;var b=a.getChannelData(0).slice();a=a.getChannelData(1).slice();m.current.push(b);n.current.push(a)},[x]);h.useEffect(function(){if(i.TAG!==1)return;var a=i._0;m.current=[];n.current=[];var b={contents:void 0},e={contents:void 0};e.contents=p();var f=e.contents;if(f!==void 0){f=c("bs_caml_option").valFromOption(f);var g=f.destination;l.current=f.sampleRate;var h=f.createScriptProcessor(4096,2,2);b.contents=c("bs_caml_option").some(h);f=f.createMediaStreamSource(a);q.current=c("bs_caml_option").some(new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(c("bs_curry").__1(v)).setAllowCrossPageTransition(!0).execute());h.addEventListener("audioprocess",y);f.connect(h);h.connect(g)}d!==void 0&&c("bs_curry")._1(d);return function(){a.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}});var d=e.contents;d!==void 0&&c("bs_caml_option").valFromOption(d).close();d=b.contents;if(d!==void 0){c("bs_caml_option").valFromOption(d).removeEventListener("audioprocess",y);return}}},[x]);var z=c("usePrevious")(i);h.useEffect(function(){!(z==null)&&z.TAG===1&&i.TAG===2&&c("bs_curry")._1(w)},[z,i]);h.useEffect(function(){if(!x)return;var a=Date.now(),b={contents:void 0},d=function d(){var e=(Date.now()-a)/1e3;if(e>=g)return j({_0:g,TAG:4});else{j({_0:e,TAG:2});b.contents=c("bs_caml_option").some(c("setTimeout")(d,1e3));return}};b.contents=c("bs_caml_option").some(c("setTimeout")(d,1e3));return function(){var a=b.contents;if(a!==void 0){c("clearTimeout")(c("bs_caml_option").valFromOption(a));return}}},[x]);a=h.useCallback(function(a){return j({_0:a,_1:g,TAG:0})},[]);f=h.useCallback(function(){j({_0:void 0,TAG:5});r.current=void 0;t.current=void 0;l.current=void 0;var a=s.current;if(a!==void 0){URL.revokeObjectURL(a);s.current=void 0;return}},[]);var A=h.useCallback(function(a){var d=r.current;if(d===void 0)return j({_0:void 0,TAG:1});d=c("bs_caml_option").valFromOption(d);switch(a.TAG){case 0:case 1:return j({_0:void 0,TAG:1});case 2:d.play().then(function(){j({_0:void 0,TAG:1});return b("Promise").resolve()})["catch"](function(a){e!==void 0&&c("bs_curry")._1(e);return b("Promise").resolve()});return;case 3:d.pause();return j({_0:void 0,TAG:1})}},[r]),B=h.useCallback(function(a){return new(b("Promise"))(function(d,b){b=t.current;if(b!==void 0)return d(b);u.current=function(a){return d(a)};if(a.TAG===1)return c("bs_curry")._1(A,a)})},[]);return{audioEl:r,getVoiceClip:B,reset:f,start:a,state:i,toggle:A}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=f;g.getDuration=i;g.getCurrentTime=j;g.isProgressing=k;g.isCompleted=l;g.getPlaybackLabel=m;g.getPlaybackIcon=n;g.useVoiceRecorder=q}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalEntityTextNode","cr:3101"],(function(a,b,c,d,e,f,g){"use strict";a={getRanges:function(a){var c=[],e=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var f=a.getEntity();c.push({id:f.id,length:a.getTextContent().length,offset:e,type:"p"})}(b("cr:3101")==null?void 0:b("cr:3101").isMessengerCommandNode(a))&&c.push({id:"0",length:a.getTextContent().length,offset:e,type:a.getRangeType()});e+=a.getTextContent().length})});return c}};c=a;g["default"]=c}),98);
__d("MWChatFileIcon.react",["ix","MWIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"x6s0dn4 x2bj2ny x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("908355"),16)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStaging.bs",["fbt","ix","CometFileSelector.react","CometImage.react","CometImageCover.react","CometPressable.react","LSIntEnum","MWChatFileIcon.react","MWIcon.react","MWText.react","MWV2ComposerFileButton.bs","MWV2ComposerMediaProgressBar.bs","MessagingAttachmentType","TetraCircleButton.react","bs_caml","bs_caml_option","bs_curry","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={root:{alignItems:"x6s0dn4",backgroundColor:"x1a4onnt",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",justifyContent:"xl56j7k",marginEnd:"xq8finb",position:"x1n2onr6",width:"x1useyqa",$$css:!0}};function l(a){var b=a.onAttachmentsAdded;a=a.supportedFileTypes;b=d("MWV2ComposerFileButton.bs").useOnFilesSelected(b);b={children:function(a){return j.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__Mhonj9wa21Q__JHASH__"),onPress:function(){return c("bs_curry")._1(a)},xstyle:function(){return[k.root]},children:j.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(i("481777"),24),testid:void 0})})},multiple:!0,onFilesSelected:b};a!==void 0&&(b.accept=c("bs_caml_option").valFromOption(a));return j.jsx(c("CometFileSelector.react"),babelHelpers["extends"]({},b))}l.displayName=l.name+" [from "+f.id+"]";b={make:l};function m(a){var b=a.onPress;return j.jsx("div",{className:"xoo4vsp x10l6tqk x1v4kod4",children:j.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("478231"),12),label:h._("__JHASH__JpwWRvbxl3y__JHASH__"),onPress:function(){return b()},size:24,type:"overlay"})})}m.displayName=m.name+" [from "+f.id+"]";e={make:m};function n(a){if(a.mimeType==="image/gif")return!0;else return a.mimeType==="image/webp"}function o(a){a=a.mediaStaging;var b=a.attachmentType,e=n(a);if(e){e=a.previewUrl;if(e!==void 0)return j.jsx(c("CometImageCover.react"),{alt:"",src:e});else return null}if(c("bs_caml").i64_eq(b,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))){e=a.previewUrl;if(e!==void 0)return j.jsxs(j.Fragment,{children:[j.jsx("video",{className:"xl1xv1r",height:"48",src:e,width:"48"}),j.jsx("div",{className:"x16hk5td x7wgvq7 x10l6tqk xtzzx4i xwa60dl",children:j.jsx(c("CometImage.react"),{src:i("354763")})})]});else return null}if(!c("bs_caml").i64_eq(b,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)))return j.jsxs("div",{className:"x6s0dn4 x78zum5 xurb0ha x1sxyh0 x1iorvi4 xjkvuk6 x87ps6o",children:[j.jsx(c("MWChatFileIcon.react"),{}),j.jsx("div",{className:"x1iyjqo2",children:j.jsx(c("MWText.react"),{numberOfLines:2,type:"headline4",children:a.filename})})]});e=a.previewUrl;if(e!==void 0)return j.jsx(c("CometImageCover.react"),{alt:"",src:e});else return null}var p={make:o},q={fileContainer:{width:"x2pejg6",$$css:!0},filePreviewContainer:{backgroundColor:"x1ybostu",width:"x2pejg6",$$css:!0},itemContainer:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",marginTop:"xr9ek0c",marginEnd:"xq8finb",marginBottom:"xzueoph",marginStart:"x1mh8g0r",position:"x1n2onr6",width:"x1useyqa",$$css:!0},previewContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xsdox4t",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x1useyqa",$$css:!0}};function r(a){var b=a.mediaStaging,e=a.onAttachmentRemoved;a=j.useCallback(function(){return c("bs_curry")._1(e,b.offlineAttachmentId)},[]);var f=c("bs_caml").i64_neq(b.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))&&c("bs_caml").i64_neq(b.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))&&!n(b);return j.jsxs("div",{className:c("stylex")(q.itemContainer,f?q.fileContainer:!1),children:[j.jsxs("div",{className:c("stylex")(q.previewContainer,f?q.filePreviewContainer:!1),children:[j.jsx(o,{mediaStaging:b}),j.jsx(d("MWV2ComposerMediaProgressBar.bs").make,{height:4,mediaStaging:b})]}),j.jsx(m,{onPress:a})]})}r.displayName=r.name+" [from "+f.id+"]";f={make:r};function a(a){var b=a.mediaStaging,c=a.onAttachmentRemoved,d=a.onAttachmentsAdded;a=a.supportedFileTypes;if(b.length===0)return null;else return j.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xn6708d xsag5q8 x1ye3gou xh8yej3",children:[j.jsx(l,{onAttachmentsAdded:d,supportedFileTypes:a}),b.map(function(a){return j.jsx(r,{mediaStaging:a,onAttachmentRemoved:c},a.offlineAttachmentId)})]})}a=a;b=b;e=e;var s=n;p=p;f=f;a=a;g.UploadPlaceholder=b;g.CloseButton=e;g.isVideoLikeImage=s;g.Preview=p;g.StagingItem=f;g.make=a}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743878");b=d("FalcoLoggerInternal").create("ls_reply_rendered",a);e=b;g["default"]=e}),98);
__d("MWV2ComposerReplyView.react",["fbt","ix","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint.bs","LsReplyRenderedFalcoEvent","MAWGating","MDSTextPairing.react","MWCMIsAnyCMThread","MWChatReplyText.bs","MWIcon.react","MWPActor.bs","MWPReplyContext.bs","MWText.react","MessagingAttachmentType","ReQL","ReQLSuspense","cr:2382","fbicon","getFBTSafeGenderFromGenderConst","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useContext,l=e.useEffect;function m(a,e,f){var g=a.text;g=g!=null?b("cr:2382")==null?g:b("cr:2382").unvault(g):"";g=g==="\ud83d\udc4d"&&(d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").neg_one,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL))||d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").neg_one,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").MEDIUM))||d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").neg_one,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").LARGE)))&&d("MAWGating").isHotLikeEnabled()&&e;if(a.isUnsent)return h._("__JHASH__OtyP2J0Nwkd__JHASH__");if(a.text!=null&&a.text!==""){return j.jsx(d("MWChatReplyText.bs").make,{isHotLike:g,text:(e=a.text)!=null?e:h._("__JHASH__C1Hm6KH3mNE__JHASH__")})}if(f!=null){if(d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)))return h._("__JHASH__vuq_ksOZBHO__JHASH__");if(d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER)))return h._("__JHASH__7zoxdliwH6N__JHASH__");if(d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__d9ky9I-E6BP__JHASH__");return d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?h._("__JHASH__i96Qg8bFARm__JHASH__"):h._("__JHASH__L554Fq7JwGo__JHASH__")}return h._("__JHASH__C1Hm6KH3mNE__JHASH__")}function n(a,b,e){if(a)return h._("__JHASH__iW_IRrZDexS__JHASH__");if(b!=null){return h._("__JHASH__O5URXTVzEEM__JHASH__",[h._param("name",j.jsx(c("MWText.react"),{type:"bodyLink4",children:(e=(a=e)!=null?a:b.firstName)!=null?e:b.name}),[1,c("getFBTSafeGenderFromGenderConst")(d("LSContactGenderToGenderConst").make(b.gender))])])}return h._("__JHASH__Y3usjYXlLYK__JHASH__",[h._param("Placeholder for an unknown user","Facebook User")])}function o(a){var b=a.isSecureThread,e=a.message,f=c("useReStore")();a=d("MWPActor.bs").useActor();var g=d("I64").equal(e.senderId,a),h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(f.table("contacts")).getKeyRange(e.senderId)},[f,e.senderId]);a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(f.table("attachments")).getKeyRange(e.threadKey,e.messageId)},[f,e.messageId,e.threadKey]);var i=d("ReQLSuspense").useFirst(function(){return h!=null&&!g?d("ReQL").fromTableAscending(f.table("threads")).getKeyRange(e.threadKey).map(function(a){var b=a.parentThreadKey;a=a.threadType;return!c("MWCMIsAnyCMThread")(a)?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(f.table("community_folders")).getKeyRange(b).map(function(a){a=a.folderId;return d("ReQLSuspense").first(d("ReQL").fromTableAscending(f.table("contextual_profile_v1").index("associatedEntityIdAndOwner")).getKeyRange(a,h.id).map(function(a){return a.profileName}))}))}):d("ReQL").empty()},[f,e.threadKey,h,g]);l(function(){c("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint.bs").messageActions}}})},[]);b=m(e,b,a);a=n(g,h,i);return j.jsx("div",{className:"xmo9yow",children:j.jsx(c("MDSTextPairing.react"),{body:j.jsx(c("MWText.react"),{type:"body4",children:a}),level:3,meta:b})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.isSecureThread;b=b===void 0?!1:b;var e=a.message;a=k(d("MWPReplyContext.bs").context);var f=a.clearReply,g=k(c("CometTriggerAccessibilityAlertContext"));return j.jsxs("div",{className:"x1cy8zhl xcrg951 x1n2xptk x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno","data-testid":void 0,children:[j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsx(c("MWText.react"),{type:"body4",children:h._("__JHASH__viMkwR52t0r__JHASH__")})},children:j.jsx(o,{isSecureThread:b,message:e})}),j.jsx(c("MWIcon.react"),{"aria-label":h._("__JHASH__jHl6Cj_8ioz__JHASH__"),color:"primary",icon:d("fbicon")._(i("478231"),12),onPress:function(){f(e.threadKey,!0),g(h._("__JHASH__1yy_YyaiiQS__JHASH__").toString(),{assertive:!1})}})]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.messageId,e=a.messageTimestamp,f=a.thread,g=c("useReStore")();a=d("LSMessagingThreadTypeUtil").isSecure(f.threadType);var h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("messages")).getKeyRange(f.threadKey,e,b)},[g,f.threadKey,b,e]);if(h!=null)return j.jsx(p,{isSecureThread:a,message:h});else return null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerReplyViewContainer=p;g.MWV2ComposerReplyView=a}),98);
__d("MWAudioRecorder.bs",["MWAudioPlayer.bs","MWPAudioPlayer.bs","MWPThreadTheme.bs","MWPUseVoiceRecorder.bs","bs_curry","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWAudioRecorder.bs");function a(a){var b=a.voiceRecorder;a=d("MWPThreadTheme.bs").useBottom();var e=b.audioEl,f=b.state,g=h.useRef(),j=d("MWPAudioPlayer.bs").useResetHighlightProgress(g),k;switch(f.TAG){case 0:case 1:k=!1;break;case 2:case 3:k=!0;break}var l=function(){c("bs_curry")._1(b.toggle,f);switch(f.TAG){case 0:return;case 1:i.onReady(function(a){return c("bs_curry")._1(a.logClickStopRecording,0)});return;case 2:var a=f._1,d=f._0;a===0?i.onReady(function(a){return c("bs_curry")._1(a.logPlaybackStart,d)}):i.onReady(function(b){return c("bs_curry")._2(b.logPlaybackResume,d,a)});return;case 3:var e=f._1,g=f._0;i.onReady(function(a){return c("bs_curry")._2(a.logPlaybackPause,g,e)});return}},m=d("MWPAudioPlayer.bs").useProgressLiveUpdate(d("MWPUseVoiceRecorder.bs").getDuration(f),e,d("MWPUseVoiceRecorder.bs").getCurrentTime(f),d("MWPUseVoiceRecorder.bs").isProgressing(f),!1,d("MWPUseVoiceRecorder.bs").isCompleted(f)),n=d("MWAudioPlayer.bs").MWHighlight.useStyles(!0),o,p=0;switch(f.TAG){case 0:case 1:o=null;break;case 2:case 3:p=1;break}p===1&&(o=h.jsx(d("MWPAudioPlayer.bs").ScreenreaderLabel.make,{currentTime:f._1,duration:f._0}));return h.jsx(d("MWPAudioPlayer.bs").Container.make,{audioEl:e,hasScrubber:k,scrubberRef:g,style:{backgroundColor:a,borderRadius:"18px",cursor:k?"pointer":"default",height:"36px"},testid:void 0,children:h.jsxs(d("MWPAudioPlayer.bs").KeyCommands.make,{audioEl:e,children:[h.jsx(d("MWPAudioPlayer.bs").Highlight.make,{ref:m,xstyle:n}),o,h.jsx(d("MWPAudioPlayer.bs").Highlight.make,{ref:g,xstyle:n}),h.jsx("div",{className:c("stylex")(d("MWPAudioPlayer.bs").styles.playbackButtonContainer),onMouseMove:k?j:void 0,children:h.jsx(d("MWAudioPlayer.bs").PlaybackButton.make,{icon:d("MWPUseVoiceRecorder.bs").getPlaybackIcon(f),label:d("MWPUseVoiceRecorder.bs").getPlaybackLabel(f),onPress:l,outgoing:!0})}),h.jsx(d("MWPAudioPlayer.bs").Timer.make,{style:{color:a,cursor:"pointer"},time:d("MWPUseVoiceRecorder.bs").getTimerTime(f)})]})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("XStickerAssetController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:!0},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerConstants","XStickerAssetController"],(function(a,b,c,d,e,f,g){"use strict";var h={small:1e3,medium:2e3,large:3e3};function a(a){var b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<h.small:b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<h.medium:b=c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<h.large:b=c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return b}function b(a){var b=d("EmojiLikeConstants").size.SMALL;a<h.small?b=d("EmojiLikeConstants").size.SMALL:a<h.medium?b=d("EmojiLikeConstants").size.MEDIUM:a<h.large&&(b=d("EmojiLikeConstants").size.LARGE);return b}function e(a){var b;switch(a){case c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:b=120;break;case c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:b=84;break;case c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:b=35;break;case d("EmojiLikeConstants").size.LARGE:b=64;break;case d("EmojiLikeConstants").size.MEDIUM:b=64;break;case d("EmojiLikeConstants").size.SMALL:b=32;break}return b?{height:b,width:b}:void 0}function f(){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type","BestEffortImage").getURI().toString()}function i(a){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type","BestEffortImage").getURI().toString()}function j(a){return a&&a.custom_like_icon}g.SizeTimes=h;g.getStickerIDForTime=a;g.getEmojiSizeForTime=b;g.getMetadataForHotLike=e;g.getPreviewURI=f;g.getURIWithID=i;g.getCustomEmojiFromThread=j}),98);
__d("MWV2ChatGrowingHotlikeButton.bs",["fbt","CometEmoji.react","CometPressable.react","EmojiRenderer","LSHotEmojiSize","LSIntEnum","MAWGating","MWChatHotLikeEmitterContext.bs","MWLikeSvgIcon.react","MWTooltip.react","MessengerHotLikeUtils","bs_caml_format","bs_caml_option","bs_curry","clearTimeout","gkx","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={fillGrey:{fill:"xsrhx6k",$$css:!0},customEmojiButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},customEmojiButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},hotlikeButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},hotlikeButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.color,e=a.onSendMessage,f=a.thread;a=a.disabled;a=a!==void 0?a:!1;var g=f.customEmoji,k=d("MWChatHotLikeEmitterContext.bs").useHook();f=i.useState(function(){return 0});var l=f[0],m=f[1],n=i.useRef();f=i.useState(function(){return!0});var o=f[0],p=f[1],q=function(){return c("bs_curry")._1(k.notify,{_0:void 0,TAG:3})},r=function(){var a=n.current;if(a!==void 0){c("clearTimeout")(c("bs_caml_option").valFromOption(a));return}},s=function(){r();var a=c("setTimeout")(q,3e3);n.current=c("bs_caml_option").some(a)};f=function(){if(l!==0){c("bs_curry")._1(m,function(){return 0});r();return c("bs_curry")._1(k.notify,{_0:void 0,TAG:3})}};var t=function(a){l!==0&&(a.stopPropagation(),a.preventDefault());a.button!==0&&(c("bs_curry")._1(m,function(){return Date.now()}),c("bs_curry")._1(k.notify,{_0:void 0,TAG:0}),s());return c("bs_curry")._1(p,function(){return!1})},u=function(a){if(a<d("MessengerHotLikeUtils").SizeTimes.small)return d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL);else if(a<d("MessengerHotLikeUtils").SizeTimes.medium)return d("LSIntEnum").ofNumber(c("LSHotEmojiSize").MEDIUM);else if(a<d("MessengerHotLikeUtils").SizeTimes.large)return d("LSIntEnum").ofNumber(c("LSHotEmojiSize").LARGE);else return d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL)},v=function(){var a=Date.now()-l,b=0;if(g!==void 0&&g!==""){var f=u(a);c("bs_curry").app(e,[g,void 0,void 0,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0])}else b=1;if(b===1){f=c("bs_caml_format").caml_int64_of_string(d("MessengerHotLikeUtils").getStickerIDForTime(a));d("MAWGating").isHotLikeEnabled()?c("bs_curry").app(e,[void 0,void 0,f,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL),void 0,void 0,void 0,void 0,void 0,void 0,void 0]):c("bs_curry").app(e,[void 0,void 0,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])}l!==0&&(c("bs_curry")._1(m,function(){return 0}),r(),c("bs_curry")._1(k.notify,{_0:void 0,TAG:1}));return c("bs_curry")._1(p,function(){return!0})};if(g!==void 0&&g!==""){var w=h._("__JHASH__tAqfCk1edp7__JHASH__",[h._param("emoji",g)]),x=function(a){var b=d("EmojiRenderer").parse(g).map(function(a){return a.emoji});if(b.length!==1)return i.jsx("span",{children:g});b=b[0];return i.jsx(c("CometEmoji.react"),{emoji:b,size:a})},y=h._("__JHASH__7OvMJwHRigG__JHASH__");y=o?i.jsxs(i.Fragment,{children:[i.jsxs("span",{children:[y," "]}),x(16)]}):null;return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:y,children:i.jsx(c("CometPressable.react"),{"aria-label":w,disabled:a,onHoverOut:f,onPress:v,onPressIn:t,overlayDisabled:a,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?j.customEmojiButtonMDS:j.customEmojiButtonFDS]},children:x(20)})})}y=h._("__JHASH__OzQk4bc7gK8__JHASH__");return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:o?y:null,children:i.jsx(c("CometPressable.react"),{"aria-label":y,disabled:a,onHoverOut:f,onPress:v,onPressIn:t,overlayDisabled:a,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?j.hotlikeButtonMDS:j.hotlikeButtonFDS]},children:i.jsx(c("MWLikeSvgIcon.react"),{className:"xsrhx6k",color:b,size:20})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ComposerEmojiButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResource","JSResourceForInteraction","MWChatComposerIcons.bs","MWTooltip.react","Promise","bs_curry","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__HXazdxq92Fj__JHASH__"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},l=c("JSResource")("CometAddEmojiToComposerForLexical.bs").__setRef("MWV2ComposerEmojiButton.bs");function a(a){var e=a.color,f=a.editor;a=function(a){c("promiseDone")(l.load().then(function(d){c("bs_curry")._3(d.make,a,f,16);return b("Promise").resolve()}))};return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",fallback:i.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0}),popoverProps:{onSelect:a,withArrow:!0},popoverResource:c("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWV2ComposerEmojiButton.bs"),children:function(a,b,f,g,h,m,n){return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{"aria-label":j,onHoverIn:c("bs_curry").__1(g),onHoverOut:function(){return c("bs_curry")._1(h)},onPress:function(a){c("bs_curry")._1(b),l.preload()},onPressIn:c("bs_curry").__1(m),overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").Emoji.make,{fill:e,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.label=j;g.cometAddEmojiToComposerForLexical=l;g.make=e}),98);
__d("MWV2ComposerPersistentMenuButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","MWChatChatButtonColorConstants.bs","MWTooltip.react","bs_curry","bs_int64","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__2kGg_y6m8FS__JHASH__"),k={buttonFDS:{flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.color,e=a.onSendMessage,f=a.thread;a=a.disabled;var g=a!==void 0?a:!1;a=function(a){var b=a.title;a=a.id;return c("bs_curry").app(e,[b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0])};return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{onClose:function(){},onSelect:a,pageId:c("bs_int64").to_string(f.threadKey)},popoverResource:c("JSResource")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.bs"),children:function(a,e,f,h,l,m,n){return i.jsx(c("MWTooltip.react"),{forceInlineDisplay:!0,position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{disabled:g,label:j,onPress:function(){return c("bs_curry")._1(e)},overlayDisabled:g,overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx("svg",{className:c("stylex")(d("MWChatChatButtonColorConstants.bs").styles.strokeGrey),height:"20",viewBox:"0 0 24 18",width:"20",children:i.jsxs("g",{stroke:b,strokeLinecap:"round",strokeWidth:"2.5",children:[i.jsx("path",{d:"M1.5,1.5 H22.5"}),i.jsx("path",{d:"M1.5,9 H22.5"}),i.jsx("path",{d:"M1.5,16.5 H22.5"})]})})})})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("Navigator.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=navigator.permissions;if(c==null)return;var d=c.query;if(!(d==null))return b("bs_caml_option").nullable_to_opt(d.call(c,a))}f.query=a}),null);
__d("MWV2ComposerPlusButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset.bs","MAWGating","MWChatComposerIcons.bs","MWTooltip.react","Navigator.bs","Promise","bs_caml_option","bs_curry","gkx","react","requireDeferred","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2ComposerPlusButton.bs");function k(a){var e=i.useState(function(){return{_0:void 0,TAG:0}}),f=e[1],g=e[0];e=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog").__setRef("MWV2ComposerPlusButton.bs"));var h=e[0],k=function(){return h({contentType:"accessDenied",onAllow:function(){},onClose:function(){}},function(){})},l=function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(d){f(function(){return{_0:void 0,TAG:1}});c("bs_curry")._1(a.start,d);return b("Promise").resolve()})["catch"](function(a){a.name==="NotAllowedError"?(f(function(){return{_0:void 0,TAG:2}}),k()):f(function(){return{_0:void 0,TAG:3}});j.onReady(function(a){return c("bs_curry")._1(a.logBrowserDenyAccess)});return b("Promise").resolve()})},m=function(){return h({contentType:"askForAccess",onAllow:function(){return l()},onClose:function(){}},function(){})};return function(){switch(g.TAG){case 0:var a=d("Navigator.bs").query({name:"microphone"});a!==void 0?c("bs_caml_option").valFromOption(a).then(function(a){a=a.state;switch(a){case"denied":f(function(){return{_0:void 0,TAG:2}});k();break;case"granted":l();break;case"prompt":m();break;default:m()}return b("Promise").resolve()})["catch"](function(){m();return b("Promise").resolve()}):(l(),j.onReady(function(a){return c("bs_curry")._1(a.logMicAccessCheckFailed)}));return;case 2:return k();case 1:case 3:return l()}}}var l={plusButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginTop:"x1gslohp",marginBottom:"x12nagc",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},plusButtonMDS:{marginStart:"x1i64zmx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.canSendAudioClip,e=a.canSendFile,f=a.canSendPayment,g=a.color,m=a.isInputExpanded,n=a.onAttachmentsAdded,o=a.onSendMessage,p=a.renderExtraOverflowMenuItems,q=a.supportedFileTypes,r=a.thread,s=a.voiceRecorder,t=function(){};a=i.useState(function(){return!1});var u=a[1],v=function(a){return c("bs_curry")._1(u,function(){return a})},w=d("MAWGating").isStickerEnabled()&&d("LSMessagingThreadTypeUtil").isSecure(r.threadType);f=d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(0),r)&&!c("gkx")("1787591")&&f;var x=d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(36),r)&&!c("gkx")("1787592");b=d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(14),r)&&!c("gkx")("1787585")&&b;var y=d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(4),r)&&!c("gkx")("1787594")&&m;e=e&&m;w=!c("gkx")("1787596")&&(d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(3),r)||w)&&m;var z=i.useMemo(function(){if(p!==void 0)return c("bs_curry")._3(p,g,t,n);else return[]},[p,g,t,n]),A=f||x||b||y||e||w||z.length>0,B=!A;A=k(s);var C=s.state,D;D=C.TAG===0?!1:!0;var E=D?h._("__JHASH__tnRfHlva-bL__JHASH__"):a[0]?h._("__JHASH__SFruYEeI3S-__JHASH__"):h._("__JHASH__PUPO-44z1pF__JHASH__");return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"start",onVisibilityChange:v,popoverProps:{color:g,extraItems:z,isInputExpanded:m,onAttachmentsAdded:n,onClose:t,onPressVoiceClip:A,onSendMessage:o,showCreatePoll:x,showFile:e,showGif:y,showPayment:f,showSendVoiceClip:b,showSticker:w,supportedFileTypes:q,threadKey:r.threadKey},popoverResource:c("JSResourceForInteraction")("MWV2ComposerOverflowMenu").__setRef("MWV2ComposerPlusButton.bs"),position:"above",preloadTrigger:"button",children:function(a,b,e,f,h,k,m){return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:E,children:i.jsx(c("CometPressable.react"),{"aria-label":E,disabled:B,onHoverIn:c("bs_curry").__1(f),onHoverOut:function(){return c("bs_curry")._1(h)},onPress:function(){if(D){c("bs_curry")._1(s.reset);j.onReady(function(a){return c("bs_curry")._1(a.logDeleteRecording)});return}else return c("bs_curry")._1(b)},onPressIn:c("bs_curry").__1(k),overlayDisabled:B,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?l.plusButtonMDS:l.plusButtonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").MoreActions.make,{fill:B?void 0:g,isRotated:D,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=e;g.make=f}),98);
__d("MWV2ComposerSendButton.bs",["fbt","CometPressable.react","MWChatChatButtonColorConstants.bs","MWTooltip.react","UserAgent","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=c("gkx")("6934");e=c("UserAgent").isPlatform("Mac OS X");var j=b?e?h._("__JHASH__rZOmP6eifIV__JHASH__"):h._("__JHASH__ylwhpFdWk4l__JHASH__"):h._("__JHASH__7975gRkNyLl__JHASH__"),k={buttonFDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.color,e=a.onPress;a=a.disabled;a=a!==void 0?a:!1;return i.jsx(c("MWTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{disabled:a,label:j,onPress:e,overlayDisabled:a,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx("svg",{className:c("stylex")(d("MWChatChatButtonColorConstants.bs").styles.fillGrey),height:"20px",viewBox:"0 0 24 24",width:"20px",children:i.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:b})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ComposerView.bs",["CometMessengerComposerInner.react","CometPlaceholder.react","LSIntEnum","LSMediaUrl.bs","LSMessagingThreadTypeUtil","LSThreadBitOffset.bs","Locale","MAWGating","MAWSubscribeToContactNames","MWAudioRecorder.bs","MWCMThreadTypes.react","MWPActor.bs","MWPThreadTheme.bs","MWPUseVoiceRecorder.bs","MWTooltipGroup.react","MWUseAriaDescribedByForComposer.bs","MWV2ChatGrowingHotlikeButton.bs","MWV2ComposerEmojiButton.bs","MWV2ComposerFileButton.bs","MWV2ComposerGifButton.bs","MWV2ComposerMediaStaging.bs","MWV2ComposerPersistentMenuButton.bs","MWV2ComposerPlusButton.bs","MWV2ComposerRoundedCorners.bs","MWV2ComposerSendButton.bs","MWV2ComposerStickerButton.bs","MWV2IsTabFocusedContext.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","UseCurrentDisplayMode.bs","bs_caml","bs_caml_option","bs_curry","bs_int64","gkx","killswitch","react","requireDeferred","stylex","useCometUniqueID","useCurrentDisplayMode","useDeferredModuleOnReady","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2ComposerView.bs"),j=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.bs"),k={button:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},buttonFDS:{marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},buttonHidden:{transform:"x1f85oc2",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},buttonMDS:{marginBottom:"xat24cr",$$css:!0},buttonShown:{transform:"x3oybdh",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},composer:{display:"x78zum5",flexGrow:"x1iyjqo2",transition:"x6q2ic0",$$css:!0},container:{flexGrow:"x1iyjqo2",overflowX:"xw2csxc",position:"x1n2onr6",$$css:!0},emojiButton:{end:"xds687c",$$css:!0},fileButtonHidden:{transitionDelay:"x1th4bbo",$$css:!0},fileButtonShown:{transitionDelay:"x1th4bbo",$$css:!0},gifButtonHidden:{transitionDelay:"x1ahifba",$$css:!0},gifButtonShown:{transitionDelay:"x5w5eug",$$css:!0},hidden:{display:"x1s85apg",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",fontSize:"x6prxxf",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},stickerButtonHidden:{transitionDelay:"x5zdck6",$$css:!0},stickerButtonShown:{transitionDelay:"x5h36tt",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function l(a){var b=d("MWPActor.bs").useActor(),e=c("useReStore")(),f=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:a.threadKey,tl:0}),function(a){return[d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:a.contactId,tl:0})),a]})},[e,JSON.stringify(a.threadKey)])),g=h.useMemo(function(){return f.reduce(function(a,e){var f=e[0];if(f!==void 0&&c("bs_caml").i64_neq(f.id,b)){f.name||=d("MAWSubscribeToContactNames").getUnknownUser();return a.concat([[f,e[1]]])}else return a},[])},[f,b]);return h.useMemo(function(){return new Map(g.map(function(a){var b=a[1];a=a[0];var e=b.isAdmin,f=c("bs_int64").to_string(a.id),g=a.name,h=a.name;b=b.nickname;var i=d("LSMediaUrl.bs").Contact.profilePictureUrl(a);e=e!==void 0?e:!1;var j=a.workJobTitle,k=a.secondaryName;h={actualName:h,contactId:f,isAdmin:e,isContact:!0,jobTitle:j,name:g,nickname:b,profilePictureUrl:i,profileUrl:void 0,secondaryName:k};return[c("bs_int64").to_string(a.id),h]}))},[g])}function m(a){var b=c("useDeferredModuleOnReady")(j);h.useEffect(function(){if(!(b==null))return c("bs_curry")._2(b,a,16)},[a,b])}function a(a){var e=a.isSendDisabled,f=a.canSendAudioClip,g=a.canSendFile===void 0?!0:a.canSendFile,j=a.canSendGif===void 0?!0:a.canSendGif,n=a.canSendPayment,o=a.canSendSticker===void 0?!0:a.canSendSticker,p=a.useMentionsPlugin,q=a.composerLinkPreview,r=a.editor,s=a.editorElementRef,t=a.hasStuffToSend,u=a.localTimezoneInformation,v=a.maxAudioDuration,w=a.mediaStaging,x=a.onAttachmentRemoved,y=a.onAttachmentsAdded,z=a.onSendMessage,A=a.policyProduct,B=a.renderExtraOverflowMenuItems,C=a.sendMessage,D=a.supportedFileTypes,E=a.surface;a=a.thread;e=e!==void 0?e:!1;f=f!==void 0?f:!0;n=n!==void 0?n:!1;p=p!==void 0?p:!0;var F=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),G=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType),H=d("MWV2IsTabFocusedContext.bs").useContext(),I=d("MWPThreadTheme.bs").useBottom(),J=c("useCurrentDisplayMode")();J=J===d("UseCurrentDisplayMode.bs").darkTheme&&F?"var(--always-white)":I;I=e||!H?void 0:J;H=h.useCallback(function(){i.onReady(function(a){return c("bs_curry")._1(a.logClickStartRecording)})});J=h.useCallback(function(){i.onReady(function(a){return c("bs_curry")._1(a.logBrowserDenyAccess)})});var K=d("MWPUseVoiceRecorder.bs").useVoiceRecorder(v,H,J);v=K.state;H=v.TAG===0?!1:!0;J=function(){c("bs_curry")._1(K.getVoiceClip,K.state).then(function(a){c("bs_curry")._1(K.reset);c("bs_curry").app(z,[void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0,void 0]);return b("Promise").resolve()})};v=l(a);var L=d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(43),a),M=d("Locale").isRTL(),N=d("MAWGating").isStickerEnabled()&&F;o=o&&!c("gkx")("1787596")&&(d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(3),a)||N);j=j&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(4),a)&&!c("gkx")("1787594");g=g&&(G?!c("gkx")("1787595")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(56),a):!c("gkx")("1787595"));G=c("gkx")("571");var O=G?[36,8]:[32,4],P=O[0];O=O[1];var Q=0+P|0,R=Q+P|0,S=M?{right:0..toString()+"px"}:{left:0..toString()+"px"};Q=M?{right:Q.toString()+"px"}:{left:Q.toString()+"px"};var T=M?{right:R.toString()+"px"}:{left:R.toString()+"px"};M=M?{marginRight:t?G?8..toString()+"px":"0":((R+P|0)+O|0).toString()+"px"}:{marginLeft:t?G?8..toString()+"px":"0":((R+P|0)+O|0).toString()+"px"};R=d("MWUseAriaDescribedByForComposer.bs").useHook(a);P=c("useCometUniqueID")();m(r);O={canSendAudioClip:f,canSendFile:g,canSendPayment:n,color:I,isInputExpanded:t,onAttachmentsAdded:y,onSendMessage:z,supportedFileTypes:D,thread:a,voiceRecorder:K};B!==void 0&&(O.renderExtraOverflowMenuItems=c("bs_caml_option").valFromOption(B));return h.jsxs("div",{className:"xuk3077 x78zum5 x6prxxf xz9dl7a xsag5q8","data-testid":void 0,children:[h.jsx(d("MWV2ComposerPlusButton.bs").make,babelHelpers["extends"]({},O)),H?h.jsxs(h.Fragment,{children:[h.jsx(d("MWAudioRecorder.bs").make,{voiceRecorder:K}),h.jsx(d("MWV2ComposerSendButton.bs").make,{color:I,disabled:e,onPress:J})]}):null,h.jsxs("div",{className:c("stylex")(H?k.hidden:!1,k.container),children:[h.jsxs(c("MWTooltipGroup.react"),{children:[h.jsx("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm"+((t?" x1th4bbo":" x1th4bbo")+((G?" xat24cr":" x12nagc xw3qccf")+(t?" x1f85oc2 x1g2r6go x11xpdln":" x3oybdh x1g2r6go x11xpdln"))),style:S,children:h.jsx(d("MWV2ComposerFileButton.bs").make,{color:I,disabled:!g,onAttachmentsAdded:y,supportedFileTypes:D})}),h.jsx("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm"+((t?" x5zdck6":" x5h36tt")+((G?" xat24cr":" x12nagc xw3qccf")+(t?" x1f85oc2 x1g2r6go x11xpdln":" x3oybdh x1g2r6go x11xpdln"))),style:Q,children:h.jsx(d("MWV2ComposerStickerButton.bs").make,{color:I,disabled:!o,onSendMessage:z,useSecureSend:N})}),h.jsx("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm"+((t?" x1ahifba":" x5w5eug")+((G?" xat24cr":" x12nagc xw3qccf")+(t?" x1f85oc2 x1g2r6go x11xpdln":" x3oybdh x1g2r6go x11xpdln"))),style:T,children:h.jsx(d("MWV2ComposerGifButton.bs").make,{color:I,disabled:!j,isSecureThread:F,onSendMessage:z})})]}),u!==void 0?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:c("bs_caml_option").valFromOption(u)}):null,q!==void 0?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:c("bs_caml_option").valFromOption(q)}):null,h.jsxs("div",{className:"x78zum5 x1iyjqo2 x6q2ic0",style:M,children:[h.jsx("div",{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",id:P,children:R}),h.jsx(c("CometMessengerComposerInner.react"),{ariaDescribedBy:P,contentEditableRef:s,editor:r,handlePastedFiles:y,participants:v,policyProduct:A,surface:E,testId:"chat_input:rich-input",threadID:c("bs_int64").to_string(a.threadKey),topContent:h.jsx(d("MWV2ComposerMediaStaging.bs").make,{mediaStaging:w,onAttachmentRemoved:x,onAttachmentsAdded:y,supportedFileTypes:D,thread:a}),useMentionsPlugin:p&&L&&d("LSMessagingThreadTypeUtil").isGroup(a.threadType)})]}),h.jsx("div",{className:c("stylex")(H?k.hidden:!1,k.button,G?k.buttonMDS:k.buttonFDS,k.emojiButton),children:h.jsx(d("MWV2ComposerEmojiButton.bs").make,{color:I,editor:r})}),H?null:h.jsx(d("MWV2ComposerRoundedCorners.bs").TopRight.make,{}),H?null:h.jsx(d("MWV2ComposerRoundedCorners.bs").BottomRight.make,{})]}),H?null:t?h.jsx(d("MWV2ComposerSendButton.bs").make,{color:I,disabled:e,onPress:function(){return c("bs_curry")._1(C)}}):a.hasPersistentMenu&&!c("killswitch")("MESSENGER_WEB_PERSISTENT_MENU")?h.jsx(d("MWV2ComposerPersistentMenuButton.bs").make,{color:I,disabled:e,onSendMessage:z,thread:a}):h.jsx(d("MWV2ChatGrowingHotlikeButton.bs").make,{color:I,disabled:e,onSendMessage:z,thread:a})]})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=m;a=e;g.useParticipantsExcludingViewer=l;g.useEmojiTextNodeTransform=f;g.make=a}),98);
__d("MWV2ErrorComposer.bs",["fbt","MDSTextPairing.react","MWText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx("div",{className:"xcrg951 x1n2xptk x1a8lsjc xl521sm x9mfa4r x889kno",children:i.jsx(c("MDSTextPairing.react"),{headline:h._("__JHASH__viCgEPmOyD5__JHASH__"),headlineColor:"secondary",level:4,meta:i.jsx(c("MWText.react"),{numberOfLines:2,type:"meta3",children:h._("__JHASH__FrvKCKsD46D__JHASH__")}),reduceEmphasis:!0,textAlign:"center"})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2FileDropzone.bs",["fbt","LSFactory","LSIntEnum","LSIssueNewError","LSThreadBitOffset.bs","MWCMThreadTypes.react","MWText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=i.createContext(null);function k(a){var b=a.children;a=a.fileUploadHandlerRef;return i.createElement(j.Provider,{children:b,value:a})}b={make:k};var l={dropzone:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function m(a){if(a==null)return[];a=a.dataTransfer;if(a==null)return[];else return a.types}function n(a,b){var d=b!==0?b!==1?h._("__JHASH__UaK2GgtSNQH__JHASH__").toString():h._("__JHASH__M7mGXjgzxvT__JHASH__").toString():void 0;if(d===void 0)return;b=a.runInTransaction(function(a){return c("LSIssueNewError")(void 0,void 0,d,d,void 0,c("LSFactory")(a))},"readwrite");c("promiseDone")(b)}function o(a){if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return!0;else return a.type.startsWith("audio/")}e=["text/plain","text/html","text/uri-list"];var p=new Set(e);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var j=i.useRef(null),q=c("useReStore")();g=g!==void 0?d("MWCMThreadTypes.react").isBroadcastThread(g.threadType)&&!d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(56),g):!1;var r=!c("gkx")("1835569"),s=!!e||r||j.current==null||g;e=function(a){var b=j.current;if(b==null)return!1;else return!m(a).some(function(a){return p.has(a)})};r=c("useFileDragEvents")(function(){return!1},void 0,e);g=i.useCallback(function(a){var b=j.current;if(b==null)c("recoverableViolation")("Could not find fileUploadHandlerRef to handle dropped file!","messenger_comet");else{a=Array.from(a);var d=f?a.filter(o):a;a.length!==d.length&&n(q,a.length);!s&&d.length!==0&&b(d)}},[q,s,f]);e=i.useRef(null);c("useFileDragEvents")(g,e.current,function(a){return!0});return i.jsxs("div",{className:c("stylex")(l.root,(g=a)!=null?g:!1),ref:e,children:[i.jsx(k,{fileUploadHandlerRef:j,children:b}),!s&&r?i.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm",children:i.jsx(c("MWText.react"),{type:"body1",children:h._("__JHASH__t6-mJeiR6At__JHASH__")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";f=a;a=j;b=b;var q=m;e=e;var r=p;f=f;g.context=a;g.ContextProvider=b;g.getMediaTypes=q;g.ignoredMediaTypes=e;g.ignoredMediaTypesSet=r;g.make=f}),98);
__d("MWMediaTraceHandler.bs",["LSAppendDataTraceAddon","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:c("bs_caml_int64").zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:d("LSIntEnum").ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return h(a,b).then(function(){return c("LSAppendDataTraceAddon")(b,d("LSIntEnum").ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),c("bs_caml_int64").neg_one,void 0,c("bs_int64").to_string(e)+","+c("bs_int64").to_string(f),c("LSFactory")(a))})}g.logMediaSendStart=a}),98);
__d("MWPSendMessageLogger.bs",["MWMediaTraceHandler.bs","Promise","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend.bs").__setRef("MWPSendMessageLogger.bs");function a(a,b,c,d,e,f,g,i,j){h.onReady(function(h){return h.log(a,b,c,e,f,d,g,i,j,0,0)})}function e(a,c,e,f){if(c!==void 0)return d("MWMediaTraceHandler.bs").logMediaSendStart(a,c,e,f);else return b("Promise").resolve()}g.log=a;g.logMediaSendStart=e}),98);
__d("MWV2SendOpenMessage.bs",["ArmadilloDataTraceCheckPoint.bs","I64","LSAppendDataTraceAddon","LSAuthorityLevel","LSFactory","LSFlushDataTrace.bs","LSGenerateTraceId","LSInsertNewMediaSend","LSInt64.bs","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType","LSMarkSubJobCompletedV2","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingInitiatingSourceHook.bs","LSMessagingThreadTypeUtil","LSOptimisticSendMessage","LSShape","LSThreadBitOffset.bs","LSUpdateDraftMessage","LSVec","MAWDualSendPermissionsManager.bs","MAWOptimisticUpdateContactRelationship.bs","MWConsole","MWLSDefaultThreadSource","MWLSLogSend.bs","MWMediaTraceHandler.bs","MWMsgMediaTypeLogUtils","MWPActor.bs","MWPComposerMediaUploadUtil.bs","MWPOpenComposerUtils.bs","MWPReplyContext.bs","MWPSendMessageLogger.bs","MWVersion.bs","MessageRequestsLog.bs","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","OfflineThreadingId","Promise","ReQL.bs","ReStoreVaulting.bs","SortedAsyncIterable.bs","URLMatcher","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","gkx","promiseDone","qpl","react","useCometInteractionTracing","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,c,e,f){if(c!==void 0)return d("MWMediaTraceHandler.bs").logMediaSendStart(a,c,e,d("I64").of_int32(f));else return b("Promise").resolve()}function j(a,e,f){return f!=null&&c("gkx")("2517")?c("LSAppendDataTraceAddon")(f,d("ArmadilloDataTraceCheckPoint.bs").armadilloTlcControlOpenThread,c("bs_caml_int64").neg_one,void 0,e,c("LSFactory")(a)):b("Promise").resolve()}function k(a,b,e,f,g){if(a===void 0)return;if(!a.startsWith("blob:"))return;var h={contents:function(){}};h.contents=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("attachments")),{hd:f,tl:0}),function(d,e){switch(e.TAG){case 1:d=e._0;if(d.attachmentFbid!==b.toString())return;e=d.playableUrl;if(e!==void 0&&!e.startsWith("blob:")){c("bs_curry")._1(h.contents);URL.revokeObjectURL(a);return}else return;case 0:case 2:return}})}function a(a,e,f,g){var l=c("useReStore")(),m=d("MWPActor.bs").useActor(),n=h.useContext(d("MWPReplyContext.bs").context),o=n.clearReply,p=n.reply,q=d("LSMessagingInitiatingSourceHook.bs").useHook(),r=d("MAWDualSendPermissionsManager.bs").useIsThreadEligible(a.threadKey,a.threadType),s=d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(40),a),t=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION"),u=d("MWLSDefaultThreadSource").useHook();return h.useMemo(function(){return function(h,n,v,w,x,y,z,A,B,C,D){var E=d("LSMessagingThreadTypeUtil").isMessageRequest(a);return t(function(t){t.addAnnotationInt("is_pdb_enabled",c("gkx")("6543")?1:0);t.addMetadata("thread_id",c("bs_int64").to_string(a.threadKey));var F=u(a.threadKey),G={contents:!0},H=c("LSGenerateTraceId")(),I={contents:1},J=l.runInTransaction(function(e){var o=c("LSFactory")(e);return c("LSUpdateDraftMessage")(a.threadKey,"",o).then(function(){if(A===void 0)return d("ReQL.bs").toArray(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(e.table("media_staging")),function(b){if(b.isSent)return!1;else return c("bs_caml").i64_eq(b.threadKey,a.threadKey)})).then(function(k){var u=n!==void 0?d("LSShape").ofRecord({mention_ids:n.map(function(a){return a.id}).join(","),mention_lengths:n.map(function(a){return String(a.length)}).join(","),mention_offsets:n.map(function(a){return String(a.offset)}).join(","),mention_types:n.length!==0?n.map(function(a){return a.type}).join(","):void 0}):void 0,J=h!==void 0?d("ReStoreVaulting.bs").maybeUnvault(h).trim()!=="":!1,K=v!==void 0?(I.contents=4,!0):!1,L=y!==void 0?(I.contents=6,!0):!1,M=c("gkx")("4296"),N=M&&h!==void 0?c("URLMatcher").permissiveHostPathMatch(h)!=null:void 0;M=w!==void 0;var O=A!==void 0,P=k.length>0?k[0].mimeType.indexOf("image")>-1:!1,Q=k.length>0&&!P,R=p!=null;d("MWMsgMediaTypeLogUtils").logMessageMediaType(t,{hasEmoji:M,hasFile:Q,hasGif:L,hasImage:P,hasReply:R,hasSticker:K,hasText:J,hasVoiceClip:O});M=J||K||L?j(e,c("bs_int64").to_string(a.threadKey),H).then(function(){return c("LSOptimisticSendMessage")(m,a.threadKey,a.threadType,d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),h!==void 0?c("bs_caml_option").valFromOption(h):void 0,void 0,void 0,v!==void 0?c("bs_caml_option").valFromOption(v):void 0,w!==void 0?c("bs_caml_option").valFromOption(w):void 0,y!==void 0?c("bs_caml_option").valFromOption(y):void 0,x!==void 0?c("bs_caml_option").valFromOption(x):void 0,F,void 0,B!==void 0?c("bs_caml_option").valFromOption(B):void 0,c("bs_caml_option").option_get(p!==void 0?p.messageId:void 0),c("bs_caml_option").option_get(p!==void 0?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0),c("bs_caml_option").option_get(p!==void 0?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0),void 0,void 0,u!==void 0?c("bs_caml_option").valFromOption(u):void 0,c("bs_caml").i64_ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),!1,z!==void 0?c("bs_caml_option").valFromOption(z):void 0,q!==void 0?c("bs_caml_option").valFromOption(q):void 0,H!==void 0?c("bs_caml_option").valFromOption(H):void 0,g!==void 0?c("bs_caml_option").valFromOption(g):void 0,N,o)}).then(function(e){d("MWLSLogSend.bs").logSentHeroInteraction(t,e[0],{initiatingSource:q,mwVersion:d("MWVersion.bs").v2,threadType:a.threadType,isDualSend:r,isMessageRequest:E});f!==void 0&&c("bs_curry")._1(f,{_0:e[0],_1:J,_2:K,_3:L,TAG:0});return b("Promise").resolve(e)}):b("Promise").resolve();Q=function(a){return a.then(function(a){if(C===void 0)return b("Promise").resolve();if(a!==void 0){a=a[0];c("bs_curry")._1(C,a);return b("Promise").resolve(a)}c("bs_curry")._1(C);return b("Promise").resolve()})};if(k.length===0)return Q(M).then(function(c){d("MWPSendMessageLogger.bs").log(l,a.threadKey,a.threadType,m,c,[],F,I.contents,p!==void 0);return b("Promise").resolve()});P=k[0];I.contents=d("MessagingLoggingUtils").convertI64ToAttachmentType(P.attachmentType);return Q(M).then(function(g){return d("MWPComposerMediaUploadUtil.bs").createPartitionedAttachments(k,s).reduce(function(h,n){return h.then(function(){var h=c("LSGenerateTraceId")();return c("LSLocalApplyOptimisticMessageWithAttachments")(m,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,c("bs_caml_option").option_get(p!==void 0?p.messageId:void 0),c("bs_caml_option").option_get(p!==void 0?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0),c("bs_caml_option").option_get(p!==void 0?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0),void 0,c("LSVec").make(n.map(d("LSShape").ofRecord)),void 0,o).then(function(d){var g=d[0];return e.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:q,markThreadRead:!1,messageId:void 0,offlineThreadingId:g,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:c("bs_caml_format").caml_int64_of_string(g),threadAttributionSource:F,threadKey:a.threadKey}).then(function(){f!==void 0&&c("bs_curry")._1(f,{_0:g,_1:n.length,TAG:2});return b("Promise").resolve(g)})}).then(function(a){return i(e,h,c("bs_caml_int64").of_int32(n.length),I.contents).then(function(){return[a,h]})}).then(function(f){var h=f[1],i=f[0];return b("Promise").all(n.map(function(b,f){return c("LSInsertNewMediaSend")(b.attachment_fbid,i,c("bs_caml_int64").of_int32(f),b.attachment_type,!1,!1,!1,!1,o).then(function(){var f=k.find(function(a){return c("bs_caml_obj").caml_equal(a.offlineAttachmentId,b.offline_attachment_id)});if(f!==void 0){var g=f.fbid;if(g!==void 0)return c("LSMarkSubJobCompletedV2")(b.attachment_fbid,g,void 0,void 0,void 0,o).then(function(){return d("MWPOpenComposerUtils.bs").deleteMediaStaging(e,b.attachment_fbid)}).then(function(){return d("MWPOpenComposerUtils.bs").updateAttachment(e,a.threadKey,i,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0,attachmentFbid:c("bs_int64").to_string(g)})})})}G.contents=!1;return d("MWPOpenComposerUtils.bs").updateMediaStaging(e,b.attachment_fbid,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:!0,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:a.progress,threadKey:a.threadKey}}).then(function(){return d("MWPOpenComposerUtils.bs").updateAttachment(e,a.threadKey,i,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})})})})})).then(function(){d("MWPSendMessageLogger.bs").log(l,a.threadKey,a.threadType,m,g,n.map(function(a){return d("LSInt64.bs").ofString(a.attachment_fbid)}),F,I.contents,p!==void 0);return d("MWPOpenComposerUtils.bs").resumeSendJob(o,i,h)})}).then(function(){return j(e,c("bs_int64").to_string(a.threadKey),h)}).then(function(){return d("LSFlushDataTrace.bs").updateAndFlushTrace(e,c("bs_belt_Option").getExn(h))})})},b("Promise").resolve()).then(function(){var e=c("bs_int64").to_string(a.threadKey);e=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?[e,null]:[null,e];var f=e[0],g=e[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:G.contents?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:g,thread_fbid:f}});return b("Promise").resolve()})})});var u=d("OfflineThreadingId").createOfflineThreadingID(),J=d("MWPComposerMediaUploadUtil.bs").getAudioAttachment(u,A.file,A.duration);return i(e,H,c("bs_caml_int64").one,2).then(function(){return c("LSLocalApplyOptimisticMessageWithAttachments")(m,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,c("bs_caml_option").option_get(p!==void 0?p.messageId:void 0),c("bs_caml_option").option_get(p!==void 0?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0),c("bs_caml_option").option_get(p!==void 0?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0),void 0,c("LSVec").make([d("LSShape").ofRecord(J)]),void 0,o)}).then(function(d){var h=d[0];return e.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:q,markThreadRead:!1,messageId:void 0,offlineThreadingId:h,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:g,taskId:c("bs_caml_format").caml_int64_of_string(h),threadAttributionSource:F,threadKey:a.threadKey}).then(function(){f!==void 0&&c("bs_curry")._1(f,{_0:h,TAG:1});return b("Promise").resolve(h)})}).then(function(d){var a=J.attachment_fbid;return c("LSInsertNewMediaSend")(a,d,c("bs_caml_int64").zero,J.attachment_type,!1,!1,!1,!1,o).then(function(){return b("Promise").resolve([d,a])})}).then(function(e){var f=e[1],g=e[0];e=function(e,h){l.runInTransaction(function(e){var i=c("LSFactory")(e);return c("LSMarkSubJobCompletedV2")(f,c("bs_caml_int64").of_float(h),void 0,void 0,void 0,i).then(function(){return d("MWPOpenComposerUtils.bs").resumeSendJob(i,g,H)}).then(function(){k(J.playable_url,h,l,a.threadKey);return b("Promise").resolve()})},"readwrite");return d("MWPSendMessageLogger.bs").log(l,a.threadKey,a.threadType,m,g,[d("LSInt64.bs").string(c("bs_caml_int64").of_float(h))],F,d("MessagingLoggingUtils").convertI64ToAttachmentType(J.attachment_type),p!==void 0)};d("MWPComposerMediaUploadUtil.bs").startUpload(void 0,e,void 0,!0,[A.file],[f]);return b("Promise").resolve()})})},"readwrite","ui").then(function(){c("bs_curry")._1(e);c("bs_curry")._2(o,a.threadKey,!1);d("MAWOptimisticUpdateContactRelationship.bs").call(a,l,m);E&&d("MessageRequestsLog.bs").logActionConfirmed(a,c("bs_caml_int64").to_int32(d("LSIntEnum").ofNumber(1)));return b("Promise").resolve()});c("promiseDone")(J)})}},[c("bs_int64").to_string(a.threadKey),p,o,e,JSON.stringify(a.authorityLevel),q,t,g])}e=a;g.useOnSendOpenMessage=e}),98);
__d("MWPOpenTypingState.bs",["LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicator","MWPActor.bs","Promise","ReQL.bs","ReQLSuspense","bs_belt_Option","bs_caml","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,e,f,g){if(c("bs_caml").i64_eq(f,d("LSIntEnum").ofNumber(1))&&c("bs_caml").i64_neq(e,g))return d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:e,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,g)}),function(b){return c("bs_belt_Option").mapWithDefault(d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:b.contactId,tl:0})),!1,function(a){return c("bs_caml").i64_eq(a.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))})})).then(function(a){return b("Promise").resolve(c("bs_belt_Option").getWithDefault(a,!1))});else return b("Promise").resolve(!0)}function a(a){var e=c("useReStore")(),f=d("MWPActor.bs").useActor();return h.useCallback(function(g){if(!c("bs_caml").i64_ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;var h=i(e,a.threadKey,a.threadType,f).then(function(f){if(f)return e.runInTransaction(function(b){return c("LSSendTypingIndicator")(a.threadKey,d("LSMessagingThreadTypeUtil").isGroup(a.threadType),g,c("LSFactory")(b))},"readwrite");else return b("Promise").resolve()});c("promiseDone")(h)},[e,JSON.stringify(a.authorityLevel),JSON.stringify(a.threadKey),JSON.stringify(a.threadType),f])}e=a;g.useOnTypingStateChanged=e}),98);
__d("useMWOnTypingStateChanged",["MWChatViewerChatVisibilityHook","MWPOpenTypingState.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i=function(a){return void 0};function a(a){var b=d("MWPOpenTypingState.bs").useOnTypingStateChanged(a),e=c("MWChatViewerChatVisibilityHook")();return h(function(){return e?b:i},[b,e])}g["default"]=a}),98);
__d("MWSharedMediaManagerUtils.bs",["LSIntEnum","LSMailboxType","MWPComposerMediaUploadUtil.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,e,f){return a.runInTransaction(function(a){return b("Promise").all(e.map(function(b){var e=b[0];return a.table("media_staging").add({attachmentType:d("MWPComposerMediaUploadUtil.bs").getAttachmentType(e),durationMs:void 0,fbid:void 0,filename:e.name,fileSize:c("bs_caml_int64").of_int32(e.size),hasError:!1,isSent:!1,mailboxType:d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),mimeType:e.type,offlineAttachmentId:b[1],offlineThreadingId:void 0,previewHeight:void 0,previewUrl:URL.createObjectURL(e),previewWidth:void 0,progress:0,threadKey:f})}))},"readwrite")}function e(a,b){return a.runInTransaction(function(a){return a.table("media_staging")["delete"]({hd:b,tl:0})},"readwrite")}function i(a,b){return d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(a.table("media_staging")),function(a){if(a.isSent)return!1;else return c("bs_caml").i64_eq(a.threadKey,b)})}function f(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useArray(h.useMemo(function(){return i(b,a.threadKey)},[b,JSON.stringify(a.threadKey)]))}a=a;e=e;var j=i;f=f;g.insertMediaStaging=a;g.deleteMediaStaging=e;g.getMediaStaging=j;g.useMediaStaging=f}),98);
__d("MWMediaManager.bs",["FBLogger","LSMessagingThreadTypeUtil","MWChatFilePreProcessingErrorDialog.bs","MWChatFileUploadErrorDialog.bs","MWSharedMediaManagerUtils.bs","MercuryConstants","Promise","Promise.bs","bs_caml_option","bs_curry","cr:4021","promiseDone","requireDeferred","useCometAlertDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWOpenMediaManagerUtils.bs").__setRef("MWMediaManager.bs"),i=c("requireDeferred")("MWOpenMediaManagerUtils.bs").__setRef("MWMediaManager.bs");e=b("cr:4021")==null?void 0:c("bs_caml_option").some(b("cr:4021"));function a(a,e,f,g){var j=c("useReStore")(),k=c("useCometAlertDialog")(),l=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),m=d("MWSharedMediaManagerUtils.bs").useMediaStaging(a);e=function(e){var f=e.some(function(a){return a.size>c("MercuryConstants").AttachmentMaxSize});if(f)return c("bs_curry")._2(k,d("MWChatFileUploadErrorDialog.bs").maxFileSizeExceeded,function(){});f=function(d,a){if(a)if(b("cr:4021")==null){c("FBLogger")("messenger_web_product").warn("Unsupported thread type for media preprocess");return b("Promise").resolve([])}else return b("cr:4021").utils.load().then(function(a){return c("bs_curry")._1(a.preprocess,d)});else return i.load().then(function(a){return c("bs_curry")._1(a.preprocess,d)})};c("promiseDone")(d("Promise.bs").$$catch(f(e,l),function(a){c("bs_curry")._2(k,d("MWChatFilePreProcessingErrorDialog.bs").invalidFileFormat,function(){});return b("Promise").resolve([])}).then(function(e){c("promiseDone")(d("MWSharedMediaManagerUtils.bs").insertMediaStaging(j,e,a.threadKey));var f=a.threadKey;if(l)if(b("cr:4021")==null){c("FBLogger")("messenger_web_product").warn("Unsupported thread type for media upload");return b("Promise").resolve()}else return b("cr:4021").utils.load().then(function(a){return c("bs_curry")._3(a.upload,j,f,e)});else return h.load().then(function(a){return c("bs_curry")._4(a.upload,j,f,e,g)})}))};f=function(a){c("promiseDone")(d("MWSharedMediaManagerUtils.bs").deleteMediaStaging(j,a).then(function(){if(l&&!(b("cr:4021")==null))return b("cr:4021").utils.load().then(function(b){b.attachmentsMap["delete"](a)});else return b("Promise").resolve()}))};var n=function(){var a=m.map(function(a){return a.offlineAttachmentId});a.forEach(function(a){d("MWSharedMediaManagerUtils.bs").deleteMediaStaging(j,a)});if(l&&!(b("cr:4021")==null)){c("promiseDone")(b("cr:4021").utils.load().then(function(a){a.attachmentsMap.clear()}));return}};return{handleFileRemove:f,handleFileSelect:e,mediaStaging:m,resetAttachments:n}}f=e;e=a;g.mawMediaManagerUtilsDeferred=f;g.useMediaManager=e}),98);
__d("FDSContextBannerQuickActionsIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("497885"),20);b={icon:a};c=d("fbicon")._(h("477826"),20);e={icon:c};f=d("fbicon")._(h("485091"),20);a={icon:f};c=d("fbicon")._(h("481761"),20);f={icon:c};g.AddPeople=b;g.EditName=e;g.Members=a;g.Link=f}),98);
__d("MWV2ContextBanner.bs",["LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSNullstateDescriptionType","LSThreadBitOffset.bs","LSThreadTitle.bs","MAWGating","MWLSFeatureLimitedStatus.bs","MWText.react","MWThreadPicture.bs","RecoverableViolation.react","bs_caml","bs_caml_int64","bs_caml_option","cr:5777","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("cr:5777")==null?void 0:c("bs_caml_option").some(b("cr:5777"));e={wrapper:{paddingBottom:"xsag5q8",$$css:!0}};function j(a){var b=a.kind;a=a.text;if(c("bs_caml").i64_eq(b,c("bs_caml_int64").zero)||c("bs_caml").i64_eq(b,d("LSIntEnum").ofNumber(c("LSNullstateDescriptionType").SUBTEXT))||c("bs_caml").i64_eq(b,d("LSIntEnum").ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_DEFAULT))||c("bs_caml").i64_eq(b,d("LSIntEnum").ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_SUBTEXT)))return h.jsx("div",{className:"xsag5q8",children:h.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"body4",children:a})});else return h.jsx(c("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"})}e={make:j,styles:e};var k={container:{paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x1cnzs8",$$css:!0},image:{display:"x78zum5",justifyContent:"xl56j7k",marginBottom:"xod5an3",$$css:!0},title:{marginBottom:"xod5an3",$$css:!0}};function l(a){a=a.thread;var e=a.nullstateDescriptionType3,f=a.nullstateDescriptionText3,g=a.nullstateDescriptionType2,k=a.nullstateDescriptionText2,l=a.nullstateDescriptionType1,m=a.nullstateDescriptionText1,n=c("bs_caml").i64_eq(a.parentThreadKey,d("LSIntEnum").ofNumber(-18)),o=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);o=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!o||d("MAWGating").isFeatureLimitEnabled());return h.jsxs("div",{className:"xsag5q8 x1ye3gou xn6708d x1cnzs8","data-testid":void 0,children:[h.jsx("div",{className:"x78zum5 xl56j7k xod5an3",children:h.jsx(d("MWThreadPicture.bs").make,{badgeSize:14,photoSize:"s_60",thread:a})}),h.jsx("div",{className:"xod5an3",children:h.jsx(c("MWText.react"),{align:"center",type:"headlineEmphasized3",children:h.jsx(d("LSThreadTitle.bs").make,{thread:a,wrapOutput:function(a,b){return b}})})}),m!==void 0&&l!==void 0?h.jsx(j,{kind:l,text:m}):null,k!==void 0&&g!==void 0?h.jsx(j,{kind:g,text:k}):null,f!==void 0&&e!==void 0?h.jsx(j,{kind:e,text:f}):null,!(b("cr:5777")==null)&&!o&&d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&c("bs_caml").i64_gt(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").SERVER_PARTIAL))&&!n?h.jsx(i,{thread:a}):null]})}l.displayName=l.name+" [from "+f.id+"]";f={make:l,styles:k};function a(a){a=a.thread;var b=d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(47),a);if(b)return null;else return h.jsx(l,{thread:a})}k=a;a=e;e=f;f=k;g.NullstateDescription=a;g.Impl=e;g.make=f}),98);
__d("MWXMAEventFacepiles.react",["CometFacepile.react","I64","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.count,e=a.ctaId;a=a.urls;var f=e?d("I64").to_string(e):"",g=c("useReStore")();f=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(g.table("attachment_ctas")).getKeyRange(e):d("ReQL").empty()},[g,f]);var i=b!=null?d("I64").le(b,d("I64").of_int32(9)):!1;f=i?void 0:{target:"_blank",url:f==null?void 0:f.actionUrl};i=i?a.map(function(a){return{source:{uri:a}}}):a.slice(0,9).map(function(a){return{source:{uri:a}}});return i.length>0?h.jsx("div",{className:"x78zum5 xl56j7k","data-testid":void 0,children:h.jsx("div",{className:"x78zum5 xdt5ytf x193iq5w x889kno x1a8lsjc",role:"gridcell",children:h.jsx(c("CometFacepile.react"),{count:b!=null?d("I64").to_int32(b):a.length,isOverlapping:!0,items:i,linkProps:f,size:32})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAEventFacepiles.bs",["MWXMAEventFacepiles.react"],(function(a,b,c,d,e,f,g){"use strict";g.make=c("MWXMAEventFacepiles.react")}),98);
__d("MWPNewMessageDraftContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext();function a(a){a=a.children;var b=h.useRef("");return h.createElement(i.Provider,{children:a,value:b})}function b(){return h.useContext(i)}c=a;g.useContext=b;g.make=c}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","gkx","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,(e=b("cr:3101"))==null?void 0:e.MessengerLexicalCommandNode];function a(){var a=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"});c("gkx")("7606")&&(a.text={strikethrough:"xmqliwb"});var b=d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,b,function(b){c("FBLogger")("messenger_web_product").catching(a).mustfix("Lexical Error MWP \u2013 "+b)})},theme:a});return b}g["default"]=a}),98);
__d("useMWPCometComposerPrepopulateDraftMessage",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useLayoutEffect,i=b.useMemo;function a(a,b){var c=i(function(){return b.current},[b]);h(function(){var b=c;if(b==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),c=a.getFirstChild();d("Lexical").$isParagraphNode(c)||(c=d("Lexical").$createParagraphNode(),a.append(c));a=d("Lexical").$createTextNode(b);c.clear();c.append(a);a.select()}})},[a,c])}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a){h(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),b=d("Lexical").$getSelection(),c=d("Lexical").$createParagraphNode();a.clear();a.append(c);b!==null&&c.select()});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[a])}g["default"]=a}),98);
__d("useMWPLexicalIsTextContentEmpty",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useLayoutEffect,i=b.useState;function a(a,b,c){c=i((c=c)!=null?c:a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing(),b)));var e=c[0],f=c[1];h(function(){return a.registerUpdateListener(function(c){c=c.editorState;var e=a.isComposing();c=c.read(d("LexicalText").$isRootTextContentEmptyCurry(e,b));f(c)})},[a,b]);return e}g["default"]=a}),98);
__d("MWPComposerEditor.bs",["LSFactory","LSUpdateDraftMessage","Lexical","LexicalText","MWChatFocusComposerContext.bs","MWLSUseLatch.bs","MWPActor.bs","MWPNewMessageDraftContext.bs","MWPReplyContext.bs","MWPreloadedText","MWV2ChatComposerGetViewContent","MWV2ComposerHasContentContext.bs","MWV2IsTabFocusedContext.bs","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:11463","mwpLexicalCreateEditor","promiseDone","react","useDebounced","useLexicalInitializeEditor__DEPRECATED","useMWPCometComposerPrepopulateDraftMessage","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWPLexicalIsTextContentEmpty","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function j(a,b){h.useEffect(function(){c("bs_curry")._1(b,a.getEditorState())},[a,b]),h.useEffect(function(){return a.registerUpdateListener(function(a){return c("bs_curry")._1(b,a.editorState)})},[b,a])}function k(a,b){b=d("MWLSUseLatch.bs").useLatch(b,!0,5e3);var e=b[0],f=b[1],g=h.useRef("");h.useEffect(function(){var b=function(a){a=a.editorState.read(function(){return d("LexicalText").$rootTextContent()});if(a!==g.current){g.current=a;if(a==="")return c("bs_curry")._1(f);else return c("bs_curry")._1(e)}};return a.registerUpdateListener(b)},[e,f,a])}function l(a,b,e,f){var g=c("useReStore")(),i=d("MWPActor.bs").useActor();return h.useCallback(function(b){f!==void 0&&c("bs_curry")._4(f,JSON.stringify(e.getEditorState()),c("bs_int64").to_string(a.threadKey),String(b),i),c("promiseDone")(g.runInTransaction(function(d){return c("LSUpdateDraftMessage")(a.threadKey,b,c("LSFactory")(d))},"readwrite"))},[g,JSON.stringify(a.threadKey)])}function m(a){var b=i(d("MWPReplyContext.bs").context),e=b.reply,f=c("usePrevious")(e);h.useEffect(function(){var b=f==null?e!==void 0:c("bs_caml_obj").caml_notequal(f,e)?!0:!1;b&&a.focus(function(){})},[a,e,f==null?void 0:c("bs_caml_option").some(f)])}var n=b("cr:11463")==null?function(a){}:b("cr:11463").useHook;function a(a){var b=a.isSendDisabled,e=a.children,f=a.customizedRanges,g=a.deleteComposerStateForUserIdByThreadKey,o=a.getDraftThreadIds,p=a.getEditorState,q=a.isPreviewThread,r=a.mediaStaging,s=a.onSendEmptyMessage,t=a.onSendMessage,u=a.onTypingStateChanged,v=a.persistEditorState,w=a.policyProduct,x=a.surface,y=a.thread,z=a.useMWPComposerPrepopulateEditorState;a=a.getTextFromEditorState;var A=b!==void 0?b:!1,B=a!==void 0?a:function(a){return a.read(function(){return d("LexicalText").$rootTextContent()})},C=d("MWPNewMessageDraftContext.bs").useContext();b=i(c("MWPreloadedText"));a=b.text!=null?b.text:C!==void 0?C.current:y.draftMessage;b=h.useRef(a);var D=h.useRef(null);c("bs_curry")._1(n,D.current);var E=h.useMemo(function(){return c("mwpLexicalCreateEditor")()},[]);p=p!==void 0?c("bs_curry")._1(p,c("bs_int64").to_string(y.threadKey)):JSON.stringify(E.getEditorState());p=p!==void 0?JSON.parse(p):JSON.parse("{}");var F={contents:function(){return E.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)}},G=l(y,o,E,v),H=c("useDebounced")(G,2e3),I=h.useRef();o=d("MWV2ComposerHasContentContext.bs").useContext();var J=o.shouldClearDraftMessageRef,K=o.hasContentRef;h.useEffect(function(){return function(){if(J!==void 0&&J.current)return c("bs_curry")._1(G,"");var a=I.current;if(a!==void 0)return c("bs_curry")._1(G,a)}},[]);v=h.useCallback(function(a){a=a.read(function(){return d("LexicalText").$rootTextContent()});I.current=a;K!==void 0&&(K.current=a!=="");H(a);if(q&&C!==void 0){C.current=a;return}},[E,G,q]);j(E,v);k(E,u);o=a!==void 0?a.trim()==="":!0;v=c("useMWPLexicalIsTextContentEmpty")(E,!0,o);u=r.length>0;var L=!v||u,M=r.filter(function(a){return!a.isSent}).length;a=h.useContext(d("MWChatFocusComposerContext.bs").context);var N=a.setFocusComposer;h.useEffect(function(){c("bs_curry")._1(N,function(){return E.focus(function(){})})},[E]);h.useEffect(function(){M>0&&E.focus(function(){})},[E,M]);var O=d("MWV2IsTabFocusedContext.bs").useContext();h.useEffect(function(){O&&!q&&E.focus(function(){})},[E,O,q]);m(E);c("useMWPCometComposerPrepopulateDraftMessage")(E,b);z!==void 0&&c("bs_curry")._2(z,E,p);var P=d("MWPActor.bs").useActor(),Q=function(a,b,d,e,f,h,i,j,k,l){g!==void 0&&c("bs_curry")._2(g,c("bs_int64").to_string(y.threadKey),c("bs_int64").to_string(P));c("bs_curry").app(t,[a,b,d,e,f,h,i,j,k,void 0,void 0]);return E.focus(function(){})};o=h.useCallback(function(){if(A)return;if(L){var a=f!==void 0?c("bs_curry")._2(f,E,c("bs_int64").to_string(y.threadKey)):c("MWV2ChatComposerGetViewContent").getRanges(E),b=E.getEditorState();b=c("bs_curry")._1(B,b);Q(b,a)}else c("bs_curry")._1(s);I.current="";return c("bs_curry")._1(F.contents)},[E,Q,L,A]);c("useMWPLexicalCommitMessageOnEnter")(E,o);c("useLexicalInitializeEditor__DEPRECATED")(E);c("useMWPLexicalClearEditor")(E);return c("bs_curry")._6(e,E,x,w,L,D,o)}e=a;f=e;g.make=f}),98);
__d("getRingbackUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return null;a=new(c("URI"))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a}),98);
__d("MakeRoomRingback.bs",["LSIntEnum","MWThreadKey.bs","Promise","RTWebPreCallHooks","ReQL.bs","bs_caml","bs_int64","getRingbackUrl","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=d("RTWebPreCallHooks").useJoinMeetupCallback(),e=c("useReStore")(),f=d("MWThreadKey.bs").useIdMemoizedExn();return h.useCallback(function(g){var h=g.linkUrl;g=d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("threads")),{hd:f,tl:0})).then(function(e){if(e!==void 0){e=c("bs_caml").i64_eq(e.threadType,d("LSIntEnum").ofNumber(1))?c("getRingbackUrl")(h,c("bs_int64").to_string(e.threadKey)):(c("recoverableViolation")("Cannot ring a non user thread","rtc_www"),h);return b("Promise").resolve(a(e))}c("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return b("Promise").resolve()});c("promiseDone")(g,void 0,function(a){c("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[a,f,e])}g.getRingbackUrl=c("getRingbackUrl");g.useHook=a}),98);
__d("XWebGraphQLMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"},legacy_response_format:{type:"Bool",defaultValue:!1}})}),null);
__d("base62",[],(function(a,b,c,d,e,f){"use strict";var g="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function a(a){if(!a)return"0";var b="";while(a>0)b=g[a%62]+b,a=Math.floor(a/62);return b}f["default"]=a}),66);
__d("WebGraphQLMutationHelper",["CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,b){return d("WebGraphQLLegacyHelper").getURI({controller:c("XWebGraphQLMutationController"),docID:a,variables:{input:babelHelpers["extends"]({client_mutation_id:c("base62")(h++),actor_id:c("CurrentUser").getID()},b)}})}g.getMutationURI=a}),98);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","WebGraphQLMutationHelper","XMNCommerceCTAPostProcessController","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return e.location=a.payload}).send()};b.postHandle=function(a,b){a=d("WebGraphQLMutationHelper").getMutationURI(c("nullthrows")(c("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(b=a)!=null?b.id:b,action_type:(b=a)!=null?b.action_type:b,action_url:((b=a)!=null?b.action_url:b)||((b=a)!=null?b.action_link:b),click_source:e,page_id:(b=a)!=null?b.page_id:b};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();b=new a();g["default"]=b}),98);
__d("MNCommerceCTAProcessor.bs",["MNCommerceCTAProcessor","bs_caml_option"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("MNCommerceCTAProcessor").logCTAClick(a)}function b(a,b){c("MNCommerceCTAProcessor").process(a,b!==void 0?c("bs_caml_option").valFromOption(b):void 0)}g.logCTAClick=a;g.$$process=b}),98);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743837");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2898");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_primary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2899");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_secondary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2900");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_shown",a);e=b;g["default"]=e}),98);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743846");b=d("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e=b;g["default"]=e}),98);
__d("CommunityBotEnabledStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({ENABLED:"ENABLED",NOT_ENABLED:"NOT_ENABLED"});f["default"]=a}),66);
__d("LSContactReachabilityStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2});f["default"]=a}),66);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters",["GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation","GroupsCometDelayCheckBlockedUsers.relayprovider","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsPendingPostReviewDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider:b("GroupsCometDelayCheckBlockedUsers.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider")}}};e.exports=a}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery$Parameters",["GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsReviewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogNUXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MAttachBankSlipDialogQuery$Parameters",["P2MAttachBankSlipDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MAttachBankSlipDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MAttachBankSlipDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOrderDetailDialogQuery$Parameters",["P2MOrderDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOrderDetailDialogQuery_facebookRelayOperation"),metadata:{live:{polling_interval:1e4}},name:"P2MOrderDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOffsiteBankTransferDialogQuery$Parameters",["P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MOffsiteBankTransferDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5832261760118587"}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};c=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:c},params:{id:b("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatCustomerFeedbackStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4589106431193063"}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["MWChatCustomerFeedbackStateQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:c},params:{id:b("MWChatCustomerFeedbackStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatPIIFormNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5048028465289521"}),null);
__d("MWChatPIIFormNuxQuery.graphql",["MWChatPIIFormNuxQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"MessengerPIIFormFirstPartyPrivacyObject",kind:"LinkedField",name:"messenger_pii_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatPIIFormNuxQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatPIIFormNuxQuery",selections:a},params:{id:b("MWChatPIIFormNuxQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormNuxQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatPIIFormStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4923666631045015"}),null);
__d("MWChatPIIFormStateQuery.graphql",["MWChatPIIFormStateQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormStateQueryObject",kind:"LinkedField",name:"messenger_pii_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormStateQuery",selections:c},params:{id:b("MWChatPIIFormStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormStateQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatReceiptDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7735392359808092"}),null);
__d("MWChatReceiptDataQuery.graphql",["MWChatReceiptDataQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"messageID"},c={defaultValue:null,kind:"LocalArgument",name:"receiptID"},d=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:d,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"MWChatReceiptDataQuery",selections:d},params:{id:b("MWChatReceiptDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint",["GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.authorID,e=a.groupID,f=a.postID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters"),variables:{authorID:b,feedLocation:"GROUP_PENDING",focusCommentID:null,groupID:e,postID:f,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_pending_queue",scale:a?a:d("WebPixelRatio").get(),useDefaultActor:!1}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsPendingPostReviewDialog.react").__setRef("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("GroupsCometAdmodChatsReviewDialog.entrypoint",["GroupsCometAdmodChatsReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID,e=a.profileID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsReviewDialogQuery$Parameters"),variables:{groupID:b,profileID:e,scale:a?a:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsReviewDialog.react").__setRef("GroupsCometAdmodChatsReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("CometMarketplaceCreateDiscountedPriceDialog.entrypoint",["CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters","CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=d("WebPixelRatio").get();return{queries:{cometMarketplaceCreateDiscountedPriceDialogContentQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters"),variables:{thread_id:a.threadId}},cometMarketplaceCreateDiscountedPriceDialogNUXQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters"),variables:{contentParams:{pixelRatio:b},scale:b}}}}},root:c("JSResourceForInteraction")("CometMarketplaceCreateDiscountedPriceDialog.react").__setRef("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")};g["default"]=a}),98);
__d("P2MAttachBankSlipDialog.entrypoint",["JSResourceForInteraction","P2MAttachBankSlipDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MAttachBankSlipDialogQueryReference:{parameters:b("P2MAttachBankSlipDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MAttachBankSlipDialog.react").__setRef("P2MAttachBankSlipDialog.entrypoint")};g["default"]=a}),98);
__d("FBP2MCheckoutDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("FBP2MCheckoutDialog.react").__setRef("FBP2MCheckoutDialog.entrypoint")};g["default"]=a}),98);
__d("P2MOrderDetailDialog.entrypoint",["JSResourceForInteraction","P2MOrderDetailDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOrderDetailDialogQueryReference:{parameters:b("P2MOrderDetailDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MOrderDetailDialog.react").__setRef("P2MOrderDetailDialog.entrypoint")};g["default"]=a}),98);
__d("P2MOffsiteBankTransferDialog.entrypoint",["JSResourceForInteraction","P2MOffsiteBankTransferDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOffsiteBankTransferDialogQueryReference:{parameters:b("P2MOffsiteBankTransferDialogQuery$Parameters"),variables:{input:{invoice_id:a}}}}}},root:c("JSResourceForInteraction")("P2MOffsiteBankTransferDialog.react").__setRef("P2MOffsiteBankTransferDialog.entrypoint")};g["default"]=a}),98);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={aspectRatioWrapper:{height:"xqtp20y",marginStart:"x12mruv9",marginTop:"xr9ek0c",paddingBottom:"x1vrad04",position:"x1n2onr6",$$css:!0},grid:{display:"x78zum5",flexWrap:"x1a02dak",marginStart:"x8182xy",marginTop:"x1kgmq87",$$css:!0},gridImage:{bottom:"x1ey2m1c",end:"xds687c",height:"x5yr21d",objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},gridItem:{flexBasis:"x1yu6fn4",$$css:!0}};function a(a){return h.jsx("ul",{className:"x78zum5 x1a02dak x8182xy x1kgmq87",children:a.urls.map(function(a){return h.jsx("li",{className:"x1yu6fn4",children:h.jsx("div",{className:"xqtp20y x12mruv9 xr9ek0c x1vrad04 x1n2onr6",children:h.jsx(c("BaseImage.react"),{src:a,xstyle:i.gridImage})})},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=function(a){a=a.previewUrl;return a};function a(a){var b=a.attachmentItems;a=i(function(){return b.map(j).filter(Boolean)},[b]);return h.jsx("div",{className:"x193iq5w xgqtt45 xdzyupr",children:h.jsx(c("MWPResponsiveImageGrid.react"),{urls:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:h.jsx(c("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilePreview.bs",["CometImageCover.react","MWChatFileIconV2.react","bs_belt_Option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,d=a.fileName;a=a.withPreview;var e={maxHeight:"148px",objectPosition:"top"},f=h.jsx("div",{className:"x1ye3gou",children:h.jsx(c("MWChatFileIconV2.react"),{})});b=c("bs_belt_Option").flatMap(b,function(a){return a.previewUrl});if(b===void 0)return f;if(!a)return f;a=c("bs_belt_Option").getWithDefault(d,"");return h.jsx(c("CometImageCover.react"),{alt:a,src:b,style:e})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWChatOpenTabByThreadKey.bs",["LSAuthorityLevel","LSContactType","LSFactory","LSIntEnum","LSVerifyThreadRowExists","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWPActor.bs","Promise","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,e){var f=c("useReStore")(),g=d("MWChatOpenTabForUser.bs").useHook(void 0,e),i=g[0],j=d("MWChatOpenTabForPage.bs").useHook(void 0,e),k=d("MWPActor.bs").useActor(),l=h.useMemo(function(){return new(b("Promise"))(function(b,e){e=d("ReQL.bs").mergeJoin(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("participants")),{hd:a,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,k)}),d("ReQL.bs").fromTableAscending(f.table("contacts")));var g={contents:function(){}};g.contents=d("SortedAsyncIterable.bs").subscribe(e,function(a,e){switch(e.TAG){case 0:case 1:break;case 2:return}a=e._0[1];if(c("bs_caml").i64_ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){c("bs_curry")._1(g.contents);return b(a)}});c("promiseDone")(d("ReQL.bs").first(e),function(e){if(e!==void 0){e=e[1];if(c("bs_caml").i64_ge(e.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){c("bs_curry")._1(g.contents);return b(e)}else return}c("promiseDone")(f.runInTransaction(function(b){return c("LSVerifyThreadRowExists")(a,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(1),c("LSFactory")(b))},"readwrite"))})})},[a,f]);return h.useCallback(function(){c("promiseDone")(l,function(b){var e=c("bs_int64").to_string(a);b=b.contactType;if(c("bs_caml").i64_eq(b,d("LSIntEnum").ofNumber(c("LSContactType").PAGE)))return j(e,!1);else return i(e,!1)})},[l,i,j,a])}g.useHook=a}),98);
__d("MWLSMediaSendUtils.bs",["LSFactory","LSMarkSubJobCompletedV2","LSResumeMediaSendJob","bs_caml_format","bs_caml_int64","bs_caml_option"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a.toString()};function a(a,b,d,e,f,g,i){i=e!==void 0?c("bs_caml_option").valFromOption(e):void 0;e=f!==void 0?c("bs_caml_option").valFromOption(f):void 0;f=g!==void 0?c("bs_caml_option").valFromOption(g):void 0;return c("LSMarkSubJobCompletedV2")(b,c("bs_caml_format").caml_int64_of_string(h(d)),i!==void 0?c("bs_caml_option").valFromOption(i):void 0,e!==void 0?c("bs_caml_option").valFromOption(e):void 0,f!==void 0?c("bs_caml_option").valFromOption(f):void 0,c("LSFactory")(a))}function b(a,b){return c("LSResumeMediaSendJob")(b,c("bs_caml_int64").zero,void 0,c("LSFactory")(a))}g.castFbidFromNumber=h;g.markSubJobCompleted=a;g.resumeMediaSendJob=b}),98);
__d("MWLSImagePostbackCtaHandler.bs",["ActorURI","LSFactory","LSInsertNewMediaSend","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType","LSMarkSubJobCompletedV2","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessage","LSResumeMediaSendJob","LSShape","LSThreadAttributionTypeUtil.bs","LSVec","MWLSMediaSendUtils.bs","MWPActor.bs","MWThreadKey.bs","MercuryConfig","MercuryLocalIDs","MessagingAttachmentType","Promise","URI","XComposerPhotoUploader","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,e,f,g,h,i,j){var k=d("MercuryLocalIDs").generateOfflineThreadingID();return c("LSLocalApplyOptimisticMessageWithAttachments")(e,f,d("LSIntEnum").ofNumber(1),void 0,void 0,!1,void 0,void 0,d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").NONE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,c("LSVec").make([d("LSShape").ofRecord({action_url:void 0,attachment_fbid:k,attachment_index:c("bs_caml_int64").zero,attachment_type:d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:k,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:void 0,playable_url_mime_type:void 0,preview_height:void 0,preview_url:g,preview_url_mime_type:"image/jpeg ",preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0})]),void 0,c("LSFactory")(a)).then(function(d){var e=d[0];return a.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!0,messageId:void 0,offlineThreadingId:e,platformRef:void 0,platformToken:h,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:c("bs_caml_format").caml_int64_of_string(e),threadAttributionSource:i,threadKey:f}).then(function(){return b("Promise").resolve([e,k])})})}function a(a,e){var f=c("useReStore")(),g=d("MWPActor.bs").useActor(),j=d("MWThreadKey.bs").useIdMemoizedExn();return h.useMemo(function(){return function(h,k,l){var m=c("bs_int64").to_string(g),n=function(a){var e=a[1],g=a[0],h=new(c("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){a=f.runInTransaction(function(a){return c("LSInsertNewMediaSend")(e,g,c("bs_caml_int64").zero,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE),!1,!1,!1,!1,c("LSFactory")(a))},"readwrite");c("promiseDone")(a)},onUploadSuccess:function(a,b){a=b.response.payload.metadata[0];b=a.image_id;if(b===void 0)return;var h=c("bs_caml_option").valFromOption(b);a=f.runInTransaction(function(a){return c("LSMarkSubJobCompletedV2")(e,c("bs_caml_format").caml_int64_of_string(d("MWLSMediaSendUtils.bs").castFbidFromNumber(h)),void 0,void 0,void 0,c("LSFactory")(a)).then(function(){return c("LSResumeMediaSendJob")(g,c("bs_caml_int64").zero,void 0,c("LSFactory")(a))})},"readwrite");c("promiseDone")(a)},retryLimit:1,uploadEndpoint:new(d("ActorURI").create)(new(c("URI"))(c("MercuryConfig").upload_url),m)});a=window.fetch(l).then(function(a){return a.blob()}).then(function(a){h.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})]).send();return b("Promise").resolve()});c("promiseDone")(a)},o=d("LSThreadAttributionTypeUtil.bs").getSource(j,a),p=f.runInTransaction(function(a){return c("LSOptimisticSendMessage")(g,j,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),h,h,!1,void 0,void 0,void 0,void 0,o,void 0,void 0,void 0,d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").NONE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,void 0,void 0,!0,!0,void 0,e!==void 0?c("bs_caml_option").valFromOption(e):void 0,void 0,void 0,void 0,c("LSFactory")(a))},"readwrite").then(function(a){return f.runInTransaction(function(a){return i(a,g,j,l,k,o,e).then(function(a){c("bs_curry")._1(n,a)})},"readwrite")});c("promiseDone")(p)}},[f,g,j])}g.usePostbackCtaHandler=a}),98);
__d("MWLSMarketplaceXmaCallFunctionCtaHandler.bs",["LSFactory","LSOptimisticProcessMarketplaceCallFunctionCTA","MWPActor.bs","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useReStore")(),b=d("MWThreadKey.bs").useIdMemoizedExn(),e=d("MWPActor.bs").useActor();return h.useCallback(function(d){return function(e,f,g){var h=a.runInTransaction(function(a){return c("LSOptimisticProcessMarketplaceCallFunctionCTA")(d,b,e,f,g,c("LSFactory")(a))},"readwrite");c("promiseDone")(h)}},[a,b,e])}g.useMarketplaceXmaCallFunctionCtaHandler=a}),98);
__d("MWLSPostbackCtaHandler.bs",["Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingInitiatingSourceHook.bs","LSMessagingSource","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","MWPActor.bs","MWThreadKey.bs","bs_caml_option","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(){var a=c("useReStore")(),b=d("MWPActor.bs").useActor(),e=d("MWThreadKey.bs").useIdMemoizedExn(),f=d("LSMessagingInitiatingSourceHook.bs").useHook(),g=d("LSMessagingSource").useHook();return d("Int64Hooks").useCallbackInt64(function(h,i){var j=d("LSThreadAttributionTypeUtil.bs").getSource(e,g);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendMessage")(b,e,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),i,i,!1,void 0,void 0,void 0,void 0,j,void 0,h,void 0,d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").NONE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,void 0,void 0,!0,!0,void 0,f!==void 0?c("bs_caml_option").valFromOption(f):void 0,void 0,void 0,void 0,c("LSFactory")(a))},"readwrite"))},[a,g,f,b,e])}g.usePostbackCtaHandler=a}),98);
__d("MWLSWebUrlCtaHandler.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useCometLazyDialog")(c("JSResource")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler.bs")),b=a[0];return h.useCallback(function(a){return b({htmlBlob:a},function(){})},[b])}g.useShowWebViewDialog=a}),98);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e({firstScreen:a.messenger_feedback_form_data.first_screen,formId:a.messenger_feedback_form_data.form_id,pageId:a.messenger_feedback_form_data.page_id,privacy:a.messenger_feedback_form_data.privacy})});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackFormDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_feedback_form_state.form_state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatPollXMAActionHandler.bs",["JSResource","MWThreadKey.bs","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=d("MWThreadKey.bs").useIdMemoized(),b=c("useCometLazyDialog")(c("JSResource")("MWChatPollDetailsDialog.react").__setRef("MWChatPollXMAActionHandler.bs")),e=b[0];return h.useCallback(function(b,c){return e({pollId:b,threadKey:a,title:c},function(){})},[e])}g.useHandler=a}),98);
__d("MWV2ChatReactionsTooltip.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSClearReactionsV2DetailsAndRange","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetch","LSMessagingThreadTypeUtil","LSThreadBitOffset.bs","LSVerifyContactRowExists","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWLSThread.bs","MWPActor.bs","Promise","ReQL","ReQLSuspense","gkx","intlSummarizeNumber","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useEffect,k=e.useMemo,l=9;function a(a){var b=a.messageId,e=a.reactions;a=a.threadKey;var f=d("MWLSThread.bs").useThread(a),g=f!=null?d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(f.threadType):!1,h=f!=null&&d("MWCMThreadTypes.react").isBroadcastThread(f.threadType)&&c("gkx")("8026")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),f),j=f!=null&&c("MWCMIsAnyCMThread")(f.threadType)&&!d("MWCMThreadTypes.react").isBroadcastThread(f.threadType)&&c("gkx")("2551")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),f);return h||j||g?i.jsx(n,{messageId:b,reactions:e,threadKey:a}):i.jsx(m,{messageId:b,parentThreadKey:f==null?void 0:f.parentThreadKey,reactions:e,threadKey:a})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var e=a.messageId,f=a.parentThreadKey,g=a.reactions,m=a.threadKey,n=c("useReStore")(),o=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(n.table("reactions")).getKeyRange(m,e),d("ReQL").fromTableAscending(n.table("contacts")))},[n,m,e]),p=d("ReQLSuspense").useArray(function(){return f===void 0?d("ReQL").empty():d("ReQL").fromTableAscending(n.table("contextual_profile_v1").index("associatedEntityIdAndOwner")).getKeyRange(f)},[n,f]);j(function(){c("promiseDone")(n.runInTransaction(function(a){return b("Promise").all(o.map(function(e){e=e[1];if(e!==void 0)return c("LSVerifyContactRowExists")(e.id,d("LSIntEnum").ofNumber(c("LSContactIdType").FBID),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,!1,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(a));else return b("Promise").resolve()}))},"readwrite"))},[n,o]);a=k(function(){var a=new Map(o.map(function(a){var b=a[1];b===void 0&&c("FBLogger")("messenger_web_product").debug("missing contact for reaction tooltip");return[d("I64").to_string(a[0].actorId),b!=null?b.name:h._("__JHASH__AaE4hJExM0x__JHASH__")]})),b=new Map();for(var e=p,f=Array.isArray(e),i=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(f){if(i>=e.length)break;j=e[i++]}else{i=e.next();if(i.done)break;j=i.value}j=j;var k=j==null?void 0:j.profileName;k!=null&&b.set(d("I64").to_string(j.ownerId),k)}j=g.map(function(c){c=d("I64").to_string(c.actorId);if(b.has(c))return b.get(c);c=a.get(c);if(c==null)return"";else return c}).filter(function(a){return a!==""});k=j.length;i=j.slice(0,l);if(k>l){f=k-l;i.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(f),h._param("count",String(f))]))}return i},[p,g,o]);a=a.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.messageId,e=a.threadKey,f=c("useReStore")();j(function(){f.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRange")(c("LSFactory")(a))},"readwrite"),f.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(e,b,void 0,void 0,c("LSFactory")(a))},"readwrite")},[f,e,b]);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(f.table("reactions_v2_details")).getKeyRange(e,b).map(function(a){return a.fullName})},[f,e,b]);var g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(f.table("reactions_v2")).getKeyRange(e,b)},[f,e,b]),k=g?g.map(function(a){return a.viewerIsReactor}):[];k=k.length>0?k.reduce(function(a,b){return a||b}):!1;var m=d("MWPActor.bs").useActor(),n=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(f.table("contacts")).getKeyRange(m)},[f,m]);g=g?g.map(function(a){return d("I64").to_int32(a.count)}).filter(function(a){return a>0}):[];JSON.stringify(g)===JSON.stringify([1])&&k&&a.length===0?a.push(n==null?void 0:n.name):k&&a[0]!=null&&n&&((g=a[0])==null?void 0:g.toString())!==(n==null?void 0:n.name)&&a.unshift(n.name);k=h._("__JHASH__GTBXwO8BaZr__JHASH__");g=a.slice(0,l);if(a.length>l){n=a.length-l;g.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(n),h._param("count",String(c("intlSummarizeNumber")(n)))]))}a=g.length===0?k:g.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:a})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageReactionsContainer.react",["I64","MWChatReactionEmoji.bs","MWChatReactionsUtils.bs","MWTooltip.react","MWV2ChatReactionsTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={emoji:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",lineHeight:"x14ju556",$$css:!0},emojiMargin:{marginEnd:"xcwd3tp",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x14ju556",textAlign:"x2b8uid",width:"x1a00udw",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",boxShadow:"x10vwrwz",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x4p5aij",paddingEnd:"x19um543",paddingBottom:"x1j85h84",paddingStart:"x1m6msm",textAlign:"xp4054r",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0}};function a(a){var b=a.count,e=a.emojis,f=a.messageId,g=a.reactions,j=a.reactionsV2;a=a.threadKey;j=j!=null?j.map(function(a){return d("I64").to_int32(a.count)}).reduce(function(a,b){return a+b},0):0;var k=b>1||j>1,l=e.map(function(a,b){var f=k||b!==e.length-1,g=d("MWChatReactionsUtils.bs").isHeart(a[0]);return h.jsx("div",{className:c("stylex")(i.emoji,f?i.emojiMargin:!1),children:h.jsx("div",{className:c("stylex")(g?i.scaleHeartEmoji:!1),children:h.jsx(d("MWChatReactionEmoji.bs").make,{emoji:a,size:16,testid:void 0})})},String(b))});return h.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:h.jsx(c("MWV2ChatReactionsTooltip.react"),{messageId:f,reactions:g,threadKey:a}),children:h.jsxs("div",{className:"x6s0dn4 x2bj2ny x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x10vwrwz x78zum5 xl56j7k x4p5aij x19um543 x1j85h84 x1m6msm xp4054r",role:"none",children:[l,k?h.jsx("div",{className:"xi81zsa x1ncwhqj x14ju556 x2b8uid x1a00udw",role:"none",children:j>1?String(j):String(b)}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPStableImage.bs",["CometObjectFitContainer.react","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={constraint:{maxWidth:"x193iq5w",$$css:!0},image:{display:"x1lliihq",height:"xt7dq6l",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageFill:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function j(a){var b=a.alt,d=a.aspectRatio,e=a.maxHeight;a=a.src;var f=h.useMemo(function(){return{display:"block",maxHeight:e.toString()+"px",maxWidth:"100%"}},[e]);b=h.jsx("img",{alt:b,className:c("stylex")(i.image,d===void 0?!1:i.imageFill),src:a,style:f});if(d!==void 0)return h.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:d,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:b});else return b}b={make:j};function k(a){var b=a.children,d=a.aspectRatio,e=a.className,f=a.height,g=a.maxHeight,i=a.maxWidth;a=b!==void 0?c("bs_caml_option").valFromOption(b):null;b=h.useMemo(function(){if(d!==void 0&&f!==void 0)return{maxWidth:"100%",width:(d*Math.min(g,f)).toString()+"px"}},[d,f,g]);var j=h.useMemo(function(){if(i!==void 0)return{maxWidth:i.toString()+"px"}},[i]);return h.jsx("div",{className:"x193iq5w",children:h.jsx("div",{style:j,children:h.jsx("div",{className:e,style:b,children:a})})})}k.displayName=k.name+" [from "+f.id+"]";e={make:k};function a(a){var b=a.alt,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth,i=a.src;a=a.width;var l=a!==void 0&&e!==void 0?a/e:void 0;return h.jsxs(k,{aspectRatio:l,className:d,height:e,maxHeight:f,maxWidth:g,width:a,children:[h.jsx(j,{alt:b,aspectRatio:l,maxHeight:f,src:i}),c]})}a.displayName=a.name+" [from "+f.id+"]";d=a;f=e;a=d;g.$$Image=b;g.Container=f;g.make=a}),98);
__d("MWV2ReplyTo.bs",["fbt","CometScreenReaderText.react","MWPSolidMessageBubble.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={content:{color:"xi81zsa",fontSize:"x1nxh6w3",lineHeight:"x1btupbp",overflowWrap:"x1mzt3pk",paddingBottom:"xsag5q8",$$css:!0}};function a(a){var b=a.children,e=a.outgoing;a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;return i.jsxs(d("MWPSolidMessageBubble.bs").make,{connectBottom:!0,connectTop:!1,outgoing:e,precedesXMA:!1,style:{backgroundColor:"var(--mwp-reply-background-color)"},children:[i.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__pLiiclD1jc1__JHASH__")}),i.jsx("div",{className:c("stylex")(j.content,a),"data-testid":void 0,children:b})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatImageSize.bs",["bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,d){var e=b!==void 0?b:!1,f=h.useRef();d=h.useState(function(){});var g=d[1];h.useEffect(function(){if(a===void 0)return;if(f.current===void 0&&!e){var b=new Image();b.src=a;b.onload=function(){return c("bs_curry")._1(g,function(){return{height:b.naturalHeight,width:b.naturalWidth}})};f.current=c("bs_caml_option").some(b)}return function(){c("bs_curry")._1(g,function(){});var a=f.current;if(a===void 0)return;a=c("bs_caml_option").valFromOption(a);a.onload=null}},[a,e,g]);return d[0]}g.useImageSize=a}),98);
__d("MWV2Sticker.bs",["MWChatImageSize.bs","MWLSThreadDisplayContext","MWPColorUtils.bs","MWPThreadTheme.bs","Sticker.react","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return h.useMemo(function(){var c=b!==void 0?b==="Inbox"?.75:.5:.5;if(a<60)return 1;else return c},[a,b])}b={useHook:i};function a(a){var b=a.xstyle,e=a.attachment,f=a.getPreviewUrl;a=a.scale;b=b!==void 0?c("bs_caml_option").valFromOption(b):!1;f=c("bs_curry")._1(f,e);var g=c("bs_belt_Option").map(e.previewHeight,c("bs_caml_int64").to_int32),j=c("bs_belt_Option").map(e.previewWidth,c("bs_caml_int64").to_int32),k=i(c("bs_belt_Option").getWithDefault(g,120)),l=d("MWPThreadTheme.bs").useHook(),m=j!==void 0&&g!==void 0;m=d("MWChatImageSize.bs").useImageSize(f,m);var n,o=0;j!==void 0&&g!==void 0?n=[j,g]:o=1;o===1&&(n=m!==void 0?[m.width,m.height]:[24,24]);return h.jsx(c("Sticker.react"),{accessibilityLabel:c("bs_belt_Option").getWithDefault(e.accessibilitySummaryText,""),animationTrigger:"load_and_hover",className:c("stylex")(b),customColor:d("MWPColorUtils.bs").int64ToHex(l.threadTheme.fallbackColor),enablePopoverIfPassesGK:!0,frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI:void 0,scale:c("bs_belt_Option").getWithDefault(a,k),sourceHeight:n[1],sourceURI:f,sourceWidth:n[0],spriteURI:void 0,stickerID:e.attachmentFbid,tabIndex:-1})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=b;a=e;g.StickerScale=f;g.make=a}),98);
__d("LSCTAIconType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,FB:1});f["default"]=a}),66);
__d("LSCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({FALLBACK:"fallback",PAGE_FEEDBACK_DO_NOT_USE:"page_feedback",XMA_PAGE_SHARE:"xma_page_share",XMA_ELEMENT_SHARE:"xma_element_share",XMA_PAYMENT:"xma_payment",XMA_GAME_PLAY:"xma_game_play",XMA_WEB_URL:"xma_web_url",XMA_EXTENSION:"xma_extension",XMA_POSTBACK:"xma_postback",XMA_OPEN_NATIVE:"xma_open_native",XMA_OPEN_DIALOG:"xma_open_dialog",XMA_FBPAY_OFFER_DETAIL:"xma_fbpay_offer_detail",XMA_REFERRAL_ACCEPT:"xma_referral_accept",XMA_REFERRAL_SEE_TERMS:"xma_referral_see_terms",XMA_REFERRAL_SEND_MONEY:"xma_referral_send_money",XMA_REFERRAL_SEE_DETAILS:"xma_referral_see_details",XMA_REFERRAL_INVITE_FRIENDS:"xma_referral_invite_friends",XMA_BRANDED_CAMERA:"xma_branded_camera",XMA_ACCOUNT_LINK:"xma_account_link",XMA_ACCOUNT_UNLINK:"xma_account_unlink",XMA_DIRECT_SEND:"xma_direct_send",XMA_FEEDBACK_SEND:"xma_feedback_send",XMA_LIVE_LOCATION_SHARING:"xma_live_location_sharing",XMA_STATIC_LOCATION_SHARING:"xma_static_location_sharing",XMA_SPONSORED_MESSAGE_WEB_URL:"xma_sponsored_message_web_url",XMA_SPONSORED_MESSAGE_POSTBACK:"xma_sponsored_message_postback",XMA_BIZ_INBOX_FORM_SEND:"xma_biz_inbox_form_send",XMA_RTC_AUDIO:"xma_rtc_audio",XMA_RTC_VIDEO:"xma_rtc_video",XMA_RTC_MISSED_AUDIO:"xma_rtc_missed_audio",XMA_RTC_MISSED_VIDEO:"xma_rtc_missed_video",XMA_RTC_MISSED_GROUP_AUDIO:"xma_rtc_missed_group_audio",XMA_RTC_MISSED_GROUP_VIDEO:"xma_rtc_missed_group_video",XMA_RTC_ENDED_AUDIO:"xma_rtc_ended_audio",XMA_RTC_ENDED_VIDEO:"xma_rtc_ended_video",XMA_RTC_NEW_AUDIO_DEFAULT:"xma_rtc_new_audio_default",XMA_RTC_NEW_VIDEO_DEFAULT:"xma_rtc_new_video_default",XMA_RTC_NEW_AUDIO_FROM_FB_SHARE:"xma_rtc_new_audio_from_fb_share",XMA_RTC_NEW_VIDEO_FROM_FB_SHARE:"xma_rtc_new_video_from_fb_share",XMA_RTC_NEW_AUDIO_FROM_FB_VIDEO_SHARE:"xma_rtc_new_audio_from_fb_video_share",XMA_RTC_NEW_VIDEO_FROM_FB_VIDEO_SHARE:"xma_rtc_new_video_from_fb_video_share",XMA_RTC_NEW_AUDIO_FROM_COWATCH_SHARE:"xma_rtc_new_audio_from_cowatch_share",XMA_RTC_NEW_VIDEO_FROM_COWATCH_SHARE:"xma_rtc_new_video_from_cowatch_share",XMA_RTC_COWATCH_START_VIDEO:"xma_rtc_cowatch_start_video",XMA_RTC_APPLY_EFFECT:"xma_rtc_apply_effect",XMA_RTC_SCHEDULE_CALL:"xma_rtc_schedule_call",XMA_FILE_URL:"xma_file_url",XMA_MONTAGE_SHARE:"xma_montage_share",XMA_RATE_SELLER:"xma_rate_seller",XMA_OPEN_RICH_WIDGET:"xma_open_rich_widget",XMA_POLL_DETAILS_CARD:"xma_poll_details_card",XMA_POLL_DETAILS_BUTTON:"xma_poll_details_button",XMA_JOIN_FROM_PORTAL:"xma_join_from_portal",XMA_JOIN_WITHOUT_VIDEO:"xma_join_without_video",XMA_IG_COMMENT_ACTION_URL:"xma_ig_comment_action_url",XMA_IG_PROMPT_ACTION_URL:"xma_ig_prompt_action_url",XMA_IG_COMMENT_MEDIA_ACTION_URL:"xma_ig_comment_media_action_url",XMA_CONSUMER_INBOX_ORDER_HISTORY:"xma_consumer_inbox_order_history",IGD_WEB_POST_SHARE:"igd_web_post_share",XMA_WORK_MEETINGS_ACCEPT:"xma_work_meetings_accept",XMA_WORK_MEETINGS_ALREADY_ACCEPTED:"xma_work_meetings_already_accepted",XMA_WORK_MEETINGS_DECLINE:"xma_work_meetings_decline",XMA_WORK_MEETINGS_ALREADY_DECLINED:"xma_work_meetings_already_declined",XMA_WORK_MEETINGS_MAYBE:"xma_work_meeting_maybe",XMA_WORK_MEETINGS_ALREADY_MAYBE:"xma_wokr_meeting_already_maybe",XMA_WORK_SHIFTS_VIEW_SHIFT_DETAILS:"xma_work_shifts_view_shift_details",XMA_WORK_SHIFTS_VIEW_POST:"xma_work_shifts_view_post",XMA_CTM_IN_THREAD_MULTIPHOTO_REPLY_IMAGE:"xma_ctm_in_thread_multiphoto_reply_image",XMA_SHOPS_PDP:"xma_shops_pdp",XMA_SHOPS_PRODUCT_VARIANT_PICKER:"xma_shops_product_variant_picker",MN_SHOPS_REQUEST_ORDER:"mn_shops_request_order",XMA_MERCHANT_CONFIRM_ORDER:"xma_merchant_confirm_order",XMA_VIEW_MESSENGER_CATALOG:"xma_view_messenger_catalog",XMA_OFFERS_VIEW_DETAILS:"xma_offers_view_details",XMA_OFFERS_BUY_NOW:"xma_offers_buy_now",XMAT_OFFERS_REMINDER_SUBSCRIBE:"xmat_offers_reminder_subscribe",XMAT_OFFERS_REMINDER_UNSUBSCRIBE:"xmat_offers_reminder_unsubscribe",XMAT_OFFERS_VIEW_OFFER:"xmat_offers_view_offer",XMA_OPEN_JOINTABLE_CALL_INVITE_URL:"xma_open_joinable_call_invite_url",XMA_ROOMS_SPEAKEASY_INVITE:"xma_rooms_speakeasy_invite",XMA_ROOMS_SPEAKEASY_INTERESTED:"xma_rooms_speakeasy_interested",XMA_ROOMS_SPEAKEASY_EDIT:"xma_rooms_speakeasy_edit",XMA_ROOMS_SPEAKEASY_EXPIRED:"xma_rooms_speakeasy_expired",XMA_ROOMS_SPEAKEASY_UNDO:"xma_rooms_speakeasy_undo",XMA_ROOMS_SPEAKEASY_CALLBACK:"xma_rooms_speakeasy_callback",XMA_SERVICES_CONFIRM_BOOKING:"xma_services_confirm_booking",XMA_SERVICES_RESCHEDULE_BOOKING:"xma_services_reschedule_booking",XMA_SERVICES_DECLINE_BOOKING:"xma_services_decline_booking",XMA_SERVICES_ADD_TO_CALENDAR:"xma_services_add_to_calendar",XMA_SERVICES_VIEW_APPOINTMENT_DETAILS:"xma_services_view_appointment_details",BOOKING_IG_USER_ADD_DETAILS:"booking_ig_user_add_details",BOOKING_IG_USER_VIEW_DETAILS:"booking_ig_user_view_details",BOOKING_IG_USER_VIEW_DETAILS_APPOINTMENT_CANCELLED:"booking_ig_user_view_details_appointment_cancelled",BOOKING_IG_BUSINESS_VIEW_APPOINTMENT_DETAILS:"booking_ig_business_view_appointment_details",BOOKING_IG_BUSINESS_VIEW_DETAILS_APPOINTMENT_CANCELLED:"booking_ig_business_view_details_appointment_cancelled",BOOKING_IG_BUSINESS_ACCEPT_APPOINTMENT:"booking_ig_business_accept_appointment",BOOKING_IG_VIEW_CALENDAR:"booking_ig_view_calendar",BOOKING_IG_BUSINESS_VIEW_CREATE_APPOINTMENT:"booking_ig_business_view_create_appointment",BOOKING_IG_CUSTOMER_VIEW_REQUEST_ANOTHER_TIME:"booking_ig_customer_view_request_another_time",XMA_P2P_PAYMENT_DETAILS:"xma_p2p_payment_details",XMA_P2P_SHARED_PAYMENT_DETAILS:"xma_p2p_shared_payment_details",XMA_P2P_REQUEST_PAY:"xma_p2p_request_pay",XMA_P2P_PAYMENT_DETAILS_RECEIVE_MONEY:"xma_p2p_payment_details_receive_money",XMA_P2P_VERIFY_INFO:"xma_p2p_verify_info",XMA_P2M_CHECKOUT:"xma_p2m_checkout",XMA_P2M_BLOKS_CHECKOUT:"xma_p2m_bloks_checkout",XMA_P2M_MARK_AS_PAID:"xma_p2m_mark_as_paid",XMA_P2M_PAYMENT_DETAILS:"xma_p2m_payment_details",XMA_P2M_PAYMENT_EDIT:"xma_p2m_payment_edit",XMA_P2M_ATTACH_RECEIPT:"xma_p2m_attach_receipt",XMA_P2M_OFFSITE_BANK_TRANSFER:"xma_p2m_offsite_bank_transfer",XMA_P2M_BUYER_SHIPPING:"xma_p2m_buyer_shipping",XMA_P2M_INFORMATIONAL_MESSAGE_BOTTOM_SHEET:"xma_p2m_informational_message_bottom_sheet",XMA_P2M_PAYMENT_CONFIRMATION:"xma_p2m_payment_confirmation",XMA_P2M_CREATE_ORDER:"xma_p2m_create_order",BANNER_P2M_CHECKOUT:"banner_p2m_checkout",BANNER_P2M_BLOKS_CHECKOUT:"banner_p2m_bloks_checkout",BANNER_P2M_LEARN_MORE:"banner_p2m_learn_more",BANNER_P2M_INFORMATIONAL_MESSAGE_BOTTOM_SHEET:"banner_p2m_informational_message_bottom_sheet",BANNER_P2M_BUYER_INITIATED_PAYMENT:"banner_p2m_buyer_initiated_payment",BANNER_P2M_CREATE_ORDER:"banner_p2m_create_order",BANNER_P2M_OFFSITE_BANK_TRANSFER:"banner_p2m_offsite_bank_transfer",BANNER_P2M_ATTACH_RECEIPT:"banner_p2m_attach_receipt",BANNER_P2M_PAYMENT_DETECTION_CONFIRMATION:"banner_p2m_payment_detection_confirmation",GROUP_CHAT_COMMERCE_VIEW_DETAILS:"group_chat_commerce_view_details",PAYMENT_TRANSACTION_DETAIL_ACCEPT_TO_PAY:"payment_txn_detail_accept_to_pay",PAYMENT_TRANSACTION_DETAIL_DECLINE_TO_PAY:"payment_txn_detail_decline_to_pay",PAYMENT_TRANSACTION_DETAIL_CANCEL_REQUEST_TO_BE_PAID:"payment_txn_detail_cancel_request_to_be_paid",PAYMENT_TRANSACTION_DETAIL_ACCEPT_TO_RECEIVE:"payment_txn_detail_accept_to_receive",PAYMENT_TRANSACTION_DETAIL_DECLINE_TO_RECEIVE:"payment_txn_detail_decline_to_receive",PAYMENT_TRANSACTION_DETAIL_VIEW_GROUP_PAYMENT:"payment_txn_detail_view_group_payment",QUICK_REPLY_TEXT:"quick_reply_text",QUICK_REPLY_LOCATION:"quick_reply_location",QUICK_REPLY_AD:"quick_reply_ad",QUICK_REPLY_PHONE:"quick_reply_phone",QUICK_REPLY_EMAIL:"quick_reply_email",QUICK_REPLY_BIRTHDAY:"quick_reply_birthday",QUICK_REPLY_STATE:"quick_reply_state",QUICK_REPLY_ZIP_CODE:"quick_reply_zip_code",FOCUS_MODE_EXIT:"focus_mode_exit",MENU_NESTED:"menu_nested",MENU_PAGE_SHARE:"menu_page_share",MENU_ELEMENT_SHARE:"menu_element_share",MENU_PAYMENT:"menu_payment",MENU_GAME_PLAY:"menu_game_play",MENU_WEB_URL:"menu_web_url",MENU_EXTENSION:"menu_extension",MENU_POSTBACK:"menu_postback",MENU_PHONE_NUMBER:"menu_phone_number",MENU_OPEN_NATIVE:"menu_open_native",MENU_BRANDED_CAMERA:"menu_branded_camera",NULLSTATE_POSTBACK:"nullstate_postback",NULLSTATE_ICEBREAKER:"nullstate_icebreaker",NULLSTATE_GAME:"nullstate_game",COMMUNITY_MESSAGING_ICEBREAKER:"community_messaging_ice_breaker",MARKETPLACE_ICE_BREAKERS:"marketplace_ice_breakers",MARKETPLACE_SERVER_MUTATION:"marketplace_server_mutation",MARKETPLACE_BANNER_OPEN_NATIVE:"marketplace_banner_open_native",MARKETPLACE_MARK_AS_SOLD:"marketplace_mark_as_sold",MARKETPLACE_MARK_AS_SOLD_SCALED:"marketplace_mark_as_sold_scaled",MARKETPLACE_MARK_AS_SOLD_WITH_TXN_SURVEY:"marketplace_mark_as_sold_with_txn_survey",MARKETPLACE_MARK_AS_SOLD_WITH_TXN_SURVEY_SCALED:"marketplace_mark_as_sold_with_txn_survey_scaled",MARKETPLACE_MARK_AS_SOLD_WITH_SELECT_BUYER:"marketplace_mark_as_sold_with_select_buyer",MARKETPLACE_MARK_AS_SOLD_WITH_SELECT_BUYER_SCALED:"marketplace_mark_as_sold_with_select_buyer_scaled",MARKETPLACE_MARK_AS_PENDING:"marketplace_mark_as_pending",MARKETPLACE_MARK_AS_AVAILABLE:"marketplace_mark_as_available",MARKETPLACE_MARK_AS_PAID:"marketplace_mark_as_paid",MARKETPLACE_RATE_BUYER:"marketplace_rate_buyer",MARKETPLACE_SCALED_RATE_BUYER:"marketplace_scaled_rate_buyer",MARKETPLACE_RATE_SELLER:"marketplace_rate_seller",MARKETPLACE_SCALED_RATE_SELLER:"marketplace_scaled_rate_seller",MARKETPLACE_REPORT_BUYER:"marketplace_report_buyer",MARKETPLACE_REPORT_SELLER:"marketplace_report_seller",MARKETPLACE_SEE_DETAILS:"marketplace_see_details",MARKETPLACE_REQUEST_PAYMENT:"marketplace_request_payment",MARKETPLACE_SEND_PAYMENT:"marketplace_send_payment",MARKETPLACE_FIND_SIMILAR:"marketplace_find_similar",MARKETPLACE_MORE_OPTIONS:"marketplace_more_options",MARKETPLACE_P2M_REQUEST_PAYMENT:"marketplace_p2m_request_payment",MARKETPLACE_CREATE_DOOR_EXCHANGE_PLAN:"marketplace_create_door_exchange_plan",MARKETPLACE_C2C_VIEW_ORDER:"marketplace_c2c_view_order",MARKETPLACE_RESERVE:"marketplace_reserve",MARKETPLACE_RESERVE_VIEW_DETAILS:"marketplace_reserve_view_details",MARKETPLACE_RESERVE_ACCEPT:"marketplace_reserve_accept",MARKETPLACE_RESERVE_MARK_AS_RECEIVED:"marketplace_reserve_mark_as_received",MARKETPLACE_RESERVE_MARK_AS_SOLD:"marketplace_reserve_mark_as_sold",MARKETPLACE_RESERVE_CANCEL_HOLD_REQUEST:"marketplace_reserve_cancel_hold_request",MARKETPLACE_RESERVE_CANCEL_HOLD:"marketplace_reserve_cancel_hold",MARKETPLACE_RESERVE_REQUEST_PAYMENT:"marketplace_reserve_request_payment",MARKETPLACE_RESERVE_FULFILL_PAYMENT:"marketplace_reserve_fulfill_payment",MARKETPLACE_RESERVE_NOTIFY_BUYERS:"marketplace_reserve_notify_buyers",MARKETPLACE_MESSAGE_SETTINGS:"marketplace_message_settings",MARKETPLACE_LABEL_CHAT:"marketplace_label_chat",MARKETPLACE_CREATE_TEST_DRIVE:"marketplace_create_test_drive",MARKETPLACE_CREATE_HOME_TOUR:"marketplace_create_home_tour",MARKETPLACE_REQUEST_RATING:"marketplace_request_rating",MARKETPLACE_VIEW_PROFILE:"marketplace_view_profile",MARKETPLACE_VIEW_SIMILAR_ITEMS:"marketplace_view_similar_items",MARKETPLACE_CREATE_DISCOUNT:"marketplace_create_discount",LEAD_GEN_PAUSE_QUESTIONS:"lead_gen_pause_questions",MARKETPLACE_XMA_CALL_FUNCTION:"marketplace_xma_call_function",MARKETPLACE_XMA_OPEN_DIALOG:"marketplace_xma_open_dialog",ADMIN_MSG_MANAGE_AD:"admin_msg_manage_ad",ADMIN_MSG_WEB_URL:"admin_msg_web_url",ADMIN_MSG_P2B_USER_CONTROLS:"admin_msg_p2b_user_controls",ADMIN_MSG_EDIT_NICKNAME:"admin_msg_edit_nickname",ADMIN_MSG_NAME_GROUP:"admin_msg_name_group",ADMIN_MSG_POLL_CREATION:"admin_msg_poll_creation",ADMIN_MSG_POLL_DETAILS:"admin_msg_poll_details",ADMIN_MSG_WORKCHAT_REMINDER:"admin_msg_workchat_reminder",ADMIN_MSG_CHANGE_THEME:"admin_msg_change_theme",ADMIN_MSG_MAGIC_WORDS:"admin_msg_magic_words",ADMIN_MSG_RPC:"admin_msg_rpc",ADMIN_NOTIFICATION_MESSAGES_OPT_IN:"admin_notification_messages_opt_in",ADMIN_NOTIFICATION_MESSAGES_OPT_OUT:"admin_notification_messages_opt_out",ADMIN_MSG_VIEW_GROUP_LINK:"admin_msg_view_group_link",ADMIN_MSG_VIEW_PINNED_MESSAGES_V2:"admin_msg_view_pin_msgs_v2",ADMIN_MSG_ARMADILLO_EPHEMERAL_CHANGE_DURATION:"admin_msg_armadillo_ephemeral_change_duration",ADMIN_MSG_P2B_PRIVACY_DISCLOSURE:"admin_msg_p2b_privacy_disclosure",ADMIN_MSG_CHANGE_THEME_LOCATION:"admin_msg_change_theme_location",ADMIN_MSG_THREAD_LEVEL_CUTOVER:"admin_msg_thread_level_cutover",ADMIN_MSG_E2EE_THREAD:"admin_msg_e2ee_thread",ADMIN_MSG_CUTOVER_ROLLBACK:"admin_msg_cutover_rollback",ADMIN_MSG_SERVICE_BOOKING_LEGAL_DISCLAIMER:"admin_message_service_booking_legal_disclaimer",ADMIN_MSG_P2B_EDIT_BMO_SELLER_REVIEW:"admin_message_p2b_edit_bmo_seller_review",ADMIN_MSG_VIEW_CART:"admin_message_view_cart",ADMIN_MSG_SCHEDULED_CALL:"admin_msg_scheduled_call",ADMIN_MSG_SEND_MSG_CTA_AD_MANAGE_AD_CONTEXT:"admin_msg_send_msg_cta_ad_manage_ad_context",SERVICES_BOOK_NOW:"services_book_now",SERVICES_REMIND_ME_LATER:"services_remind_me_later",SERVICES_VIEW_DETAILS:"services_view_details",SERVICES_PAYMENT_VIEW_DETAILS:"services_payment_view_details",INBOX_ADS_WEB_URL:"inbox_ads_web_url",INBOX_ADS_CTM:"inbox_ads_ctm",INBOX_ADS_OPEN_APP:"inbox_ads_open_app",INBOX_ADS_MEDIA_VIEWER:"inbox_ads_media_viewer",STORY_ADS_WEB_URL:"story_ads_web_url",ADS_NO_CTA:"ads_no_cta",STORY_ADS_OPEN_APP:"story_ads_open_app",STORY_ADS_CTM:"story_ads_ctm",GEMSTONE_THREAD_CREATION:"gemstone_thread_creation",GEMSTONE_CONTACT_SHARE_UPSELL:"gemstone_contact_share_upsell",GEMSTONE_MUTUAL_READY_TO_MEET:"gemstone_mutual_ready_to_meet",GEMSTONE_ADD_READY_TO_MEET_SINGLE_SIDED:"gemstone_add_ready_to_meet_single_sided",GEMSTONE_RECEIVED_COMPLIMENTS:"gemstone_received_compliments",GEMSTONE_REMOVE_READY_TO_MEET_SINGLE_SIDED:"gemstone_remove_ready_to_meet_single_sided",GEMSTONE_SEND_COMPLIMENTS_PM_TRIGGER:"GEMSTONE_SEND_COMPLIMENTS_PM_TRIGGER",GEMSTONE_SOCIAL_BADGE_PM_TRIGGER:"GEMSTONE_SOCIAL_BADGE_PM_TRIGGER",GEMSTONE_STALE_THREAD:"gemstone_stale_thread",GEMSTONE_WE_MET_PROMPT:"gemstone_we_met_prompt",GEMSTONE_WAVE_INITIATED:"gemstone_wave_initiated",GEMSTONE_WAVE_INITIATED_RECIPROCATED:"gemstone_wave_initiated_reciprocated",GEMSTONE_WAVE_RECIPROCATED:"gemstone_wave_reciprocated",GEMSTONE_MESSENGER_CONTACT_SHARE:"gemstone_messenger_contact_share",GEMSTONE_FACEBOOK_CONTACT_SHARE:"gemstone_facebook_contact_share",GEMSTONE_INSTAGRAM_CONTACT_SHARE:"gemstone_instagram_contact_share",GEMSTONE_CONVERSATION_STARTER_QUESTION:"gemstone_conversation_starter_question",GEMSTONE_CONVERSATION_STARTER_IMAGE:"gemstone_conversation_starter_image",GEMSTONE_AUDIO_CALL:"gemstone_audio_call",GEMSTONE_VIDEO_CALL:"gemstone_video_call",JOB_SEARCH_APPLY_NOW:"job_search_apply_now",JOB_SEARCH_VIEW_APPLICATION:"job_search_view_application",JOB_SEARCH_VIEW_JOB_OPENING:"job_search_view_job_opening",JOB_SEARCH_VIEW_PAGE:"job_search_view_page",JOB_SEARCH_GIVE_FEEDBACK:"job_search_give_feedback",MESSENGER_KIDS_PROFILE:"messenger_kids_account_profile",NEO_APPROVED_CONNECTION_ADDED:"neo_approved_connection_added",MESSENGER_KIDS_FOF_SETTING:"messenger_kids_fof_setting",GLOBAL_DELETE_MITIGATION_DISMISS:"global_delete_mitigation_dismiss",GLOBAL_DELETE_MITIGATION_LEARN_MORE:"global_delete_mitigation_learn_more",MESSENGER_PAYMENTS_ACCEPT_PENDING_PAYMENT:"messenger_payments_accept_pending_payments",MESSENGER_PAYMENTS_SEE_DETAIL:"messenger_payments_see_detail",PROACTIVE_WARNING_AFFIRMATIVE:"proactive_warning_affirmative",PROACTIVE_WARNING_NEGATIVE:"proactive_warning_negative",PROACTIVE_WARNING_DISMISS:"proactive_warning_dismiss",CTM_AD_CONTEXT:"ads_context",CTM_AD_CONTEXT_REINSTATED_DISMISS:"ads_context_reinstated_dismiss",CTM_AD_CONTEXT_CALL_CTA:"ctm_ad_context_call_cta",CTM_AD_CONTEXT_ORDERS_CTA:"ctm_ad_context_orders_cta",CTX_BUSINESS_WHATSAPP_SHARE:"ctx_business_whatsapp_share",OCULUS_JOIN_PARTY:"oculus_join_party",OCULUS_XMA_GROUPS_DESTINATION:"oculus_xma_groups_destination",IN_THREAD_BANNER_DISMISS:"in_thread_banner_dismiss",IN_THREAD_BANNER_CHEVRON:"in_thread_banner_chevron",NOVI_P2P_TXN_SEE_DETAILS:"novi_p2p_txn_see_details",NOVI_P2P_ACCEPT_INVITE:"novi_p2p_accept_invite",CONTACT_SHARING_MESSAGE:"contact_sharing_message",CONTACT_SHARING_PROFILE:"contact_sharing_profile",PORTAL_REFERRAL_SEE_DETAILS:"portal_referral_see_details",XMA_DISABLED_CTA:"xma_disabled_cta",XMA_CUSTOMER_INFORMATION:"xma_customer_information",XMA_FB_SHOPS_REFERRAL_DETAIL:"xma_fb_shops_referral_detail",XMA_BCP_PROJECT_DETAIL:"xma_bcp_project_detail",XMA_VIEW_EVENT:"xma_view_event",XMA_EVENT_RSVP:"xma_event_rsvp",XMAT_INSTANT_GAME_BOT_MESSAGE_SUBSCRIBE:"xmat_instant_game_bot_message_subscribe",XMAT_INSTANT_GAME_BOT_MESSAGE_UNSUBSCRIBE:"xmat_instant_game_bot_message_unsubscribe",XMA_VIEW_ACTIVITY_LOG:"xma_view_activity_log",XMA_AR_VIRTUAL_OBJECT:"xma_ar_virtual_object",XMAT_INSTANT_GAME_CUSTOM_UPDATE_MESSAGE_MUTE:"xmat_instant_game_custom_update_message_mute",XMAT_INSTANT_GAME_CUSTOM_UPDATE_MESSAGE_UNMUTE:"xmat_instant_game_custom_update_message_unmute",MEMBER_REQUEST:"member_requests_view",XMA_ADMOD_CHAT_MEMBER_REQUEST:"xma_admod_chat_member_request",XMA_ADMOD_CHAT_PENDING_POST:"xma_admod_chat_pending_post",XMA_IG_SUBS_REFERRAL_DETAIL:"xma_ig_subs_referral_detail",BIIM_AD_EXTENTER_BANNER:"biim_ad_extender_banner",BIIM_AD_EXTENDER_BANNER_VIEW_AD:"biim_ad_extender_banner_view_ad",BIIM_AD_EXTENDER_BANNER_EXTEND_AD:"biim_ad_extender_banner_extend_ad",XMA_ROLL_CALL_ADD_YOURS:"xma_roll_call_add_yours",XMA_ROLL_CALL_OPEN_VIEWER:"xma_roll_call_open_viewer",WATCH_SHARING:"watch_sharing",OPEN_THREAD_QUICK_REACTION_PICKER:"open_custom_emoji_picker"});f["default"]=a}),66);
__d("LSMessagingThreadTypeUtil.bs",["LSIntEnum","LSThreadBitOffset.bs","MWCMIsAnyCMThread","bs_caml","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(2))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(8))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(16))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(5))||c("MWCMIsAnyCMThread")(a)||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(3))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(150))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(151))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(154))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(155))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(152))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(153)))return!0;else return!1}function b(a){if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(1))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(7))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(10))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(13))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(15)))return!0;else return!1}function e(a){if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(15))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(16)))return!0;else return!1}function f(a){a=a.NAME;if(a==="Group")return d("LSIntEnum").ofNumber(2);else if(a==="User"||a==="Page")return d("LSIntEnum").ofNumber(1);else return d("LSIntEnum").ofNumber(7)}function h(a){if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(15))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(16))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(1))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(2)))return!0;else return!1}function i(a){if(a==="e2ee_cutover")return!0;else return a==="inbox"}function j(a){return d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(21),a)}function k(a){return c("bs_caml").i64_eq(a.parentThreadKey,d("LSIntEnum").ofNumber(-3))}function l(a){return c("bs_caml").i64_eq(a.parentThreadKey,d("LSIntEnum").ofNumber(-18))}function m(a){return c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(150))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(154))&&c("gkx")("6661")}function n(a){return c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(152))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(153))}function o(a){return c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(154))&&c("gkx")("6661")}function p(a){return c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(150))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(154))}a=a;b=b;e=e;f=f;h=h;i=i;j=j;k=k;l=l;m=m;n=n;o=o;g.isSocialChannel=p;g.isGroup=a;g.isOneToOne=b;g.isSecure=e;g.ofThreadId=f;g.isRecentsSectionAllowedTypes=h;g.isMessengerOrE2EEInbox=i;g.isMessageRequest=j;g.isHiddenRequest=k;g.isBusinessSupportThread=l;g.isJoinedSocialChannel=m;g.isDiscoverablePublicBroadcastChannel=n;g.isJoinedSocialChannelV2=o}),98);
__d("LSThreadCapabilityBitOffset.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,12],n=[0,13],o=[0,14],p=[0,15],q=[0,16],r=[0,17],s=[0,18],t=[0,19],u=[0,20],v=[0,21],w=[0,22],x=[0,23],y=[0,24],z=[0,25],A=[0,26],B=[0,27],C=[0,28],D=[0,29],E=[0,30],F=[0,31],G=[0,32],H=[0,33],I=[0,34],J=[0,35],K=[0,36],L=[0,37],M=[0,38],N=[0,39],O=[0,40],P=[0,41],Q=[0,42],R=[0,43],S=[0,44],T=[0,45],U=[0,46],V=[0,47],W=[0,48],X=[0,49],Y=[0,50],Z=[0,51],$=[0,52],aa=[0,53],ba=[0,54],ca=[0,55],da=[0,56],ea=[0,57],fa=[0,58],ga=[0,59],ha=[0,60],ia=[0,61],ja=[0,62],ka=[0,63],la=[0,64],ma=[0,65],na=[0,66],oa=[0,67],pa=[0,68],qa=[0,69],ra=[0,70],sa=[0,71],ta=[0,72],ua=[0,73],va=[0,74],wa=[0,75],xa=[0,76],ya=[0,77],za=[0,78],Aa=[0,79],Ba=[0,80],Ca=[0,81],Da=[0,82],Ea=[0,83],Fa=[0,84],Ga=[0,85],Ha=[0,86],Ia=[0,87],Ja=[0,88],Ka=[0,89],La=[0,90],Ma=[0,91],Na=[0,92],Oa=[0,93],Pa=[0,94],Qa=[0,95],Ra=[0,96],Sa=[0,97],Ta=[0,98],Ua=[0,99],Va=[0,100],Wa=[0,101],Xa=[0,102],Ya=[0,103],Za=[0,104],$a=[0,105],ab=[0,106],bb=[0,107],cb=[0,108],db=[0,109],eb=[0,110],fb=[0,111],gb=[0,112],hb=[0,113],ib=[0,114],jb=[0,115],kb=[0,116],lb=[0,118],mb=[0,119],nb=[0,120],ob=[0,121],pb=[0,122],qb=[0,123],rb=[0,124],sb=[0,125],tb=[0,126],ub=[0,128],vb=[0,129],wb=[0,131],xb=[0,132],yb=[0,133],zb=[0,134],Ab=[0,135],Bb=[0,136],Cb=[0,138],Db=[0,139],Eb=[0,140],Fb=[0,141],Gb=[0,143],Hb=[0,144],Ib=[0,145],Jb=[0,146],Kb=[0,147],Lb=[0,148],Mb=[0,149],Nb=[0,152],Ob=[0,153],Pb=[0,154],Qb=[0,155],Rb=[0,156],Sb=[0,157],Tb=[0,158],Ub=[0,159],Vb=[0,160],Wb=[0,161],Xb=[0,162],Yb=[0,163];f.payment=a;f.camera=c;f.mediaPicker=d;f.sticker=e;f.gif=b;f.goToSecretConversation=g;f.colorCustomization=h;f.emojiCustomization=i;f.threadDetailsProfileButton=j;f.nicknames=k;f.block=l;f.calibra=m;f.messengerKidsManageKidAccount=n;f.audioClips=o;f.sharedMedia=p;f.blockGroupMember=q;f.feedbackAndReport=r;f.reactions=s;f.muteThread=t;f.seenHeads=u;f.messageRequestComposerBanner=v;f.inThreadProfileButton=w;f.threadDetails=x;f.rtcVideoCall=y;f.rtcVoiceCall=z;f.memberList=A;f.addMember=B;f.leaveThread=C;f.blockedUserInterstitial=D;f.optimisticThreadFeedbackAndReport=E;f.locationSharing=F;f.ignoreMessages=G;f.focusMode=H;f.searchInConversation=I;f.createGroup=J;f.pollCreation=K;f.displayActorTypeInThreadViewHeader=L;f.disappearingMode=M;f.forceOnePhaseSend=N;f.splitMultiSendPhoto=O;f.threadDetailsIgProfileButton=P;f.messageReply=Q;f.mentions=R;f.gamesBotThread=S;f.disableLinks=T;f.blurMedia=U;f.disableContextBanner=V;f.topLevelSelfRemediation=W;f.disableUserControl=X;f.threadDetailsShowUserName=Y;f.disableMessageBubbleSwipe=Z;f.ignoredThread=$;f.pageBan=aa;f.customThreadNotificationSounds=ba;f.roomCreation=ca;f.filePicker=da;f.joinRoom=ea;f.selfieSticker=fa;f.powerUp=ga;f.threadNameCustomization=ha;f.threadPhotoCustomization=ia;f.structuredInput=ja;f.suppressNullstateHeader=ka;f.archiveThread=la;f.unarchiveThread=ma;f.memberRequest=na;f.businessInboxBan=oa;f.ctmAdThreadWithAdWarning=pa;f.businessInboxSavedReplies=qa;f.gardenThreadSettings=ra;f.marketplaceSavedReplies=sa;f.carrierMessagingAddMember=ta;f.phoneCall=ua;f.threadDetailsDeleteThread=va;f.ephemeralMessageTimer=wa;f.messageExpiration=xa;f.messageSoundSettings=ya;f.ringtoneSoundSettings=za;f.hideFromActiveNow=Aa;f.magicWords=Ba;f.threadDescriptionCustomization=Ca;f.businessInboxCatalog=Da;f.adminRecallMessage=Ea;f.shareContact=Fa;f.restrictContact=Ga;f.soundBite=Ha;f.mostLikelyToPollCreation=Ia;f.reportChatToAdmin=Ja;f.canMarkReadOrUnread=Ka;f.businessTools=La;f.removeMember=Ma;f.groupGoToSecretConversation=Na;f.reportMessageToAdmin=Oa;f.manageMember=Pa;f.sharedLinks=Qa;f.sharedContent=Ra;f.addXacUsers=Sa;f.businessOrderManagement=Ta;f.rtcMarketplaceComposerBanner=Ua;f.isSellerRtcEligible=Va;f.isBuyerRtcEligible=Wa;f.messageLocalDelete=Xa;f.messageForward=Ya;f.isNfbEligible=Za;f.messageRequestGroupInvite=$a;f.pinnedMessagesV2=ab;f.businessAppointmentBooking=bb;f.threadDetailsShowChatInviteLink=cb;f.hotlikeSticker=db;f.isLearningSpaceChat=eb;f.audioCaptions=fb;f.commandSilent=gb;f.marketplaceThreadCommerceProfileButton=hb;f.ephemeralMedia=ib;f.commandEveryone=jb;f.commandGif=kb;f.cameraBackup=lb;f.blockMarketplaceUser=mb;f.communityMessagingChannelInvite=nb;f.commandTextReplacement=ob;f.messageUnsend=pb;f.immersiveModesSpaces=qb;f.communityMessagingLinkSharingV2=rb;f.communityMessagingAudioRooms=sb;f.bumpMessageAction=tb;f.cutoverBlockComposer=ub;f.favoriteThread=vb;f.bumpThread=wb;f.isBusinessAppointmentThreadIntentEnabled=xb;f.communityMessagingIcebreakers=yb;f.communityMessagingChannelEmojiCustomization=zb;f.communityMessagingChannelDescriptionCustomization=Ab;f.isMessengerChatEntityThread=Bb;f.reshareHub=Cb;f.reactionsV2=Db;f.seenCountsV2=Eb;f.isLargeThread=Fb;f.publicChatBanUser=Gb;f.contentExplorer=Hb;f.proMode=Ib;f.customerAppointmentRequest=Jb;f.isMessengerGuideChatEntityThread=Kb;f.communityMessagingThreadLeaveUpsell=Lb;f.generatedStickers=Mb;f.rollcall=Nb;f.businessChatPrivacyDisclosure=Ob;f.pauseChat=Pb;f.gamesDiscovery=Qb;f.multiReact=Rb;f.stickerTraySearch=Sb;f.pollV1Ui=Tb;f.pollV2Ui=Ub;f.deidentifiedStickerSearch=Vb;f.pinChannelOnProfile=Wb;f.armadilloTlcControlOpenThread=Xb;f.suggestedTab=Yb}),null);
__d("MWPBaseXMAAttachmentItem.bs",["BaseImage.react","LSIntEnum","LSMediaUrl.bs","MNLSXMALayoutType","MWPThreadCapabilitiesContext","bs_caml_int64","bs_caml_obj","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),j=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),k=h.createContext({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var b=a.attachment,e=a.attachmentItem,f=a.children;a=a.renderPressable;var g=d("MWPThreadCapabilitiesContext").useHook(),l=g(d("LSIntEnum").ofNumber(25));g=g(d("LSIntEnum").ofNumber(24));b=b.defaultCtaType;e=e.attachmentCta1Id!==void 0;l=b!==void 0?j.has(b)&&!l||i.has(b)&&!g:!1;b={hasAtLeastOneCta:e,isDisabledRtcXma:l,renderPressable:a};return h.createElement(k.Provider,{children:!e&&!l?c("bs_curry")._1(a,f):f,value:b})}function b(a){a=a.children;var b=h.useContext(k);if(b.hasAtLeastOneCta&&!b.isDisabledRtcXma)return c("bs_curry")._1(b.renderPressable,a);else return a}b={make:b};b={Nested:b,context:k,make:a};var l={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=a.attachmentItem;a=a.url;var d=b.previewHeight;b=b.previewWidth;a={src:a,xstyle:l.image};d=d!==void 0?c("bs_caml_int64").to_int32(d):void 0;d!==void 0&&(a.height=d);d=b!==void 0?c("bs_caml_int64").to_int32(b):void 0;d!==void 0&&(a.width=d);return h.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",children:h.jsx(c("BaseImage.react"),babelHelpers["extends"]({},a))})}e.displayName=e.name+" [from "+f.id+"]";a={make:e,styles:l};function m(a){var b=a.attachment,c=a.attachmentItem,e=a.getPreviewUrl;a=a.preferLargePreview;a=a===void 0?!1:a;var f=d("LSMediaUrl.bs").AttachmentItem.playableUrl(c),g=d("LSMediaUrl.bs").Attachment.previewUrlLarge(b),h=d("LSMediaUrl.bs").AttachmentItem.previewUrl(c);e=e==null?d("LSMediaUrl.bs").Attachment.previewUrl(b):e(b,c);a=a&&g!=null?g:(b=h)!=null?b:e;g=c.playableUrlMimeType;h=g!==void 0?g.includes("video")?"video":g.includes("image")?"image":"unsupported":"unsupported";if(h==="video"&&f!=null)return{_0:f,TAG:0};if(a!=null)return{_0:a,TAG:1};return h==="image"&&f!=null?{_0:f,TAG:1}:{_0:void 0,TAG:2}}function n(a,b){var e=c("bs_caml_obj").caml_notequal(a.xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!==void 0||!e?f:a.titleText;b=b.subtitleText;e=b!==void 0||!e?b:a.subtitleText;return[f,e]}f={useTitleAndSubtitle:n};e=b;n=f;g.$$Image=a;g.getXMAAttachmentItemPreview=m;g.Pressable=e;g.Body=n}),98);
__d("MWUseArePollsEnabled",["MWCMIsAnyCMThread","MWLSThread.bs","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("MWLSThread.bs").useThread(a);var b=c("gkx")("1845815");return b||a!=null&&c("MWCMIsAnyCMThread")(a.threadType)}g["default"]=a}),98);
__d("LsActionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,18],u=[0,19],v=[0,20],w=[0,21],x=[0,22],y=[0,23],z=[0,24],A=[0,25],B=[0,26],C=[0,27],D=[0,28],E=[0,29],F=[0,30],G=[0,31],H=[0,32],I=[0,33],J=[0,34],K=[0,35],L=[0,36],M=[0,37],N=[0,38],O=[0,39],P=[0,40],Q=[0,41],R=[0,42],S=[0,43],T=[0,44],U=[0,45],V=[0,46],W=[0,47],X=[0,48],Y=[0,49],Z=[0,50],$=[0,51],aa=[0,52],ba=[0,53],ca=[0,54],da=[0,55],ea=[0,56],fa=[0,57],ga=[0,58],ha=[0,59],ia=[0,60],ja=[0,61],ka=[0,62],la=[0,63],ma=[0,64],na=[0,65],oa=[0,66],pa=[0,67],qa=[0,68],ra=[0,69],sa=[0,70],ta=[0,71],ua=[0,72],va=[0,73],wa=[0,74],xa=[0,75],ya=[0,76],za=[0,77],Aa=[0,78],Ba=[0,79],Ca=[0,80],Da=[0,81],Ea=[0,82],Fa=[0,83],Ga=[0,84],Ha=[0,85],Ia=[0,86];f.unknown=a;f.accept=c;f.add=d;f.call=e;f.callAgain=b;f.callBack=g;f.camera=h;f.collapse=i;f.decline=j;f.delete_=k;f.expand=l;f.joinCall=m;f.joinVideoChat=n;f.mute=o;f.play=p;f.rateTranslation=q;f.reaction=r;f.retry=s;f.save=t;f.saveAll=u;f.saveToFb=v;f.seek=w;f.send=x;f.share=y;f.tranferCall=z;f.translate=A;f.unmute=B;f.videoChat=C;f.view=D;f.viewProfile=E;f.wave=F;f.postback=G;f.openUrl=H;f.openNative=I;f.close=J;f.adClick=K;f.adHide=L;f.pause=M;f.quickReplyText=N;f.copy=O;f.forward=P;f.report=Q;f.viewPack=R;f.openExtension=S;f.piiNative=T;f.piiWebview=U;f.openMenu=V;f.block=W;f.unblock=X;f.accountLink=Y;f.accountUnlink=Z;f.addToCalendar=$;f.closeBrowser=aa;f.getContext=ba;f.beginShareflow=ca;f.askPermission=da;f.getGrantedPermissions=ea;f.getSupportedFeatures=fa;f.quickReplyUserInfo=ga;f.reactionUpdate=ha;f.reactionDelete=ia;f.reactionNew=ja;f.openReceipt=ka;f.getStarted=la;f.iceBreaker=ma;f.newConversation=na;f.nextConversation=oa;f.previousConversation=pa;f.openSettings=qa;f.customerFeedback=ra;f.submit=sa;f.guestChatHistory=ta;f.editCustomizeReaction=ua;f.enterCustomizeReaction=va;f.exitCustomizeReaction=wa;f.openAppLink=xa;f.iceBreakerCta=ya;f.enterSkinTonePicker=za;f.selectSkinTonePicker=Aa;f.emojiSearchTap=Ba;f.enterOverreactTray=Ca;f.exitOverreactTray=Da;f.customerInformation=Ea;f.bump=Fa;f.unbump=Ga;f.favorite=Ha;f.unfavorite=Ia}),null);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1746398");b=d("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",a);e=b;g["default"]=e}),98);
__d("MWChatPIIFormNuxQuery",["CometRelay","MWChatPIIFormNuxQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f){a=d("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){a&&(c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_success",extra_data:"",form_id:b,page_id:e}}),a.messenger_pii_nux==null?f({description:"",seen:!0,title:"",url:"",url_text:""}):f({description:a.messenger_pii_nux.description,seen:!1,title:a.messenger_pii_nux.title,url:a.messenger_pii_nux.url,url_text:a.messenger_pii_nux.url_text}))},function(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_failure",extra_data:a.message,form_id:b,page_id:e}})});c("promiseDone")(a)},j=h!==void 0?h:h=b("MWChatPIIFormNuxQuery.graphql");a=function(a,b,c,d){i(a,b,c,function(a){return d(a)})};g.fetch=a}),98);
__d("MWChatPIIFormStateQuery",["CometRelay","MWChatPIIFormStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_pii_form_state.state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatPIIFormStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{messageID:b,receiptID:a}).toPromise().then(function(a){if(a){a=a.receipt_data;var b=a.items?a.items.map(function(a){return{description:a.description,name:a.name,price:a.price,quantity:a.quantity,thumb_url:a.thumb_url}}):[],c=a.adjustments?a.adjustments.map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.display_adjustment_amount}}):[];e({address_line_1:a.address_line_1,address_line_2:a.address_line_2,address_line_3:a.address_line_3,adjustments:c,cancellation_url:a.cancellation_url,items:b,merchant_name:a.merchant_name,order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax})}});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatReceiptDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWLSOpenStaticLocationDialog.bs",["JSResource","MWThreadKey.bs","Promise","ReQL.bs","ReQLSuspense","bs_int64","promiseDone","react","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useReStore")(),e=d("MWThreadKey.bs").useIdMemoizedExn(),f=c("useCometLazyDialog")(c("JSResource")("MWChatStaticLocationDialog.react").__setRef("MWLSOpenStaticLocationDialog.bs")),g=f[0];return h.useCallback(function(f){f=d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("attachments")),{hd:e,tl:{hd:f,tl:0}}),function(b){b=b.defaultCtaId;b=b!==void 0?b:c("bs_int64").zero;b=d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("attachment_ctas")),{hd:b,tl:0}));if(b!==void 0)return b.nativeUrl})).then(function(a){a=(a=a)!=null?a:"";a=a.split(",");var c=a[0];a=a[1];g({latitude:c,longitude:a},function(){});return b("Promise").resolve()});c("promiseDone")(f)},[a,e,g])}g.useHook=a}),98);
__d("useMWUIAttachBankSlipDialog",["P2MAttachBankSlipDialog.entrypoint","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useCometEntryPointDialog")(c("P2MAttachBankSlipDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("MWLSShowAttachBankSlip.bs",["bs_curry","react","useMWUIAttachBankSlipDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=h.useState(function(){return null}),b=a[1],d=a[0];a=h.useState(function(){return!1});var e=a[1],f=a[0];a=c("useMWUIAttachBankSlipDialog")(d);var g=a[0];h.useEffect(function(){!(d==null)&&f&&g({orderID:d},function(){return c("bs_curry")._1(e,function(){return!1})})},[d,f]);return h.useMemo(function(){return function(a){c("bs_curry")._1(e,function(){return!0});return c("bs_curry")._1(b,function(){return a})}},[e,b])}g.useHook=a}),98);
__d("useMWUICheckoutDialog",["FBP2MCheckoutDialog.entrypoint","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("useCometEntryPointDialog")(c("FBP2MCheckoutDialog.entrypoint"),{orderID:a,pageID:b})}g["default"]=a}),98);
__d("MWLSShowCheckout.bs",["bs_curry","react","useMWUICheckoutDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=h.useState(function(){return null}),b=a[1],d=a[0];a=h.useState(function(){return""});var e=a[1],f=a[0];a=h.useState(function(){return!1});var g=a[1],i=a[0];a=c("useMWUICheckoutDialog")(d);var j=a[0];h.useEffect(function(){d!=null&&i&&j({orderID:d,pageID:f},function(){return c("bs_curry")._1(g,function(){return!1})})},[d,i]);return h.useMemo(function(){return function(a,d){c("bs_curry")._1(g,function(){return!0});c("bs_curry")._1(b,function(){return a});return c("bs_curry")._1(e,function(){return d})}},[g,b])}g.useHook=a}),98);
__d("useMWUIMemberRequestDialog",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsReviewDialog.entrypoint","WebPixelRatio","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){a=c("useCometEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint"),{routeProps:{adminActivityID:f,groupID:b,isManagementActivityLogTargetProfilePlus:!1}});b=c("useCometEntryPointDialog")(c("GroupsCometAdmodChatsReviewDialog.entrypoint"),{groupID:b,profileID:e,scale:d("WebPixelRatio").get()});return f!=null&&f!=="0"?a:b}g["default"]=a}),98);
__d("MWLSShowMemberRequest.bs",["react","useMWUIMemberRequestDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=h.useState(function(){return null}),b=a[0],d=a[1];a=h.useState(function(){return""});var e=a[0],f=a[1];a=h.useState(function(){return""});var g=a[0],i=a[1];a=h.useState(function(){return""});var j=a[0],k=a[1];a=h.useState(function(){return!1});var l=a[0],m=a[1];a=c("useMWUIMemberRequestDialog")(b,e,g,j);var n=a[0];h.useEffect(function(){b!=null&&l&&n({activityLogTarget:"Group",groupID:e},function(){return m(function(){return!1})})},[b,l]);return h.useMemo(function(){return function(a,b,c,e){m(function(){return!0});d(function(){return a});f(function(){return b});i(function(){return c});return k(function(){return e})}},[m,d])}g.useHook=a}),98);
__d("useMWUIOffsiteBankTransferDialog",["P2MOffsiteBankTransferDialog.entrypoint","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useCometEntryPointDialog")(c("P2MOffsiteBankTransferDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("MWLSShowOffsiteBankTransfer.bs",["bs_curry","react","useMWUIOffsiteBankTransferDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=h.useState(function(){return null}),b=a[1],d=a[0];a=h.useState(function(){return!1});var e=a[1],f=a[0];a=c("useMWUIOffsiteBankTransferDialog")(d);var g=a[0];h.useEffect(function(){!(d==null)&&f&&g({orderID:d},function(){return c("bs_curry")._1(e,function(){return!1})})},[d,f]);return h.useMemo(function(){return function(a){c("bs_curry")._1(e,function(){return!0});return c("bs_curry")._1(b,function(){return a})}},[e,b])}g.useHook=a}),98);
__d("useMWUIOrderDetailsDialog",["P2MOrderDetailDialog.entrypoint","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useCometEntryPointDialog")(c("P2MOrderDetailDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("MWLSShowOrderDetails.bs",["bs_curry","react","useMWUIOrderDetailsDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=h.useState(function(){return null}),b=a[1],d=a[0];a=h.useState(function(){return!1});var e=a[1],f=a[0];a=c("useMWUIOrderDetailsDialog")(d);var g=a[0];h.useEffect(function(){!(d==null)&&f&&g({orderID:d},function(){return c("bs_curry")._1(e,function(){return!1})})},[d,f]);return h.useMemo(function(){return function(a){c("bs_curry")._1(e,function(){return!0});return c("bs_curry")._1(b,function(){return a})}},[e,b])}g.useHook=a}),98);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useCometEntryPointDialog")(c("FBPayHubTransactionDetailDialog.entrypoint"),{transactionID:a})}g["default"]=a}),98);
__d("MWLSShowPaymentDetails.bs",["fbt","LSIntEnum","MWLSDatabaseLazySync.bs","bs_curry","react","useMWUIPaymentDetailsDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){var a=i.useState(function(){return null}),b=a[1],e=a[0];a=i.useState(function(){return!1});var f=a[1],g=a[0];a=c("useMWUIPaymentDetailsDialog")(e);var j=a[0],k=d("MWLSDatabaseLazySync.bs").useSync(d("LSIntEnum").ofNumber(15));i.useEffect(function(){!(e==null)&&g&&j({title:h._("__JHASH__gOv13cta-Bn__JHASH__"),transactionID:e},function(){return c("bs_curry")._1(f,function(){return!1})})},[e,g]);return i.useMemo(function(){return function(a){c("bs_curry")._1(k);c("bs_curry")._1(f,function(){return!0});return c("bs_curry")._1(b,function(){return a})}},[f,b,k])}g.useHook=a}),98);
__d("useMWUIPendingPostDialog",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint","WebPixelRatio","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){a=c("useCometEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint"),{routeProps:{adminActivityID:g,groupID:b,isManagementActivityLogTargetProfilePlus:!1}});e=c("useCometEntryPointDialog")(c("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint"),{authorID:e,groupID:b,postID:f,scale:d("WebPixelRatio").get()});return g!=null&&g!=="0"?a:e}g["default"]=a}),98);
__d("MWLSShowPendingPost.bs",["react","useMWUIPendingPostDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=h.useState(function(){return null}),b=a[0],d=a[1];a=h.useState(function(){return""});var e=a[0],f=a[1];a=h.useState(function(){return""});var g=a[0],i=a[1];a=h.useState(function(){return""});var j=a[0],k=a[1];a=h.useState(function(){return""});var l=a[0],m=a[1];a=h.useState(function(){return!1});var n=a[0],o=a[1];a=c("useMWUIPendingPostDialog")(b,e,g,j,l);var p=a[0];h.useEffect(function(){b!=null&&n&&p({activityLogTarget:"Group",groupID:e},function(){return o(function(){return!1})})},[b,n]);return h.useMemo(function(){return function(a,b,c,e,g){o(function(){return!0});d(function(){return a});f(function(){return b});i(function(){return c});k(function(){return e});return m(function(){return g})}},[o,d])}g.useHook=a}),98);
__d("MWP2PPaymentMethodAdd.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("MWP2PPaymentMethodAdd.bs")),b=a[0];return h.useMemo(function(){return function(a,c){a=a!==void 0?a:function(){};return b({id:c.id},a)}},[b])}g.useP2PPaymentMethodAdd=a}),98);
__d("MWP2PPaymentRequestCancel.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("MWP2PPaymentRequestCancel.bs")),b=a[0];return h.useMemo(function(){return function(a,c){a=a!==void 0?a:function(){};return b({id:c.id},a)}},[b])}g.useP2PPaymentRequestCancel=a}),98);
__d("MWP2PPaymentRequestConfirm.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("MWP2PPaymentRequestConfirm.bs")),b=a[0];return h.useMemo(function(){return function(a,c){a=a!==void 0?a:function(){};return b({id:c.id},a)}},[b])}g.useP2PPaymentRequestConfirm=a}),98);
__d("MWP2PPaymentRequestDecline.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("MWP2PPaymentRequestDecline.bs")),b=a[0];return h.useMemo(function(){return function(a,c){a=a!==void 0?a:function(){};return b({id:c.id},a)}},[b])}g.useP2PPaymentRequestDecline=a}),98);
__d("MWP2PPaymentTransactionDecline.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("MWP2PPaymentTransactionDecline.bs")),b=a[0];return h.useMemo(function(){return function(a,c){a=a!==void 0?a:function(){};return b({id:c.id},a)}},[b])}g.useP2PPaymentTransactionDecline=a}),98);
__d("MWP2PPaymentTransactionInformationVerify.bs",["JSResource","XP2PVerificationDialogBaseControllerRouteBuilder","bs_belt_Option","bs_caml_option","gkx","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useCometLazyDialog")(c("JSResource")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs")),b=a[0];a=c("useCometLazyDialog")(c("JSResource")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs"));var d=a[0];return h.useCallback(function(a){a=a.id;if(c("gkx")("94"))return d({transferId:c("bs_belt_Option").getExn(a==null?void 0:c("bs_caml_option").some(a))},function(){});else return b({params:{rel:"dialog-post",uri:c("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({id:c("bs_belt_Option").getExn(a==null?void 0:c("bs_caml_option").some(a)),is_sender_flow:!1})}},function(){})},[b])}g.useP2PPaymentTransactionInformationVerify=a}),98);
__d("MakeRoomRingbackCommon.bs",["cr:9972"],(function(a,b,c,d,e,f,g){"use strict";g.useHook=b("cr:9972").useHook}),98);
__d("RTWebLoggingComponentConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="cancel_button")return"cancel_button";else if(a==="participate_live_dialog")return"participate_live_dialog";else if(a==="free_call")return"free_call";else if(a==="submit_feedback")return"submit_feedback";else if(a==="calendar_clock")return"calendar_clock";else if(a==="rating_not_now")return"rating_not_now";else if(a==="breakout_start_button")return"breakout_start_button";else if(a==="view_participants")return"view_participants";else if(a==="video_escalate_accept")return"video_escalate_accept";else if(a==="media_access_pending")return"media_access_pending";else if(a==="calendar_clock_tooltip")return"calendar_clock_tooltip";else if(a==="create_live_dialog_next_button")return"create_live_dialog_next_button";else if(a==="caller_warning_continue_call_button")return"caller_warning_continue_call_button";else if(a==="raise_hand_queue")return"raise_hand_queue";else if(a==="self_view_minimize")return"self_view_minimize";else if(a==="banner")return"banner";else if(a==="live_indicator")return"live_indicator";else if(a==="more_options")return"more_options";else if(a==="end_live_dialog_end_button")return"end_live_dialog_end_button";else if(a==="create_live_dialog_show_button")return"create_live_dialog_show_button";else if(a==="save_button")return"save_button";else if(a==="start_call_button")return"start_call_button";else if(a==="mweb_roster_row")return"mweb_roster_row";else if(a==="create_live_dialog_start_button")return"create_live_dialog_start_button";else if(a==="incoming_ring_tone")return"incoming_ring_tone";else if(a==="upgrade_chrome")return"upgrade_chrome";else if(a==="recent_calls")return"recent_calls";else if(a==="toggle_filters")return"toggle_filters";else if(a==="screensharing_pop_out_button")return"screensharing_pop_out_button";else if(a==="upsell_workchat_precall_text")return"upsell_workchat_precall_text";else if(a==="join_call_button")return"join_call_button";else if(a==="window_resize")return"window_resize";else if(a==="fullscreen_enable")return"fullscreen_enable";else if(a==="calendar_meeting_now_notification_join")return"calendar_meeting_now_notification_join";else if(a==="participant_remove")return"participant_remove";else if(a==="self_view_unminimize")return"self_view_unminimize";else if(a==="review_room")return"review_room";else if(a==="call_back")return"call_back";else if(a==="copy_link")return"copy_link";else if(a==="upsell_workchat_activate_deep_linking")return"upsell_workchat_activate_deep_linking";else if(a==="caller_warning_cancel_call_button")return"caller_warning_cancel_call_button";else if(a==="schedule_room")return"schedule_room";else if(a==="scroll_filters")return"scroll_filters";else if(a==="media_access_rejected")return"media_access_rejected";else if(a==="participant_row_unselect")return"participant_row_unselect";else if(a==="participate_live_dialog_join_button")return"participate_live_dialog_join_button";else if(a==="fullscreen")return"fullscreen";else if(a==="pin_speaker")return"pin_speaker";else if(a==="video_escalate")return"video_escalate";else if(a==="browser_notification")return"browser_notification";else if(a==="calendar_end_call_view")return"calendar_end_call_view";else if(a==="upgrade_edge")return"upgrade_edge";else if(a==="redial")return"redial";else if(a==="toggle_video_first")return"toggle_video_first";else if(a==="poor_network_tooltip")return"poor_network_tooltip";else if(a==="install_app_button")return"install_app_button";else if(a==="video_filter_option")return"video_filter_option";else if(a==="calendar_end_call_view_join")return"calendar_end_call_view_join";else if(a==="chat_panel_message")return"chat_panel_message";else if(a==="audio_button")return"audio_button";else if(a==="plus_expander_menu")return"plus_expander_menu";else if(a==="participant_row_select")return"participant_row_select";else if(a==="fullscreen_disable")return"fullscreen_disable";else if(a==="toggle_chat")return"toggle_chat";else if(a==="toggle_camera")return"toggle_camera";else if(a==="accept_button")return"accept_button";else if(a==="settings")return"settings";else if(a==="create_live_waiting_for_joiners_dialog_cancel_button")return"create_live_waiting_for_joiners_dialog_cancel_button";else if(a==="participate_live_dialog_leave_button")return"participate_live_dialog_leave_button";else if(a==="calendar_meeting_now_notification")return"calendar_meeting_now_notification";else if(a==="raise_hand")return"raise_hand";else if(a==="breakout_end_button")return"breakout_end_button";else if(a==="call_again")return"call_again";else if(a==="toggle_audio")return"toggle_audio";else if(a==="video_button")return"video_button";else if(a==="create_room")return"create_room";else if(a==="star_rating")return"star_rating";else if(a==="message")return"message";else if(a==="video_layout_switch")return"video_layout_switch";else if(a==="more_options_live_comments_menu")return"more_options_live_comments_menu";else if(a==="unpin_speaker")return"unpin_speaker";else if(a==="select_invitees")return"select_invitees";else if(a==="upsell_rooms_chrome_extension")return"upsell_rooms_chrome_extension";else if(a==="close_dialog")return"close_dialog";else if(a==="add_participant")return"add_participant";else if(a==="toggle_video")return"toggle_video";else if(a==="self_view")return"self_view";else if(a==="close_chat")return"close_chat";else if(a==="end_live_dialog_show_button")return"end_live_dialog_show_button";else if(a==="end_call_button")return"end_call_button";else if(a==="e2ee_key_verfication_button")return"e2ee_key_verfication_button";else if(a==="video_escalate_decline")return"video_escalate_decline";else if(a==="calendar_meeting_soon_notification")return"calendar_meeting_soon_notification";else if(a==="decline_button")return"decline_button";else if(a==="upgrade_browser")return"upgrade_browser";else if(a==="screensharing")return"screensharing";else if(a==="close_window")return"close_window";else return"upsell_workchat_download_app"}function c(a){switch(a){case"accept_button":return"accept_button";case"add_participant":return"add_participant";case"audio_button":return"audio_button";case"banner":return"banner";case"breakout_end_button":return"breakout_end_button";case"breakout_start_button":return"breakout_start_button";case"browser_notification":return"browser_notification";case"calendar_clock":return"calendar_clock";case"calendar_clock_tooltip":return"calendar_clock_tooltip";case"calendar_end_call_view":return"calendar_end_call_view";case"calendar_end_call_view_join":return"calendar_end_call_view_join";case"calendar_meeting_now_notification":return"calendar_meeting_now_notification";case"calendar_meeting_now_notification_join":return"calendar_meeting_now_notification_join";case"calendar_meeting_soon_notification":return"calendar_meeting_soon_notification";case"call_again":return"call_again";case"call_back":return"call_back";case"caller_warning_cancel_call_button":return"caller_warning_cancel_call_button";case"caller_warning_continue_call_button":return"caller_warning_continue_call_button";case"cancel_button":return"cancel_button";case"chat_panel_message":return"chat_panel_message";case"close_chat":return"close_chat";case"close_dialog":return"close_dialog";case"close_window":return"close_window";case"copy_link":return"copy_link";case"create_live_dialog_next_button":return"create_live_dialog_next_button";case"create_live_dialog_show_button":return"create_live_dialog_show_button";case"create_live_dialog_start_button":return"create_live_dialog_start_button";case"create_live_waiting_for_joiners_dialog_cancel_button":return"create_live_waiting_for_joiners_dialog_cancel_button";case"create_room":return"create_room";case"decline_button":return"decline_button";case"e2ee_key_verfication_button":return"e2ee_key_verfication_button";case"end_call_button":return"end_call_button";case"end_live_dialog_end_button":return"end_live_dialog_end_button";case"end_live_dialog_show_button":return"end_live_dialog_show_button";case"free_call":return"free_call";case"fullscreen":return"fullscreen";case"fullscreen_disable":return"fullscreen_disable";case"fullscreen_enable":return"fullscreen_enable";case"incoming_ring_tone":return"incoming_ring_tone";case"install_app_button":return"install_app_button";case"join_call_button":return"join_call_button";case"live_indicator":return"live_indicator";case"media_access_pending":return"media_access_pending";case"media_access_rejected":return"media_access_rejected";case"message":return"message";case"more_options":return"more_options";case"more_options_live_comments_menu":return"more_options_live_comments_menu";case"mweb_roster_row":return"mweb_roster_row";case"participant_remove":return"participant_remove";case"participant_row_select":return"participant_row_select";case"participant_row_unselect":return"participant_row_unselect";case"participate_live_dialog":return"participate_live_dialog";case"participate_live_dialog_join_button":return"participate_live_dialog_join_button";case"participate_live_dialog_leave_button":return"participate_live_dialog_leave_button";case"pin_speaker":return"pin_speaker";case"plus_expander_menu":return"plus_expander_menu";case"poor_network_tooltip":return"poor_network_tooltip";case"raise_hand":return"raise_hand";case"raise_hand_queue":return"raise_hand_queue";case"rating_not_now":return"rating_not_now";case"recent_calls":return"recent_calls";case"redial":return"redial";case"review_room":return"review_room";case"save_button":return"save_button";case"schedule_room":return"schedule_room";case"screensharing":return"screensharing";case"screensharing_pop_out_button":return"screensharing_pop_out_button";case"scroll_filters":return"scroll_filters";case"select_invitees":return"select_invitees";case"self_view":return"self_view";case"self_view_minimize":return"self_view_minimize";case"self_view_unminimize":return"self_view_unminimize";case"settings":return"settings";case"star_rating":return"star_rating";case"start_call_button":return"start_call_button";case"submit_feedback":return"submit_feedback";case"toggle_audio":return"toggle_audio";case"toggle_camera":return"toggle_camera";case"toggle_chat":return"toggle_chat";case"toggle_filters":return"toggle_filters";case"toggle_video":return"toggle_video";case"toggle_video_first":return"toggle_video_first";case"unpin_speaker":return"unpin_speaker";case"upgrade_browser":return"upgrade_browser";case"upgrade_chrome":return"upgrade_chrome";case"upgrade_edge":return"upgrade_edge";case"upsell_rooms_chrome_extension":return"upsell_rooms_chrome_extension";case"upsell_workchat_activate_deep_linking":return"upsell_workchat_activate_deep_linking";case"upsell_workchat_download_app":return"upsell_workchat_download_app";case"upsell_workchat_precall_text":return"upsell_workchat_precall_text";case"video_button":return"video_button";case"video_escalate":return"video_escalate";case"video_escalate_accept":return"video_escalate_accept";case"video_escalate_decline":return"video_escalate_decline";case"video_filter_option":return"video_filter_option";case"video_layout_switch":return"video_layout_switch";case"view_participants":return"view_participants";case"window_resize":return"window_resize";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingComponent.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("RTWebLoggingSurfaceConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="caller_warning_dialog")return"caller_warning_dialog";else if(a==="screensharing_pop_out")return"screensharing_pop_out";else if(a==="group_call_participant_picker_dialog")return"group_call_participant_picker_dialog";else if(a==="chat_panel")return"chat_panel";else if(a==="setting_dialog")return"setting_dialog";else if(a==="pre_call_screen")return"pre_call_screen";else if(a==="admin_message")return"admin_message";else if(a==="timeline_top_section")return"timeline_top_section";else if(a==="group_call_view_members_dialog")return"group_call_view_members_dialog";else if(a==="chat_tab")return"chat_tab";else if(a==="missed_call_dialog")return"missed_call_dialog";else if(a==="meeting_room_intern_search_card")return"meeting_room_intern_search_card";else if(a==="meeting_room_map_dialog")return"meeting_room_map_dialog";else if(a==="call_controls")return"call_controls";else if(a==="mweb_roster_view")return"mweb_roster_view";else if(a==="work_profile")return"work_profile";else if(a==="audio_fallback_dialog")return"audio_fallback_dialog";else if(a==="call_container")return"call_container";else if(a==="chat_sidebar")return"chat_sidebar";else if(a==="post_vc_call_upsell")return"post_vc_call_upsell";else if(a==="messenger_bubble")return"messenger_bubble";else if(a==="www_roster_view")return"www_roster_view";else if(a==="incoming_call_dialog")return"incoming_call_dialog";else if(a==="unsupported_browser_dialog")return"unsupported_browser_dialog";else if(a==="workplace_group_chat")return"workplace_group_chat";else if(a==="star_rating_surface")return"star_rating_surface";else if(a==="group_call_add_members_dialog")return"group_call_add_members_dialog";else if(a==="dropdown_call_menu")return"dropdown_call_menu";else if(a==="messages_jewel")return"messages_jewel";else if(a==="chat_sidebar_confirmation_dialog")return"chat_sidebar_confirmation_dialog";else if(a==="meeting_room_profile")return"meeting_room_profile";else if(a==="messenger_header")return"messenger_header";else if(a==="workplace_p2p_chat")return"workplace_p2p_chat";else if(a==="work_hovercard")return"work_hovercard";else if(a==="thread_list")return"thread_list";else if(a==="call_header")return"call_header";else if(a==="post_rooms_call_upsell")return"post_rooms_call_upsell";else return"desktop_notification"}function c(a){switch(a){case"admin_message":return"admin_message";case"audio_fallback_dialog":return"audio_fallback_dialog";case"call_container":return"call_container";case"call_controls":return"call_controls";case"call_header":return"call_header";case"caller_warning_dialog":return"caller_warning_dialog";case"chat_panel":return"chat_panel";case"chat_sidebar":return"chat_sidebar";case"chat_sidebar_confirmation_dialog":return"chat_sidebar_confirmation_dialog";case"chat_tab":return"chat_tab";case"desktop_notification":return"desktop_notification";case"dropdown_call_menu":return"dropdown_call_menu";case"group_call_add_members_dialog":return"group_call_add_members_dialog";case"group_call_participant_picker_dialog":return"group_call_participant_picker_dialog";case"group_call_view_members_dialog":return"group_call_view_members_dialog";case"incoming_call_dialog":return"incoming_call_dialog";case"meeting_room_intern_search_card":return"meeting_room_intern_search_card";case"meeting_room_map_dialog":return"meeting_room_map_dialog";case"meeting_room_profile":return"meeting_room_profile";case"messages_jewel":return"messages_jewel";case"messenger_bubble":return"messenger_bubble";case"messenger_header":return"messenger_header";case"missed_call_dialog":return"missed_call_dialog";case"mweb_roster_view":return"mweb_roster_view";case"post_rooms_call_upsell":return"post_rooms_call_upsell";case"post_vc_call_upsell":return"post_vc_call_upsell";case"pre_call_screen":return"pre_call_screen";case"screensharing_pop_out":return"screensharing_pop_out";case"setting_dialog":return"setting_dialog";case"star_rating_surface":return"star_rating_surface";case"thread_list":return"thread_list";case"timeline_top_section":return"timeline_top_section";case"unsupported_browser_dialog":return"unsupported_browser_dialog";case"work_hovercard":return"work_hovercard";case"work_profile":return"work_profile";case"workplace_group_chat":return"workplace_group_chat";case"workplace_p2p_chat":return"workplace_p2p_chat";case"www_roster_view":return"www_roster_view";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingSurface.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("MWChatXmaThirdPartyActionHandler.bs",["fbt","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","JSResource","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatPIIFormNuxQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","MWChatReceiptDataQuery","MWLSMarketplaceXmaCallFunctionCtaHandler.bs","MWLSOpenStaticLocationDialog.bs","MWLSShowAttachBankSlip.bs","MWLSShowCheckout.bs","MWLSShowMemberRequest.bs","MWLSShowOffsiteBankTransfer.bs","MWLSShowOrderDetails.bs","MWLSShowPaymentDetails.bs","MWLSShowPendingPost.bs","MWP2PPaymentMethodAdd.bs","MWP2PPaymentRequestCancel.bs","MWP2PPaymentRequestConfirm.bs","MWP2PPaymentRequestDecline.bs","MWP2PPaymentTransactionDecline.bs","MWP2PPaymentTransactionInformationVerify.bs","MakeRoomRingbackCommon.bs","MarketplaceCometReviewOffersDialog.entrypoint","MentorshipMessengerLoggingUtils","Popup","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","bs_caml_option","bs_curry","cr:11076","react","requireDeferred","useCometDynamicEntryPointDialog","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWChatXmaThirdPartyActionHandler.bs");function k(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatReceiptModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i.useCallback(function(a){var c=a.receiptId;if(c!==void 0){d("MWChatReceiptDataQuery").fetch(c,a.messageId,function(a){var c=h._("__JHASH__PDJB6VYGeXn__JHASH__");return b({receipt:a,title:c},function(){})});return}},[b])}function l(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0],e=d("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var c=a.feedbackFormId;d("MWChatCustomerFeedbackStateQuery").fetch(c,e,function(a){d("MWChatCustomerFeedbackFormDataQuery").fetch(c,e,function(c){return b({firstScreen:c.firstScreen,formId:c.formId,pageId:c.pageId,privacy:c.privacy,state:a},function(){})})})},[b])}function m(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0],e=d("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var c=a.pageId,f=a.formId,g=a.privacy,h=a.firstScreen;d("MWChatCustomerFeedbackStateQuery").fetch(f,e,function(a){return b({firstScreen:h,formId:f,pageId:c,privacy:g,state:a},function(){})})},[b])}function n(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0],e=d("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var f=a.pageId,g=a.color,h=a.numScreens,i=a.currentIndex,j=a.formId,k=a.firstScreen;d("MWChatPIIFormStateQuery").fetch(j,e,function(a){d("MWChatPIIFormNuxQuery").fetch(e,j,f,function(l){if(h>1){d("MWChatPIIFormScreenQuery").fetch(j,f,1,e,function(d){return b({color:g,currentIndex:i,firstScreen:k,formId:j,numScreens:h,nuxData:l,pageId:f,secondScreen:c("bs_caml_option").some(d),state:a},function(){})});return}else return b({color:g,currentIndex:i,firstScreen:k,formId:j,numScreens:h,nuxData:l,pageId:f,secondScreen:void 0,state:a},function(){})})})},[b])}function o(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0],e=d("CometRelay").useRelayEnvironment();return i.useCallback(function(f){var g=f.nuxData,a=f.piiForm,h=a.pageId,i=a.color,j=a.numScreens,k=a.currentIndex,l=a.formId,m=a.firstScreen,n=f.ctaType;d("MWChatPIIFormStateQuery").fetch(l,e,function(a){if(j>1){d("MWChatPIIFormScreenQuery").fetch(l,h,1,e,function(d){return b({color:i,ctaType:n,currentIndex:k,firstScreen:m,formId:l,numScreens:j,nuxData:g,pageId:h,secondScreen:c("bs_caml_option").some(d),state:a},function(){})});return}else return b({color:i,ctaType:n,currentIndex:k,firstScreen:m,formId:l,numScreens:j,nuxData:g,pageId:h,secondScreen:void 0,state:a},function(){})})},[b])}function p(){var a=c("useCometLazyDialog")(c("JSResource")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i.useCallback(function(a){return b({pageID:a.pageId,requestID:a.requestId},function(){})},[b])}function q(){var a=c("useCometLazyDialog")(c("JSResource")("MWFbpayOfferDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i.useCallback(function(a){return b({offerId:a.offerId,title:a.title},function(){})},[b])}function r(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i.useCallback(function(a){return b({messageId:a.messageId,titleString:a.titleString},function(){})},[b])}function s(){var a=d("MWLSOpenStaticLocationDialog.bs").useHook();return i.useCallback(function(b){return c("bs_curry")._1(a,b.msgId)},[a])}function t(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i.useCallback(function(a){return b({boardingPassDetail:a},function(){})},[b])}function u(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i.useCallback(function(a){return b({itineraryPayload:a},function(){})},[b])}function v(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i.useCallback(function(a){return b({actionLink:a.actionLink,pageID:a.pageID,threadID:a.pageID,title:a.sourceTitle,userID:a.userID},function(){})},[b])}function w(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatRichWidgetExtension.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i.useCallback(function(a){return b({actionLink:a.actionLink,pageID:a.pageID,threadID:a.pageID,title:a.sourceTitle,userID:a.userID},function(){})},[b])}function x(a){return i.useCallback(function(b){j.onReady(function(a){return c("bs_curry")._1(a.logClick,{component:c("bs_curry")._1(d("RTWebLoggingComponentConvert.bs").converter.toJS,"start_call_button"),surface:c("bs_curry")._1(d("RTWebLoggingSurfaceConvert.bs").converter.toJS,"admin_message")})});return c("bs_curry")._3(a,b.hasVideo,b.threadId,b.trigger)},[a])}function y(){var a=c("useCometLazyDialog")(c("JSResource")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i.useCallback(function(a){return b({guestID:a.guestId,pageID:a.pageId},function(){})},[b])}f=b("cr:11076")==null?void 0:c("bs_caml_option").some(b("cr:11076"));function z(){return i.useCallback(function(a){if(!(b("cr:11076")==null))return c("bs_curry")._2(b("cr:11076").$$process,a.ctaId,a.messageId)},[])}function A(a){d("Popup").open(a,1024,500)}function B(){var a=c("useCometLazyDialog")(c("JSResource")("MentorshipLeaveSurveyDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i.useCallback(function(a){var c=a.programID;d("MentorshipMessengerLoggingUtils").logMessengerEvent({destContainer:"messenger_thread",destUnit:"leave_survey",displayName:"End Program",event:"click_unit",extraData:{content_id:a.promptID,prompt_type:"MENTORSHIP_MESSENGER_LEAVE_PROMPT"},programID:c,unit:"prompt_unit"});return b({programID:c},function(){})},[b])}function C(){var a=c("useCometLazyDialog")(c("JSResource")("CometJoinRoomFromPortalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs")),b=a[0];return i.useCallback(function(a){return b({linkUrl:a.linkUrl},function(){})},[b])}function a(){return d("MWLSMarketplaceXmaCallFunctionCtaHandler.bs").useMarketplaceXmaCallFunctionCtaHandler()}function D(){var a=c("useCometDynamicEntryPointDialog")(c("MarketplaceCometReviewOffersDialog.entrypoint"));return i.useCallback(function(b){return a({listingId:b},void 0,function(){})},[a])}function E(){var a=c("useCometDynamicEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"));return i.useCallback(function(b){return a({threadId:b},{threadId:b},function(){})},[a])}function e(a,b){var e=k(),f=m(),g=l(),h=z(),i=n(),j=o(),F=q(),G=r(),H=s(),I=p(),J=t(),K=y(),L=u(),M=v(),N=w(),O=d("MWP2PPaymentRequestCancel.bs").useP2PPaymentRequestCancel(),P=d("MWP2PPaymentRequestConfirm.bs").useP2PPaymentRequestConfirm(),Q=d("MWP2PPaymentRequestDecline.bs").useP2PPaymentRequestDecline(),R=d("MWP2PPaymentTransactionDecline.bs").useP2PPaymentTransactionDecline(),S=d("MWP2PPaymentMethodAdd.bs").useP2PPaymentMethodAdd(),T=d("MWP2PPaymentTransactionInformationVerify.bs").useP2PPaymentTransactionInformationVerify(),U=x(b),V=c("bs_curry")._1(d("MakeRoomRingbackCommon.bs").useHook),W=C(),X=B(),Y=d("MWLSShowMemberRequest.bs").useHook(),Z=d("MWLSShowPendingPost.bs").useHook(),$=d("MWLSShowPaymentDetails.bs").useHook(),aa=d("MWLSShowOrderDetails.bs").useHook(),ba=d("MWLSShowCheckout.bs").useHook(),ca=d("MWLSShowAttachBankSlip.bs").useHook(),da=d("MWLSShowOffsiteBankTransfer.bs").useHook(),ea=d("MWLSMarketplaceXmaCallFunctionCtaHandler.bs").useMarketplaceXmaCallFunctionCtaHandler(),fa=D(),ga=E();return function(b){var d=b.NAME;if(d==="P2PPaymentTransactionInformationVerify")return c("bs_curry")._1(T,b.VAL);if(d==="P2PPaymentTransactionDecline")return c("bs_curry")._2(R,void 0,b.VAL);if(d==="MakeWorkJoinableCallInvite"||d==="MakeRoomRingback")return c("bs_curry")._1(V,b.VAL);if(d==="P2MCheckout"){var k=b.VAL;return ba(k.orderID,k.pageID)}if(d==="ShowCustomerFeedback")return c("bs_curry")._1(f,b.VAL);if(d==="ShowFbpayOfferDetails")return c("bs_curry")._1(F,b.VAL);if(d==="P2PPaymentRequestCancel")return c("bs_curry")._2(O,void 0,b.VAL);if(d==="SendImagePostback"){k=b.VAL;var l=k.loggingDetails;l!==void 0&&c("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(){return{consumer_id:l.consumer_id,event_data:{ad_id:l.ad_id,cta:"button",index:l.index},event_location:"unknown",page_id:l.page_id}});return c("bs_curry")._3(a,k.message,k.platformToken,k.image)}if(d==="ShowMessengerExtensions")return c("bs_curry")._1(M,b.VAL);if(d==="ShowPIIForm")return c("bs_curry")._1(i,b.VAL);if(d==="OpenAccountLink")return c("bs_curry")._1(h,b.VAL);if(d==="P2MOffsiteBankTransferCTA")return da(b.VAL.orderID);if(d==="P2PPaymentTransactionReceiveMoney")return c("bs_curry")._2(S,void 0,b.VAL);if(d==="ShowBoardingPass")return c("bs_curry")._1(J,b.VAL);if(d==="P2MOrderDetails")return aa(b.VAL.orderID);if(d==="ShowStaticLocationDetails")return c("bs_curry")._1(H,b.VAL);if(d==="P2PPaymentTransactionDetails")return $(b.VAL.id);if(d==="P2PPaymentRequestDecline")return c("bs_curry")._2(Q,void 0,b.VAL);if(d==="ShowMentorshipDialog")return c("bs_curry")._1(X,b.VAL);if(d==="ShowBookingDetails")return c("bs_curry")._1(I,b.VAL);if(d==="ShowOrderConfirmation")return c("bs_curry")._1(e,b.VAL);if(d==="ShowCustomerFeedbackForm")return c("bs_curry")._1(g,b.VAL);if(d==="ShowMessengerRichWidgetExtension")return c("bs_curry")._1(N,b.VAL);if(d==="ShowItinerary")return c("bs_curry")._1(L,b.VAL);if(d==="OpenAccountLinkUrl")return A(b.VAL);if(d==="MakeJoinRoomFromPortal")return c("bs_curry")._1(W,b.VAL);if(d==="P2MAttachBankSlip")return ca(b.VAL.orderID);if(d==="AdmodChatsShowPendingPost"){k=b.VAL;return Z(k.targetId,k.groupId,k.authorId,k.postId,k.activityLogItemId)}if(d==="P2PPaymentRequestConfirm")return c("bs_curry")._2(P,void 0,b.VAL);if(d==="MakeRtcCall")return c("bs_curry")._1(U,b.VAL);if(d==="ProcessMarketplaceCallFunction"){k=b.VAL;return c("bs_curry")._4(ea,k.messageId,k.attachmentFbid,k.targetId,k.actionType)}if(d==="ShowPIIFormForFormBuilder")return c("bs_curry")._1(j,b.VAL);if(d==="ShowLiveLocationDetails")return c("bs_curry")._1(G,b.VAL);if(d==="AdmodChatsShowMemberRequest"){k=b.VAL;return Y(k.targetId,k.groupId,k.profileId,k.activityLogItemId)}if(d==="ShowGuestChatHistory")return c("bs_curry")._1(K,b.VAL);k=b.VAL;d=k.threadId;b=k.listingId;switch(k.ctaType){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(d!==void 0)return c("bs_curry")._1(ga,c("bs_caml_option").valFromOption(d));else return;case"SHIPPED_OFFER_CANCEL":if(b!==void 0)return c("bs_curry")._1(fa,c("bs_caml_option").valFromOption(b));else return;default:return}}}var F=k,G=l,H=m,I=n,J=o,K=p,L=q,M=r,N=s,O=t,P=u,Q=v,R=w,S=x,T=y;f=f;var U=z,V=A,W=B,X=C;a=a;var Y=D,Z=E;e=e;g.useShowOrderConfirmation=F;g.useShowCustomerFeedback=G;g.useShowCustomerSatisfaction=H;g.useShowPIIForm=I;g.useShowPIIFormForFormBuilder=J;g.useShowBookingDetails=K;g.useShowFbpayOfferDetails=L;g.useShowLiveLocationDetails=M;g.useShowStaticLocationDetails=N;g.useShowBoardingPass=O;g.useShowItinerary=P;g.useShowMessengerExtensions=Q;g.useShowMessengerRichWidgetExtension=R;g.useMakeRTCCall=S;g.useGuestMessageThreadDetails=T;g.mnCommerceCTAProcessor=f;g.useOpenAccountLink=U;g.openAccountLinkUrl=V;g.useShowMentorshipDialog=W;g.useMakeJoinRoomFromPortal=X;g.processMarketplaceCallFunction=a;g.useShowReviewOffersDialog=Y;g.useShowCreateDiscountedPriceDialog=Z;g.useHandler=e}),98);
__d("MWStartRTCCallUtils",["MWLSStartPhoneCall.bs","MessengerDesktopDeepLinkUtils","MessengerDesktopDeeplinkEventFalcoEvent","MessengerDesktopLocalServerRequest","ODS","Promise","gkx","promiseDone","qex","react","uuid"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef,k=e.useState;function l(){var a=k(!1),b=a[0],e=a[1],f=j(!1);i(function(){if(f.current)return;f.current=!0;if(c("gkx")("1987549")||!d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible())return;if(c("qex")._("45")!==!0)return;d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","is_dapp_running");c("promiseDone")(d("MessengerDesktopDeepLinkUtils").isMessengerDesktopRunning(d("MessengerDesktopDeepLinkUtils").PORT).then(function(a){if(!a||a!==200){a||d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_did_not_respond");a===500&&d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_responded_but_crashed");return}e(!0)}))});return b}function m(a){var e=j(c("uuid")()).current;return h(function(f,g,h){var i="/call?threadid="+g+"&isvideocall="+(f?1:0)+"&funnel_id="+e;d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");n({funnelSessionId:e});c("promiseDone")(b("Promise").all([new(c("MessengerDesktopLocalServerRequest"))(i,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(b){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+b),a(f,g,h)}).setTimeoutHandler(function(){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),a(f,g,h)}).send()]))},[a,e])}function a(){var a=l(),b=d("MWLSStartPhoneCall.bs").useMakeRTCCall();b=b[0];var c=m(b);return a?c:b}function n(a){var b=a.funnelSessionId;c("MessengerDesktopDeeplinkEventFalcoEvent").logImmediately(function(){return{event:"attempt_localhost_deeplink",eventLocation:"browser",eventType:"call",funnelSessionId:b,mobile_app_source:"unknown"}})}g.useShouldTryWithMessengerDesktop=l;g.useStartRTCCall=a;g.logCallAttemptViaLocalhost=n}),98);
__d("MWXMACtaRegistry.bs",["$InternalEnum","ConstUriUtils","LSMessagingInitiatingSourceHook.bs","LSMessagingSource","LsActionType.bs","MWChatPollXMAActionHandler.bs","MWChatXmaThirdPartyActionHandler.bs","MWLSImagePostbackCtaHandler.bs","MWLSPostbackCtaHandler.bs","MWLSWebUrlCtaHandler.bs","MWStartRTCCallUtils","XCometStoriesControllerRouteBuilder","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_caml_option","bs_int64","bs_js_dict","bs_js_json","bs_js_null_undefined","cr:275","cr:28","cr:4538","cr:4539","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=(f=(e=b("cr:4539"))!=null?e:b("cr:28"))!=null?f:c("emptyFunction"),i=(f=(e=b("cr:4538"))!=null?e:b("cr:275"))!=null?f:c("emptyFunction"),j=b("$InternalEnum")({BUTTON:0,DISABLED_BUTTON:1,URL:2,DEEPLINK:3,CTA_ERROR:4,NOT_SUPPORTED:5});function a(){var a=d("LSMessagingInitiatingSourceHook.bs").useHook(),b=d("LSMessagingSource").useHook();b=d("MWLSImagePostbackCtaHandler.bs").usePostbackCtaHandler(b,a);a=d("MWStartRTCCallUtils").useStartRTCCall();var e=d("MWChatXmaThirdPartyActionHandler.bs").useHandler(b,a),f=d("MWLSPostbackCtaHandler.bs").usePostbackCtaHandler(),g=d("MWChatPollXMAActionHandler.bs").useHandler(),k=d("MWLSWebUrlCtaHandler.bs").useShowWebViewDialog();b=i();var l=h({onSuccess:(a=b)!=null?a:c("emptyFunction")});return function(a){var b,h,i=a.actionUrl,m=a.platformToken,n=a.type_,o=a.title,p=a.messageId,q=a.threadKey,r=a.attachmentFbid,s=0,t=0,u=0,v=0,w=0,x=0;if(n==="xma_event_rsvp"&&c("gkx")("3170"))return{primaryInfo:function(){},secondaryInfo:void 0,actionType:j.BUTTON};if(n==="xma_rtc_audio"||n==="xma_rtc_missed_audio"||n==="xma_rtc_new_audio_default"||n==="xma_rtc_ended_audio")return{primaryInfo:function(){return e({NAME:"MakeRtcCall",VAL:{hasVideo:!1,threadId:c("bs_int64").to_string(q),trigger:n}})},secondaryInfo:void 0,actionType:j.BUTTON};if(n==="xma_rtc_video"||n==="xma_rtc_new_video_default"||n==="xma_rtc_new_video_from_fb_share"||n==="xma_rtc_new_video_from_fb_video_share"||n==="xma_rtc_missed_video"||n==="xma_rtc_ended_video")return{primaryInfo:function(){return e({NAME:"MakeRtcCall",VAL:{hasVideo:!0,threadId:c("bs_int64").to_string(q),trigger:n}})},secondaryInfo:void 0,actionType:j.BUTTON};if(n==="xma_postback")return{primaryInfo:function(){return f(m,o)},secondaryInfo:[c("bs_int64").to_string(q),31],actionType:j.BUTTON};if(i!==void 0){if(n==="xma_open_dialog"){var y=d("ConstUriUtils").getUri(i).getQueryData(),z=y.page_id,A=y.guest_id;return{primaryInfo:function(){return e({NAME:"ShowGuestChatHistory",VAL:{guestId:A,pageId:z}})},secondaryInfo:void 0,actionType:j.BUTTON}}y=8}else y=8;if(y===8){var B=a.targetId;if(n==="xma_open_dialog")return{primaryInfo:"Expected an open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product",actionType:j.CTA_ERROR};if(B!==void 0){if(n==="xma_p2p_payment_details"||n==="xma_p2p_request_pay"||n==="xma_p2p_payment_details_receive_money"||n==="xma_p2p_verify_info")return{primaryInfo:function(){return e({NAME:"P2PPaymentTransactionDetails",VAL:{currentStatus:null,id:c("bs_js_null_undefined").fromOption(c("bs_int64").to_string(B))}})},secondaryInfo:void 0,actionType:j.BUTTON};x=7}else x=7}if(x===7)if(i!==void 0){if(n==="xma_join_from_portal")return{primaryInfo:function(){return e({NAME:"MakeJoinRoomFromPortal",VAL:{linkUrl:i}})},secondaryInfo:void 0,actionType:j.BUTTON};w=6}else w=6;if(w===6){y=0;if(n==="xma_p2p_payment_details"||n==="xma_p2p_request_pay"||n==="xma_p2p_payment_details_receive_money"||n==="xma_p2p_verify_info")return{primaryInfo:"P2P Transaction encounterd without txn id",secondaryInfo:"messenger_privacy_web",actionType:j.CTA_ERROR};if(a.nativeUrl!==void 0)x=8;else{if(n==="xma_live_location_sharing")return{primaryInfo:function(){return e({NAME:"ShowLiveLocationDetails",VAL:{messageId:p,titleString:o}})},secondaryInfo:void 0,actionType:j.BUTTON};x=8}if(x===8){var C=a.actionContentBlob;w=0;x=0;var D=0,E=0,F=a.targetId;if(n==="xma_live_location_sharing")return{primaryInfo:function(){return e({NAME:"ShowStaticLocationDetails",VAL:{msgId:p}})},secondaryInfo:void 0,actionType:j.BUTTON};if(n==="xma_poll_details_button"||n==="xma_poll_details_card")return{primaryInfo:function(){return g(c("bs_belt_Option").getExn(F),c("bs_belt_Option").getExn(C))},secondaryInfo:void 0,actionType:j.BUTTON};if(C!==void 0){var G=a.targetId;if(G!==void 0)if(n==="xma_admod_chat_member_request"){var H;try{H=c("bs_caml_option").some(JSON.parse(C))}catch(a){H=void 0}if(H===void 0)return{primaryInfo:void 0,actionType:NOT_SUPPORTED};H=c("bs_js_json").classify(c("bs_caml_option").valFromOption(H));if(typeof H==="number")return{primaryInfo:void 0,actionType:NOT_SUPPORTED};if(H.actionType!==URL)return{primaryInfo:void 0,actionType:NOT_SUPPORTED};var I=H.primaryInfo;return{primaryInfo:function(){var a=c("bs_js_dict").get(I,"groupID"),b=c("bs_js_dict").get(I,"profileID"),d=c("bs_js_dict").get(I,"activityLogItemID");return e({NAME:"AdmodChatsShowMemberRequest",VAL:{activityLogItemId:d!==void 0?JSON.stringify(c("bs_caml_option").valFromOption(d)):"",groupId:a!==void 0?JSON.stringify(c("bs_caml_option").valFromOption(a)):"",profileId:b!==void 0?JSON.stringify(c("bs_caml_option").valFromOption(b)):"",targetId:c("bs_js_null_undefined").fromOption(c("bs_int64").to_string(G))}})},secondaryInfo:void 0,actionType:j.BUTTON}}else if(n==="xma_admod_chat_pending_post"){try{H=c("bs_caml_option").some(JSON.parse(C))}catch(a){H=void 0}if(H===void 0)return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED};H=c("bs_js_json").classify(c("bs_caml_option").valFromOption(H));if(typeof H==="number")return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED};if(H.actionType!==URL)return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED};var J=H.primaryInfo;return{primaryInfo:function(){var a=c("bs_js_dict").get(J,"groupID"),b=c("bs_js_dict").get(J,"authorID"),d=c("bs_js_dict").get(J,"postID"),f=c("bs_js_dict").get(J,"activityLogItemID");return e({NAME:"AdmodChatsShowPendingPost",VAL:{activityLogItemId:f!==void 0?JSON.stringify(c("bs_caml_option").valFromOption(f)):"",authorId:b!==void 0?JSON.stringify(c("bs_caml_option").valFromOption(b)):"",groupId:a!==void 0?JSON.stringify(c("bs_caml_option").valFromOption(a)):"",postId:d!==void 0?JSON.stringify(c("bs_caml_option").valFromOption(d)):"",targetId:c("bs_js_null_undefined").fromOption(c("bs_int64").to_string(G))}})},secondaryInfo:void 0,actionType:j.BUTTON}}else E=12;else D=11}else E=12;if(E===12){var K=a.targetId;if(K!==void 0){if(n==="xma_p2m_payment_details")return{primaryInfo:function(){return e({NAME:"P2MOrderDetails",VAL:{orderID:c("bs_js_null_undefined").fromOption(c("bs_int64").to_string(K))}})},secondaryInfo:void 0,actionType:j.BUTTON};if(n==="xma_p2m_attach_receipt")return{primaryInfo:function(){return e({NAME:"P2MAttachBankSlip",VAL:{orderID:c("bs_js_null_undefined").fromOption(c("bs_int64").to_string(K))}})},secondaryInfo:void 0,actionType:j.BUTTON};if(n==="xma_p2m_offsite_bank_transfer")return{primaryInfo:function(){return e({NAME:"P2MOffsiteBankTransferCTA",VAL:{orderID:c("bs_js_null_undefined").fromOption(c("bs_int64").to_string(K))}})},secondaryInfo:void 0,actionType:j.BUTTON};if(n==="xma_p2m_checkout")return{primaryInfo:function(){return e({NAME:"P2MCheckout",VAL:{orderID:c("bs_js_null_undefined").fromOption(c("bs_int64").to_string(K)),pageID:c("bs_int64").to_string(q)}})},secondaryInfo:void 0,actionType:j.BUTTON};D=11}else D=11}if(D===11)if(C!==void 0){if(n==="xma_direct_send")return{primaryInfo:function(){return e({NAME:"ShowPIIForm",VAL:JSON.parse(C)})},secondaryInfo:[c("bs_int64").to_string(q),c("bs_caml_int64").to_int32(d("LsActionType.bs").piiWebview)],actionType:j.BUTTON};x=10}else x=10;if(x===10){if(n==="xma_direct_send")return{primaryInfo:"Expected pii_form data but didn't get any",secondaryInfo:"mb_apix",actionType:j.CTA_ERROR};if(C!==void 0){if(n==="xma_biz_inbox_form_send")return{primaryInfo:function(){return e({NAME:"ShowPIIFormForFormBuilder",VAL:{ctaType:n,nuxData:{description:"",seen:!0,title:"",url:"",url_text:""},piiForm:JSON.parse(C)}})},secondaryInfo:[c("bs_int64").to_string(q),c("bs_caml_int64").to_int32(d("LsActionType.bs").piiWebview)],actionType:j.BUTTON};w=9}else w=9}if(w===9){if(n==="xma_biz_inbox_form_send")return{primaryInfo:"Expected pii_form data but didn't get any",secondaryInfo:"mb_apix",actionType:j.CTA_ERROR};if(C!==void 0){if(n==="xma_feedback_send")return{primaryInfo:function(){return e({NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:C}})},secondaryInfo:[c("bs_int64").to_string(q),69],actionType:j.BUTTON};y=7}else y=7}}if(y===7){if(n==="xma_feedback_send")return{primaryInfo:"Expected Feedback info but didn't get any",secondaryInfo:"mb_apix",actionType:j.CTA_ERROR};if(i!==void 0){if(n==="xma_account_link")return{primaryInfo:function(){return e({NAME:"OpenAccountLinkUrl",VAL:i})},secondaryInfo:[c("bs_int64").to_string(q),c("bs_caml_int64").to_int32(d("LsActionType.bs").accountLink)],actionType:j.BUTTON};v=5}else v=5}}if(v===5){var L=a.actionContentBlob;if(n==="xma_account_link")return{primaryInfo:"Expected an account link url but didn't get any",secondaryInfo:"mb_apix",actionType:j.CTA_ERROR};if(n==="xma_open_joinable_call_invite_url")return{primaryInfo:function(){return e({NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:c("bs_belt_Option").getExn(i)}})},secondaryInfo:void 0,actionType:j.BUTTON};if(n==="xma_monactionTypee_share"){H=a.targetId;if(H!==void 0)return{primaryInfo:c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+c("bs_int64").to_string(H)),view_single:!0}).setDomain("www.facebook.com").setProtocol("https").toString(),secondaryInfo:void 0,actionType:j.URL};else return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED}}if(L!==void 0){if(n==="marketplace_xma_call_function"){var M=a.targetId;return{primaryInfo:function(){return e({NAME:"ProcessMarketplaceCallFunction",VAL:{actionType:L,attachmentFbid:r,messageId:p,targetId:c("bs_belt_Option").getExn(M)}})},secondaryInfo:void 0,actionType:j.BUTTON}}E=6}else E=6;if(E===6){if(n==="marketplace_xma_call_function")return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED};if(i!==void 0){var N=a.actionContentBlob;if(N!==void 0){if(n==="marketplace_xma_open_dialog"){D=d("ConstUriUtils").getUri(i);if(D===void 0)return{primaryInfo:"Found invalid url when creating CTA",secondaryInfo:"messenger_business_core_product",actionType:j.CTA_ERROR};var O=c("bs_caml_option").valFromOption(D).getQueryParam("listingID");return{primaryInfo:function(){return e({NAME:"OpenMarketplaceDialog",VAL:{ctaType:N,listingId:O,threadId:c("bs_int64").to_string(q)}})},secondaryInfo:void 0,actionType:j.BUTTON}}u=4}else u=4}else u=4}}if(u===4){x=a.nativeUrl;w=0;y=a.actionContentBlob;if(n==="marketplace_xma_open_dialog")return{primaryInfo:"Expected an open dialog url and actionContentBlob but didn't get any",secondaryInfo:"messenger_business_core_product",actionType:j.CTA_ERROR};if(y!==void 0&&n==="xma_ctm_in_thread_multiphoto_reply_image"){try{v=c("bs_caml_option").some(JSON.parse(y))}catch(a){v=void 0}if(v===void 0)return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED};H=c("bs_js_json").classify(c("bs_caml_option").valFromOption(v));if(typeof H==="number")return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED};if(H.actionType!==j.URL)return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED};var P=H.primaryInfo;E=c("bs_js_dict").get(P,"action_prefill");D=c("bs_js_dict").get(P,"reply_image_uri");if(E===void 0)return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED};if(D===void 0)return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED};var Q=c("bs_js_json").decodeString(c("bs_caml_option").valFromOption(E)),R=c("bs_js_json").decodeString(c("bs_caml_option").valFromOption(D));if(Q===void 0)return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED};if(R===void 0)return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED};var S='{"in_thread_multiphoto_xma_reply": true}';return{primaryInfo:function(){var b=c("bs_js_dict").get(P,"ad_id");if(b!==void 0){b=c("bs_js_json").decodeNumber(c("bs_caml_option").valFromOption(b));b=b==null?void 0:b.toString()}else b=void 0;var d=c("bs_js_dict").get(P,"customer_id");if(d!==void 0){d=c("bs_js_json").decodeNumber(c("bs_caml_option").valFromOption(d));d=d==null?void 0:d.toString()}else d=void 0;var f=c("bs_js_dict").get(P,"index"),a=c("bs_js_dict").get(P,"page_id");if(a!==void 0){a=c("bs_js_json").decodeNumber(c("bs_caml_option").valFromOption(a));a=a==null?void 0:a.toString()}else a=void 0;return e({NAME:"SendImagePostback",VAL:{image:R,loggingDetails:{ad_id:b,consumer_id:d,index:f!==void 0?c("bs_js_json").decodeNumber(c("bs_caml_option").valFromOption(f)):void 0,page_id:a},message:Q,platformToken:m!==void 0&&m!==""?m:S}})},secondaryInfo:void 0,actionType:j.BUTTON}}else u=6;if(u===6){if(n==="xma_ctm_in_thread_multiphoto_reply_image")return{primaryInfo:void 0,actionType:j.NOT_SUPPORTED};if(n==="xma_disabled_cta")return{primaryInfo:void 0,actionType:j.DISABLED_BUTTON};if(x!==void 0){if(n==="xma_open_native"&&x.startsWith("fb-messenger://user-thread/")){y=x.substr("fb-messenger://user-thread/".length);return{primaryInfo:{loggingDetails:[c("bs_int64").to_string(q),c("bs_caml_int64").to_int32(d("LsActionType.bs").openNative)],threadKey:c("bs_caml_format").caml_int64_of_string(y)},actionType:j.DEEPLINK}}w=5}else w=5}if(w===5){var T=a.actionContentBlob;if(T!==void 0){if(n==="xma_open_native")return{primaryInfo:function(){return k(T)},secondaryInfo:void 0,actionType:j.BUTTON};t=3}else t=3}}if(t===3)if(i!==void 0){if(n==="xma_open_native")if(i.includes("://m.me/j/")&&(c("gkx")("6970")||c("gkx")("6996")))return{primaryInfo:function(){return l(i)},secondaryInfo:void 0,actionType:j.BUTTON};else return{primaryInfo:i,secondaryInfo:[c("bs_int64").to_string(q),c("bs_caml_int64").to_int32(d("LsActionType.bs").openNative)],actionType:j.URL};s=2}else s=2;if(s===2){var U=a.actionContentBlob;if(n==="xma_open_native"){v=["Title: "+o,"Type: "+n,"PlatformTokenPresent: "+c("bs_belt_Option").mapWithDefault(m,"false",function(){return"true"}),"ActionUrlPresent: "+c("bs_belt_Option").mapWithDefault(i,"false",function(){return"true"}),"actionContentBlobPresent: "+c("bs_belt_Option").mapWithDefault(U,"false",function(){return"true"})].join(", ");return{primaryInfo:"No Url found while parsing Open Native XMA "+v,secondaryInfo:"messenger_privacy_web",actionType:j.CTA_ERROR}}if(U!==void 0)return{primaryInfo:function(){return k(U)},secondaryInfo:void 0,actionType:j.BUTTON};if(i!==void 0){H=a.enableExtensions;if(H!==void 0){if(H)if(n==="xma_open_rich_widget")return{primaryInfo:function(){return e({NAME:"ShowMessengerRichWidgetExtension",VAL:{actionLink:i,pageID:c("bs_int64").to_string(q),sourceTitle:c("bs_js_null_undefined").fromOption(o),userID:c("bs_int64").to_string(q)}})},secondaryInfo:[c("bs_int64").to_string(q),33],actionType:j.BUTTON};else return{primaryInfo:function(){return e({NAME:"ShowMessengerExtensions",VAL:{actionLink:i,pageID:c("bs_int64").to_string(q),sourceTitle:c("bs_js_null_undefined").fromOption(o),userID:c("bs_int64").to_string(q)}})},secondaryInfo:[c("bs_int64").to_string(q),33],actionType:j.BUTTON};b=q;h=i}else b=q,h=i}else{E=["Title: "+o,"Type: "+n,"PlatformTokenPresent: "+c("bs_belt_Option").mapWithDefault(m,"false",function(){return"true"}),"ActionUrlPresent: "+c("bs_belt_Option").mapWithDefault(i,"false",function(){return"true"}),"actionContentBlobPresent: "+c("bs_belt_Option").mapWithDefault(a.actionContentBlob,"false",function(){return"true"})].join(", ");return{primaryInfo:"Unknown CTA encountered while parsing XMA. "+E,secondaryInfo:"messenger_privacy_web",actionType:j.CTA_ERROR}}}return{primaryInfo:h,secondaryInfo:[c("bs_int64").to_string(b),32],actionType:j.URL}}}g.ActionType=j;g.useHook=a}),98);
__d("MWXMALink.react",["CometLink.react","MAWArmadilloLink.react","MAWArmadilloLinkContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={link:{color:"x1heor9g",":hover_textDecoration":"x1lku1pv",$$css:!0}};function a(a){var b=d("MAWArmadilloLinkContext.react").useMAWArmadilloLink();return b?h.jsx(c("MAWArmadilloLink.react"),babelHelpers["extends"]({},a,{bypassMDS_DO_NOT_USE:!0,xstyle:i.link})):h.jsx(c("CometLink.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentActionTrigger.bs",["fbt","CometPressable.react","LSThreadAttributionStore.bs","LsDidTapCallToActionFalcoEvent","MWChatOpenTabByThreadKey.bs","MWInboxRouteBuilder.bs","MWXMACtaRegistry.bs","MWXMALink.react","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","UseBlockedUserInterstitial.bs","bs_belt_Option","bs_int64","react","recoverableViolation","useCometRouterDispatcher","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a,b,d){if(d===void 0)return;var e=d[1],f=d[0];c("LsDidTapCallToActionFalcoEvent").log(function(){return{action:{id:c("bs_int64").to_string(a.ctaId),name:"",source:b,type:e},message:{id:a.messageId},page:{id:f},target:{id:f},thread:{id:f}}})}function k(a){var b=d("UseBlockedUserInterstitial.bs").useHook(a),e=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),f=c("useCometRouterDispatcher")(),g=d("MWChatOpenTabByThreadKey.bs").useHook(a,"chatInThread");return i.useCallback(function(h){return function(i){if(e)return b(function(){var a=i.metaKey||i.ctrlKey||i.shiftKey;if(!a)return g()},"chatInThread");else if(!(f==null))return b(function(){d("LSThreadAttributionStore.bs").setSource(c("bs_int64").to_string(a),"chatInThread"),f.go(h)},"chatInThread");else return}},[b,e,g,f])}function l(a){var b=a.children;a=a.threadKey;return b(k(a))}b={make:l};var m={link:{":hover_textDecoration":"x1lku1pv",$$css:!0}};function n(a){var b=a.attachmentItem,e=a.children,f=c("useReStore")(),g=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.defaultCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("attachment_ctas")),{hd:a,tl:0});else return d("SortedAsyncIterable.bs").empty()},[f,JSON.stringify(b.defaultCtaId)]));a=d("MWXMACtaRegistry.bs").useHook();if(g===void 0)return e;a=a(g);switch(a.actionType){case d("MWXMACtaRegistry.bs").ActionType.BUTTON:var k=a.secondaryInfo,n=a.primaryInfo;return i.jsx(c("CometPressable.react"),{"aria-label":c("bs_belt_Option").getWithDefault(b.titleText,""),onPress:function(){j(g,1,k);return n()},children:e});case d("MWXMACtaRegistry.bs").ActionType.DISABLED_BUTTON:return i.jsx(c("CometPressable.react"),{"aria-label":c("bs_belt_Option").getWithDefault(b.titleText,""),disabled:!0,children:e});case d("MWXMACtaRegistry.bs").ActionType.URL:var o=a.primaryInfo;if(!(o.startsWith("http")||o.startsWith("/")))return e;var p=a.secondaryInfo;return i.jsx(c("MWXMALink.react"),{href:o,label:c("bs_belt_Option").getWithDefault(b.titleText,h._("__JHASH__jBGVUqdMJ6C__JHASH__").toString()),onClick:function(){return j(g,1,p)},target:"_blank",xstyle:m.link,children:e});case d("MWXMACtaRegistry.bs").ActionType.DEEPLINK:o=a.primaryInfo;var q=o.loggingDetails;o=o.threadKey;var r=d("MWInboxRouteBuilder.bs").buildURL({thread_key:c("bs_int64").to_string(o)});return i.jsx(l,{threadKey:o,children:function(a){return i.jsx(c("MWXMALink.react"),{href:r,onClick:function(b){a(r,b);return j(g,1,q)},preventLocalNavigation:!0,children:e})}});case d("MWXMACtaRegistry.bs").ActionType.CTA_ERROR:c("recoverableViolation")(a.primaryInfo,a.secondaryInfo);return e;case d("MWXMACtaRegistry.bs").ActionType.NOT_SUPPORTED:return e}}e={make:n};function a(a){var b=a.attachmentItem,c=a.children;a=a.isPressable;if(a)return i.jsx(n,{attachmentItem:b,children:c});else return c}f={make:a};a=j;var o=k;b=b;e=e;f=f;g.logCtaClicked=a;g.useMaybeOpenChatTab=o;g.WithOpenChatTab=b;g.DefaultActionTrigger=e;g.DefaultActionTriggerContainer=f}),98);
__d("MWXMAAttachmentItemAttribution.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.attachment;var b=a.attributionAppIcon;a=a.attributionAppName;return b!=null&&a!=null?h.jsxs("div",{className:"x6s0dn4 x1gn5b1j x230xth x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[h.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1kky2od",src:b}),h.jsx("span",{className:"xzsf02u x1nxh6w3 x1mnrxsn x13faqbe",children:a})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemHeaderIcon.bs",["CometImageCover.react","CometSkittleIcon.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.icon;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;if(b.TAG===1){a=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?"40px":"32px";return h.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:h.jsx(c("CometImageCover.react"),{alt:"Icon for this message's header",src:b._0,style:{borderRadius:"50%",height:a,width:a}})})}return h.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:h.jsx(c("CometSkittleIcon.react"),{color:b._0.color,icon:b._0.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIconParser.bs",["ConstUriUtils","bs_caml_option","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==="clear"||a==="staticWhite"||a==="white"||a==="white70"||a==="black"||a==="black50"||a==="black34"||a==="black20"||a==="black12"||a==="black6"||a==="black4"||a==="bluegrey75"||a==="bluegrey50"||a==="placeholder-icon")return"gray";else if(a==="red")return"cherry";else if(a==="green")return"lime";else if(a==="blue"||a==="purple"||a==="gray"||a==="background"||a==="scarlet"||a==="steel"||a==="coregreen"||a==="coral"||a==="sky")return"gray";else if(a==="honey")return"lemon";else if(a==="emerald")return"gray";else{c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_product");return"gray"}}function a(a){if(a===void 0)return;if(a.startsWith("https")||a.startsWith("blob"))return{_0:a,TAG:1};if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a===void 0)return;a=c("bs_caml_option").valFromOption(a);var b=a.getQueryParam("icon");a=h(a.getQueryParam("circleColor"));return{_0:[b,a],TAG:0}}g.parse=a}),98);
__d("MWXmaIconParser.bs",["ix","MWPXMAIconParser.bs","bs_caml_option","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(a==="airplane")return c("bs_caml_option").some(d("fbicon")._(h("571771"),20));else if(a==="calendar")return c("bs_caml_option").some(d("fbicon")._(h("481118"),20));else if(a==="calendar-add")return c("bs_caml_option").some(d("fbicon")._(h("640913"),20));else if(a==="camcorder")return c("bs_caml_option").some(d("fbicon")._(h("493174"),20));else if(a==="camcorder-incoming")return c("bs_caml_option").some(d("fbicon")._(h("1096148"),20));else if(a==="camcorder-missed")return c("bs_caml_option").some(d("fbicon")._(h("662989"),20));else if(a==="camcorder-outgoing")return c("bs_caml_option").some(d("fbicon")._(h("1096150"),20));else if(a==="camcorder-plus")return c("bs_caml_option").some(d("fbicon")._(h("662993"),20));else if(a==="checkmark-circle")return c("bs_caml_option").some(d("fbicon")._(h("498146"),20));else if(a==="currency-peso")return c("bs_caml_option").some(d("fbicon")._(h("1174630"),20));else if(a==="currency-pound")return c("bs_caml_option").some(d("fbicon")._(h("1174587"),20));else if(a==="currency-taka")return c("bs_caml_option").some(d("fbicon")._(h("182108"),20));else if(a==="currency-thai-baht")return c("bs_caml_option").some(d("fbicon")._(h("876716"),20));else if(a==="currency-usd")return c("bs_caml_option").some(d("fbicon")._(h("847056"),20));else if(a==="document-complete")return c("bs_caml_option").some(d("fbicon")._(h("728245"),20));else if(a==="phone")return c("bs_caml_option").some(d("fbicon")._(h("558161"),20));else if(a==="phone-incoming")return c("bs_caml_option").some(d("fbicon")._(h("1096151"),20));else if(a==="phone-missed")return c("bs_caml_option").some(d("fbicon")._(h("847457"),20));else if(a==="phone-outgoing")return c("bs_caml_option").some(d("fbicon")._(h("1096154"),20));else if(a==="tag")return c("bs_caml_option").some(d("fbicon")._(h("502473"),20));else if(a==="friend-generic")return c("bs_caml_option").some(d("fbicon")._(h("502671"),20));else if(a==="friend-generic-checkmark")return c("bs_caml_option").some(d("fbicon")._(h("538342"),20));else if(a==="group-block")return c("bs_caml_option").some(d("fbicon")._(h("714636"),20));else if(a==="question-circle")return c("bs_caml_option").some(d("fbicon")._(h("1604445"),20));else if(a==="cross-circle")return c("bs_caml_option").some(d("fbicon")._(h("1501526"),20));else if(a==="group")return c("bs_caml_option").some(d("fbicon")._(h("485091"),20));else{c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_product");return}}function a(a){a=d("MWPXMAIconParser.bs").parse(a);if(a===void 0)return;if(a.TAG!==0)return{_0:a._0,TAG:1};a=a._0;var b=i(a[0]);if(b!==void 0)return{_0:{color:a[1],icon:c("bs_caml_option").valFromOption(b)},TAG:0}}g.getIcon=i;g.parse=a}),98);
__d("MWXMAAttachmentItemHeader.react",["MDSTextPairing.react","MWText.react","MWXMAAttachmentItemHeaderIcon.bs","MWXmaIconParser.bs","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{alignItems:"x6s0dn4",display:"x78zum5",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},withBorder:{borderBottom:"xua58t2",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0}};function a(a){var b=a.attachment,e=a.getHeaderUrlXMA;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var f=b.headerTitle;if(f==null)return null;var g=b.headerSubtitleText;e=e(b);b=e==null?void 0:d("MWXmaIconParser.bs").parse(e);e=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT;return h.jsxs("div",{className:c("stylex")(i.root,e?i.withBorder:!1),children:[b!=null&&h.jsx(c("MWXMAAttachmentItemHeaderIcon.bs"),{icon:b,xmaLayout:a}),e&&g!==null&&g!==void 0&&g!==""?h.jsx(c("MDSTextPairing.react"),{headline:f,level:4,meta:g}):h.jsx(c("MWText.react"),{type:"bodyLink3",children:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIcon.react",["CometImageCover.react","CometSkittleIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.icon;if(a==null)return null;if(a.TAG!==0)return h.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:h.jsx(c("CometImageCover.react"),{alt:"Icon for this message",src:a._0,style:{borderRadius:"50%",height:"36px",width:"36px"}})});a=a._0;return h.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:h.jsx(c("CometSkittleIcon.react"),{color:a.color,icon:a.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemImage.react",["CometImageCover.react","I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachmentItem,e=a.cardWidth,f=a.isStandalone;a=a.previewUrl;var g=b.previewWidth==null?0:d("I64").to_int32(b.previewWidth),i=b.previewHeight==null?0:d("I64").to_int32(b.previewHeight),j=b.defaultCtaType;j==="xma_montage_share"?j=!0:j=b.imageUrl==null?f:g===i;b=g!==0?i!==0?g/i:0:0;f={height:(b===0?106:e/b).toString()+"px",width:e.toString()+"px"};if(a.length===0||a==="")return null;return j?h.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",children:h.jsx("img",{alt:"",src:a,style:{aspectRatio:b,flexGrow:"1",height:"auto",maxWidth:"100%",objectFit:"cover"}})}):h.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",style:f,children:h.jsx(c("CometImageCover.react"),{alt:"",src:a,style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAPrivateAttachment.bs",["fbt","ix","CometIcon.react","IconSource","MWText.react","MWXMAAttachmentActionTrigger.bs","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b={FBIcon:{marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},postText:{color:"x8yag65",fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},privateBackground:{"align-items":"x6s0dn4","backdrop-filter":"x1qb2erx",background:"xjw5052",display:"x78zum5","flex-direction":"xdt5ytf",height:"x1dr9wh","justify-content":"xl56j7k","text-align":"x2b8uid",width:"xni59qk",$$css:!0},publicBackground:{"align-items":"x6s0dn4","backdrop-filter":"x99fzhk",background:"xzudefj",display:"x78zum5","flex-direction":"xdt5ytf",height:"x1iu8u7t","justify-content":"xl56j7k","text-align":"x2b8uid",width:"xh8yej3",$$css:!0}};function k(a){a=a.attachment;var b=new(c("IconSource"))("FB",i("1423125"),32);a=a.defaultCtaType;if(a==="xma_montage_share")return j.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 x78zum5 xdt5ytf x1dr9wh xl56j7k x2b8uid xni59qk",children:j.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:j.jsx(c("CometIcon.react"),{icon:b})})});a=h._("__JHASH__k6ImVzA0WcG__JHASH__");return j.jsxs("div",{className:"x6s0dn4 x99fzhk xzudefj x78zum5 xdt5ytf x1iu8u7t xl56j7k x2b8uid xh8yej3",children:[j.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:j.jsx(c("CometIcon.react"),{icon:b})}),j.jsx("span",{className:"x8yag65 x1nxh6w3 x1s688f",children:a})]})}k.displayName=k.name+" [from "+f.id+"]";e={make:k,styles:b};b={description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",maxWidth:"x193iq5w",minHeight:"xisnujt",minWidth:"x1jzhcrs",width:"xh8yej3",$$css:!0}};function l(a){var b=a.attachmentItem;a=a.isPressable;return j.jsx(d("MWXMAAttachmentActionTrigger.bs").DefaultActionTriggerContainer.make,{attachmentItem:b,isPressable:a,children:j.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xw3qccf",children:j.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xl56j7k x14vqqas xq8finb xod5an3 x16n37ib x193iq5w xisnujt x1jzhcrs xh8yej3",children:j.jsx(c("MWText.react"),{type:"meta4",children:"Facebook"})})})})}l.displayName=l.name+" [from "+f.id+"]";f={make:l,styles:b};function a(a){var b=a.attachment,c=a.attachmentItem;a=a.isPressable;var d=b.defaultCtaType;return d==="xma_montage_share"?j.jsx(k,{attachment:b}):j.jsxs(j.Fragment,{children:[j.jsx(k,{attachment:b}),j.jsx(l,{attachmentItem:c,isPressable:a})]})}b={make:a};a=e;e=f;f=b;g.PrivatePreview=a;g.PrivateBody=e;g.PrivateXMAContent=f}),98);
__d("MWXMAAttachmentItem.bs",["ix","CometGlimmer.react","CometLazyPopoverTrigger.react","CometObjectFitContainer.react","CometPlaceholder.react","I64","ImageIconSource","JSResourceForInteraction","LSCTAIconType","LSIntEnum","LSMediaUrl.bs","LSMessagingThreadTypeUtil.bs","LSThreadCapabilityBitOffset.bs","MDSTextPairing.react","MWChatPollFacepile.bs","MWInboxRouteBuilder.bs","MWLSThread.bs","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.bs","MWPColorUtils.bs","MWPThreadCapabilitiesContext","MWPThreadTheme.bs","MWText.react","MWTooltip.react","MWUseArePollsEnabled","MWXMAAttachmentActionTrigger.bs","MWXMAAttachmentItemAttribution.react","MWXMAAttachmentItemHeader.react","MWXMAAttachmentItemIcon.react","MWXMAAttachmentItemImage.react","MWXMACtaRegistry.bs","MWXMAPrivateAttachment.bs","MWXmaIconParser.bs","RTWebLoggingSurfaceConvert.bs","ReQL.bs","ReQLSubscription.bs","TetraButton.react","bs_belt_Option","bs_caml_splice_call","bs_curry","bs_int64","cr:3695","deferredLoadComponent","gkx","qex","react","recoverableViolation","requireDeferred","requireDeferredForDisplay","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useEffect,l=e.useMemo,m=c("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWXMAAttachmentItem.bs"),n=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWXMAAttachmentItem.bs")),o=c("JSResourceForInteraction")("MWCMEventRSVPXMADropdownMenu.react").__setRef("MWXMAAttachmentItem.bs"),p={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},root:{display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function q(){return i.jsx("div",{className:"x78zum5 x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3",children:i.jsx(c("CometGlimmer.react"),{index:0,xstyle:p.glimmer})})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b,e=a.attachmentItem;a=a.children;b=d("I64").to_int32((b=e.previewWidth)!=null?b:d("I64").zero);e=d("I64").to_int32((e=e.previewHeight)!=null?e:d("I64").zero);b=b!==0?e!==0?b/e:0:0;e=e>250&&b<.8;return i.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e?.8:b,children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(q,{}),children:a})})}r.displayName=r.name+" [from "+f.id+"]";var s={description:{paddingTop:"x889kno",$$css:!0},hscroll:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},root:{maxWidth:"x193iq5w",whiteSpace:"x126k92a",width:"xh8yej3",$$css:!0},titleText:{marginBottom:"xahult9",$$css:!0},withIcon:{paddingBottom:"xg8j3zb",paddingTop:"xyqdw3p",$$css:!0}};function t(a){var b=a.attachment,e=a.attachmentItem,f=a.bodyLineLimit,g=a.getFaviconUrlXMA,h=a.headlineLineLimit,j=a.isHscroll,k=a.subtitleText,l=a.title;a=a.xmaLayout;g=c("bs_belt_Option").flatMap(g(b,e),d("MWXmaIconParser.bs").parse);b=c("qex")._("1501");e=l!==""?b==null||b!==13?i.jsx(c("MDSTextPairing.react"),{headline:l,headlineLineLimit:h,level:4,testid:void 0}):i.jsx(c("MWText.react"),{testid:void 0,type:"bodyLink4",children:l}):null;h=k!==""?b==null||b!==13?i.jsx("div",{className:"x889kno",children:i.jsx(c("MDSTextPairing.react"),{body:k,bodyColor:"secondary",bodyLineLimit:f,level:4})}):i.jsx("div",{className:"x889kno",children:i.jsx(c("MWText.react"),{type:"meta4",children:k})}):null;return i.jsxs("div",{className:c("stylex")(s.root,g===void 0?j?s.hscroll:!1:s.withIcon),children:[a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&e!==null?i.jsx("div",{className:"xahult9",children:e}):e,h]})}t.displayName=t.name+" [from "+f.id+"]";function u(a){if(a==null)return null;switch(d("LSIntEnum").toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function v(a){var b=a.ctaId,e=a.title,f=a.type_,g=d("MWXMACtaRegistry.bs").useHook(),h=c("useReStore")(),j=c("MWUseArePollsEnabled")(a.threadKey),n=d("MWLSThread.bs").useThread(a.threadKey,function(a){return d("LSMessagingThreadTypeUtil.bs").isJoinedSocialChannel(a.threadType)}),p=d("ReQLSubscription.bs").useFirst(l(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(h.table("attachment_ctas")),{hd:b,tl:0})},[h,JSON.stringify(b)]));k(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].find(function(a){return a===f});a!==void 0&&m.onReady(function(a){a.logImpression({surface:d("RTWebLoggingSurfaceConvert.bs").converter.toJS("admin_message")})})},[]);if(!j&&(f==="xma_poll_details_button"||f==="xma_poll_details_card"))return null;if(p==null)return null;j=g(p);var q=u(a.ctaIconType),r;switch(j.actionType){case d("MWXMACtaRegistry.bs").ActionType.BUTTON:var s=j.secondaryInfo,t=j.primaryInfo;f==="xma_event_rsvp"&&c("gkx")("3170")?!n?r=i.jsx(c("CometLazyPopoverTrigger.react"),{align:"stretch",popoverProps:{},popoverResource:o,popoverType:"menu",position:"above",preloadTrigger:"button",children:function(a,b,f,g,h,j){return i.jsx(c("MWTooltip.react"),{tooltip:e,children:i.jsx(c("TetraButton.react"),{icon:q,label:e,onHoverIn:g,onHoverOut:h,onPress:function(){d("MWXMAAttachmentActionTrigger.bs").logCtaClicked(p,2,s);return b()},onPressIn:j,ref:a,type:"secondary"})})}}):r=null:r=i.jsx(c("MWTooltip.react"),{tooltip:e,children:i.jsx(c("TetraButton.react"),{icon:q,label:e,onPress:function(){d("MWXMAAttachmentActionTrigger.bs").logCtaClicked(p,2,s);return t()},type:"secondary"})});break;case d("MWXMACtaRegistry.bs").ActionType.DISABLED_BUTTON:r=i.jsx(c("MWTooltip.react"),{tooltip:e,children:i.jsx(c("TetraButton.react"),{disabled:!0,label:e,type:"secondary"})});break;case d("MWXMACtaRegistry.bs").ActionType.URL:var v=j.secondaryInfo;r=i.jsx(c("MWTooltip.react"),{tooltip:e,children:i.jsx(c("TetraButton.react"),{icon:q,label:e,linkProps:{target:"_blank",url:j.primaryInfo},onPress:function(){return d("MWXMAAttachmentActionTrigger.bs").logCtaClicked(p,2,v)},type:"secondary"})});break;case d("MWXMACtaRegistry.bs").ActionType.DEEPLINK:g=j.primaryInfo;var w=g.loggingDetails;a=g.threadKey;var x=d("MWInboxRouteBuilder.bs").buildURL({thread_key:c("bs_int64").to_string(a)});r=i.jsx(c("MWTooltip.react"),{tooltip:e,children:i.jsx(d("MWXMAAttachmentActionTrigger.bs").WithOpenChatTab.make,{threadKey:a,children:function(a){return i.jsx(c("TetraButton.react"),{label:e,linkProps:{preventLocalNavigation:!0,url:x},onPress:function(b){c("bs_curry")._2(a,x,b);return d("MWXMAAttachmentActionTrigger.bs").logCtaClicked(p,2,w)},type:"secondary"})}})});break;case d("MWXMACtaRegistry.bs").ActionType.CTA_ERROR:c("recoverableViolation")(j.primaryInfo,j.secondaryInfo);r=null;break;case d("MWXMACtaRegistry.bs").ActionType.NOT_SUPPORTED:r=null;break}return i.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:r})}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.headlineLineLimit;a=a.listItemsDescriptionText;return i.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xl56j7k xw3qccf",children:i.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:b,level:4})})}w.displayName=w.name+" [from "+f.id+"]";function x(a){a=a.attachment;var b=d("MWPThreadTheme.bs").useHook(),e=b.threadTheme.fallbackColor,f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=c("bs_caml_splice_call").spliceObjApply([],"concat",[[[a.listItemId1,a.listItemTitleText1,d("LSMediaUrl.bs").Attachment.listItemContactUrlList1(a),a.listItemProgressBarFilledPercentage1,a.listItemContactUrlExpirationTimestampList1,a.listItemContactUrlFallbackList1],[a.listItemId2,a.listItemTitleText2,d("LSMediaUrl.bs").Attachment.listItemContactUrlList2(a),a.listItemProgressBarFilledPercentage2,a.listItemContactUrlExpirationTimestampList2,a.listItemContactUrlFallbackList2],[a.listItemId3,a.listItemTitleText3,d("LSMediaUrl.bs").Attachment.listItemContactUrlList3(a),a.listItemProgressBarFilledPercentage3,a.listItemContactUrlExpirationTimestampList3,a.listItemContactUrlFallbackList3]].map(function(a){var b=a[0];if(b===void 0)return[];var d=c("bs_belt_Option").mapWithDefault(a[2],[],function(a){return a.split(",")}),e=c("bs_belt_Option").mapWithDefault(a[4],[],function(a){return a.split(",")}),f=c("bs_belt_Option").mapWithDefault(a[5],[],function(a){return a.split(",")});return[{contacts:d.map(function(a,b){return{url:a,urlExpirationTimestamp:e[b],urlFallback:f[b]}}),id:b,progressBarFilledPercentage:a[3],titleText:a[1]}]})]);return i.jsx("ul",{children:b.map(function(a,b){var g=a.progressBarFilledPercentage;if(g!==void 0){var h=a.titleText;return i.jsxs("li",{className:"x14vqqas",children:[i.jsxs("div",{className:"x78zum5 x1qughib",children:[h!==void 0?i.jsx(c("MWText.react"),{numberOfLines:f==="Inbox"?3:1,type:"headline4",children:h}):null,i.jsx("div",{className:"x1i64zmx",children:i.jsx(d("MWChatPollFacepile.bs").make,{contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),direction:"reversed",gap:"negative",optionId:a.id,size:"small"})})]}),i.jsx("div",{className:"x1wpzbip x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt xod5an3 x1xmf6yo",children:i.jsx("div",{className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt",style:{backgroundColor:d("MWPColorUtils.bs").int64ToHex(e),width:c("bs_int64").to_string(g)+"%"}})})]},String(b))}h=a.titleText;return i.jsx("li",{className:"x1r4l5d8 x16u764g x14vqqas xsag5q8 xz9dl7a",children:i.jsxs("div",{children:[i.jsx(d("MWChatPollFacepile.bs").make,{contactWithBorder:!1,contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),limit:9,optionId:a.id,overflowStyle:"overlayLastPhoto",size:"large"}),h!==void 0?i.jsx("div",{className:"xsgj6o6 x1xmf6yo",children:i.jsx(c("MWText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:h})}):null]})},String(b))})})}x.displayName=x.name+" [from "+f.id+"]";function y(a){var b=a.bodyLineLimit;a=a.listItemsSecondaryDescriptionText;return i.jsx("div",{className:"xod5an3",children:i.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4})})}y.displayName=y.name+" [from "+f.id+"]";function z(a){var b=a.bodyLineLimit;a=a.value;return i.jsx("div",{className:"x78zum5 xl56j7k xwib8y2 x889kno",children:i.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4,textAlign:"center"})})}z.displayName=z.name+" [from "+f.id+"]";var A={buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",$$css:!0},hasFavicon:{paddingEnd:"x4uap5",paddingStart:"xkhd6sd",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",minHeight:"xisnujt",$$css:!0},rootWithHeaderAndNoMedia:{marginTop:"xdj266r",$$css:!0},xmaUnifiedtyles:{marginTop:"x14vqqas",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",$$css:!0}};function B(a){var e,f=a.attachment,g=a.attachmentItem,h=a.bodyLineLimit,j=a.getFaviconUrlXMA,k=a.headlineLineLimit,l=a.isHscroll,m=a.isPressable,n=a.isStandalone;a=a.xmaLayout;e=d("MWXmaIconParser.bs").parse((e=j(f,g))!=null?e:"");var o=c("bs_belt_Option").getWithDefault(g.titleText,"")===""&&c("bs_belt_Option").getWithDefault(g.subtitleText,"")===""&&e===void 0,p=g.titleText;p=c("bs_belt_Option").getWithDefault(p!==void 0||!n?p:f.titleText,"");var q=g.subtitleText;q=c("bs_belt_Option").getWithDefault(q!==void 0||!n?q:f.subtitleText,"");var r;if(p===""&&q==="")r=[];else{e=i.jsxs("div",{className:c("stylex")(A.description,e===void 0?!1:A.hasFavicon),children:[i.jsx(c("MWXMAAttachmentItemIcon.react"),{icon:e}),i.jsx(t,{attachment:f,attachmentItem:g,bodyLineLimit:h,getFaviconUrlXMA:j,headlineLineLimit:k,isHscroll:l,isStandalone:n,subtitleText:q,title:p,xmaLayout:a})]});r=[i.jsx(d("MWXMAAttachmentActionTrigger.bs").DefaultActionTriggerContainer.make,{attachmentItem:g,isPressable:m,children:e})]}j=f.listItemsDescriptionText;l=f.listItemsDescriptionSubtitleText;n=d("LSMediaUrl.bs").Attachment.avatarViewUrlList(f);var s;q=0;var u,B;n.length!==0?b("cr:3695")==null?u==null?s=[]:(u=u,B=n,q=1):(u=b("cr:3695"),B=n,q=1):s=[];q===1&&(s=[i.jsx(u.make,{count:f.avatarCount,ctaId:g.attachmentCta1Id,urls:B})]);p=f.listItemId1;m=f.listItemsSecondaryDescriptionText;e=g.cta1Type;n=g.cta1Title;q=g.attachmentCta1Id;var C=f.cta1IconType;if(e!==void 0)if(n!==void 0)if(q!==void 0){var D=f.messageId,E=f.threadKey,F=g.cta2Type,G=g.cta2Title,H=g.attachmentCta2Id,I=f.cta2IconType;if(F!==void 0&&G!==void 0&&H!==void 0){var J=g.cta3Type,K=g.cta3Title,L=g.attachmentCta3Id,M=f.cta3IconType;I=i.jsxs(i.Fragment,{children:[i.jsx(v,{ctaIconType:I,ctaId:H,messageId:D,threadKey:E,title:G,type_:F}),J!==void 0&&K!==void 0&&L!==void 0?i.jsx(v,{ctaIconType:M,ctaId:L,messageId:D,threadKey:E,title:K,type_:J}):null]})}else I=null;H=[i.jsxs("div",{className:c("stylex")(A.buttonsWrapper,o?A.buttonsOnly:!1),children:[i.jsx(v,{ctaIconType:C,ctaId:q,messageId:D,threadKey:E,title:n,type_:e}),I]})]}else H=[];else H=[];else H=[];G=[r,j!==void 0?[i.jsx(w,{headlineLineLimit:k,listItemsDescriptionText:j})]:[],c("gkx")("6448")?l!==void 0?[i.jsx(z,{bodyLineLimit:h,value:l})]:[]:[],s,p!==void 0?[i.jsx(x,{attachment:f})]:[],m!==void 0?[i.jsx(y,{bodyLineLimit:h,listItemsSecondaryDescriptionText:m})]:[],H].reduce(function(a,b){return a.concat(b)},[]);F=d("LSMediaUrl.bs").Attachment.previewUrl(f)!==void 0||d("LSMediaUrl.bs").AttachmentItem.previewUrl(g)!==void 0||d("LSMediaUrl.bs").AttachmentItem.playableUrl(g)!==void 0;if(G.length===0)return null;else return i.jsx("div",{className:c("stylex")(A.root,a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?A.xmaUnifiedtyles:!1,a!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&!F&&f.headerTitle!==void 0?A.rootWithHeaderAndNoMedia:!1),children:G.map(function(a,b){return i.jsx(i.Fragment,{children:a},String(b))})})}function C(a){var b=a.attachment,e=a.attachmentItem,f=a.cardWidth,g=a.getPlayableUrl,h=a.getPreviewUrlXMA,j=a.isPressable;a=a.isStandalone;var k=c("bs_belt_Option").getWithDefault(b.shouldAutoplayVideo,!1),l=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();l=l==="Inbox";l=d("MWPBaseXMAAttachmentItem.bs").getXMAAttachmentItemPreview({attachment:b,attachmentItem:e,getPreviewUrl:h,preferLargePreview:l});h=h(b,e);g=g(b,e);switch(l.TAG){case 0:if(g===void 0)return null;l=c("bs_belt_Option").mapWithDefault(e.previewWidth,0,d("I64").to_int32);var m=c("bs_belt_Option").mapWithDefault(e.previewHeight,0,d("I64").to_int32);return i.jsxs(d("MWXMAAttachmentActionTrigger.bs").DefaultActionTriggerContainer.make,{attachmentItem:e,isPressable:j,children:[i.jsx(r,{attachmentItem:e,children:i.jsx(n,{controls:k?"none":"mwchat",fbid:e.attachmentFbid,hideExpandButton:!1,originalHeight:m,originalWidth:l,sdSrc:g})}),k?i.jsx(c("MWXMAAttachmentItemAttribution.react"),{attachment:b}):null]});case 1:k=(l=(m=h)!=null?m:g)!=null?l:null;return k==null?null:i.jsx(d("MWXMAAttachmentActionTrigger.bs").DefaultActionTriggerContainer.make,{attachmentItem:e,isPressable:j,children:i.jsx(c("MWXMAAttachmentItemImage.react"),{attachmentItem:e,cardWidth:f,isStandalone:a,previewUrl:k})});case 2:return null}}var D={root:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",$$css:!0},withBorder:{borderTop:"xzg4506",borderEnd:"xycxndf",borderBottom:"xua58t2",borderStart:"x4xrfw5",$$css:!0}},E=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),F=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function G(a){var b=a.attachment,d=a.attachmentItem,e=a.bodyLineLimit,f=a.cardWidth,g=a.getFaviconUrlXMA,h=a.getHeaderUrlXMA,j=a.getPlayableUrl,k=a.getPreviewUrlXMA,l=a.headlineLineLimit,m=a.isHscroll,n=a.isPressable,o=a.isStandalone;a=a.xmaLayout;var p=b.defaultCtaType;return p==="xma_montage_share"?i.jsx(C,{attachment:b,attachmentItem:d,cardWidth:f,getPlayableUrl:j,getPreviewUrlXMA:k,isPressable:n,isStandalone:o}):i.jsxs(i.Fragment,{children:[i.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:h,xmaLayout:a}),i.jsx(C,{attachment:b,attachmentItem:d,cardWidth:f,getPlayableUrl:j,getPreviewUrlXMA:k,isPressable:n,isStandalone:o}),i.jsx(B,{attachment:b,attachmentItem:d,bodyLineLimit:e,getFaviconUrlXMA:g,getPreviewUrlXMA:k,headlineLineLimit:l,isHscroll:m,isPressable:n,isStandalone:o,xmaLayout:a})]})}function a(a){var b=a.attachment,e=a.attachmentItem,f=a.bodyLineLimit;f=f===void 0?3:f;var g=a.cardWidth;g=g===void 0?300:g;var h=a.getFaviconUrlXMA,k=a.getHeaderUrlXMA;k=k===void 0?d("LSMediaUrl.bs").Attachment.headerImageUrl:k;var l=a.getPlayableUrl,m=a.getPreviewUrlXMA,n=a.headlineLineLimit;n=n===void 0?3:n;var o=a.isHscroll,p=a.isStandalone;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var q=d("MWPThreadCapabilitiesContext").useHook(),r=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox",s=j(function(a,b){a=d("MWPBaseXMAAttachmentItem.bs").getXMAAttachmentItemPreview({preferLargePreview:r,attachment:a,attachmentItem:b});switch(a.TAG){case 0:case 1:return a._0;case 2:return}},[r]),t=q(d("LSIntEnum").ofNumber(d("LSThreadCapabilityBitOffset.bs").RTC_VOICE_CALL));q=q(d("LSIntEnum").ofNumber(d("LSThreadCapabilityBitOffset.bs").RTC_VIDEO_CALL));t=b.defaultCtaType!=null?F.has(b.defaultCtaType)&&!t||E.has(b.defaultCtaType)&&!q:!1;q=c("bs_belt_Option").getWithDefault(b.shouldAutoplayVideo,!1);q=q&&b.attributionAppIcon!==void 0&&b.attributionAppName!==void 0;q=c("stylex")(D.root,q?D.withBorder:!1);var u=c("bs_belt_Option").isSome(e.attachmentCta1Id),v=b.gatingType;v=v!==void 0?v===4..toString():!1;return i.jsx(d("MWXMAAttachmentActionTrigger.bs").DefaultActionTriggerContainer.make,{attachmentItem:e,isPressable:!u&&!t,children:i.jsx("div",{className:q,"data-testid":void 0,children:v?i.jsx(d("MWXMAPrivateAttachment.bs").PrivateXMAContent.make,{attachment:b,attachmentItem:e,isPressable:u&&!t}):i.jsx(G,{attachment:b,attachmentItem:e,bodyLineLimit:f,cardWidth:g,getFaviconUrlXMA:(q=h)!=null?q:function(a,b){return(a=(a=d("LSMediaUrl.bs").Attachment.faviconUrl(a))!=null?a:d("LSMediaUrl.bs").AttachmentItem.faviconUrl(b))!=null?a:""},getHeaderUrlXMA:k,getPlayableUrl:(v=l)!=null?v:s,getPreviewUrlXMA:(b=m)!=null?b:s,headlineLineLimit:n,isHscroll:o,isPressable:u&&!t,isStandalone:p,xmaLayout:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReplies.bs",["fbt","ix","CometIcon.react","CometPlaceholder.react","CometPressable.react","CometTextWithEntities.react","IconSource","LSIntEnum","LSMediaUrl.bs","MAWGating","MWChatTextFormatting","MWChatTextTransform.bs","MWIcon.react","MWLSThreadDisplayContext","MWPStableImage.bs","MWPThreadCapabilitiesContext","MWV2ReplyTo.bs","MWV2Sticker.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","WAArmadilloXMA.pb","XCometStoriesControllerRouteBuilder","bs_belt_Option","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:2382","cr:3935","cr:3967","cr:956","fbicon","gkx","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=h._("__JHASH__ExfgVu3ZeIV__JHASH__"),l={icon:{display:"x1lliihq",marginStart:"x1i64zmx",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;return j.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,children:j.jsxs("div",{className:"x6s0dn4 x78zum5 x1k4tb9n",children:[k,j.jsx("span",{className:"x1lliihq x1i64zmx",children:j.jsx(c("MWIcon.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})})]})})}a.displayName=a.name+" [from "+f.id+"]";a={make:a,styles:l};var m=h._("__JHASH__uG4wbYWD9QU__JHASH__"),n={root:{fontStyle:"x1k4tb9n",$$css:!0}};function e(a){a=a.outgoing;return j.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:n.root,children:m})}e.displayName=e.name+" [from "+f.id+"]";l={make:e,styles:n};var o=h._("__JHASH__3TzRhHHRgwV__JHASH__"),p={root:{fontStyle:"x1k4tb9n",$$css:!0}};function q(a){a=a.outgoing;return j.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:p.root,children:o})}q.displayName=q.name+" [from "+f.id+"]";e={make:q,styles:p};var r=h._("__JHASH__LRWYiWT4b63__JHASH__"),s={root:{fontStyle:"x1k4tb9n",$$css:!0}};function t(a){a=a.outgoing;return j.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:s.root,children:r})}t.displayName=t.name+" [from "+f.id+"]";q={make:t,styles:s};var u={image:{display:"x1lliihq",height:"xt7dq6l",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageSmall:{maxHeight:"x569fbc",$$css:!0},incoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function v(a){var e=a.outgoing,f=a.src,g=a.isSticker,h=a.width;a=a.height;g=g!==void 0?g:!1;h=h!==void 0?c("bs_caml_option").valFromOption(h):void 0;a=a!==void 0?c("bs_caml_option").valFromOption(a):void 0;var i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();i=c("bs_caml_obj").caml_equal(i,"ChatTab");var k=d("MWPThreadCapabilitiesContext").useHook();k=c("gkx")("1581")&&k(d("LSIntEnum").ofNumber(46));e=g?!1:e?u.outgoing:u.incoming;a=j.jsx(d("MWPStableImage.bs").make,{alt:"",className:c("stylex")(u.root,g?u.rootHasSticker:!1,e),height:a!==void 0?c("bs_caml_int64").to_float(a):void 0,maxHeight:100,maxWidth:i?180:300,src:f,width:h!==void 0?c("bs_caml_int64").to_float(h):void 0});if(b("cr:956")!=null&&k&&!g)return j.jsx(b("cr:956").make,{overlayDisabled:!0,type_:{_0:void 0,TAG:1},uncoverable:!1,url:f,xstyle:[u.root,e],children:a});else return a}t={make:v,styles:u};var w={root:{display:"x1lliihq",$$css:!0}};function x(a){var e=a.message,f=a.outgoing;a=a.isSecureMessage;a=a!==void 0?a:!1;var g=e.replySourceId;g=g!==void 0?a?g:c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+g),view_single:!0}).setDomain("www.facebook.com").setProtocol("https").toString():void 0;a=b("cr:3967")!=null&&a?function(a){return c("bs_belt_Option").map(a.replyAttachmentId,function(a){return c("bs_curry")._1(b("cr:3967").getAttachmentBlobNonOptional,c("bs_int64").to_string(a))})}:d("LSMediaUrl.bs").Message.replyMediaUrl;a=c("bs_curry")._1(a,e);if(a===void 0)return null;e={"aria-label":h._("__JHASH__thxINaLEtLl__JHASH__"),children:j.jsx(v,{outgoing:f,src:a}),overlayDisabled:!0};f=c("bs_belt_Option").map(g,function(a){return{url:a}});f!==void 0&&(e.linkProps=c("bs_caml_option").valFromOption(f));return j.jsx(c("CometPressable.react"),babelHelpers["extends"]({},e))}x.displayName=x.name+" [from "+f.id+"]";x={make:x,styles:w};var y=h._("__JHASH__bznTdd53oJN__JHASH__"),z={FBIcon:{marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0},postBackground:{alignItems:"x6s0dn4",backdropFilter:"x99fzhk",background:"x18aeczl",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"xdt5ytf",height:"xpyat2d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"x1exxlbk",$$css:!0},storyBackground:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",background:"xjw5052",borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1wkxgih",justifyContent:"xl56j7k",opacity:"x197sbye",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function A(a){var e=a.isSecureMessage,f=a.message;a=a.outgoing;var g=c("useReStore")(),h=d("ReQLSubscription.bs").useFirst(j.useMemo(function(){var a=f.replyAttachmentId,b=f.replySourceId;if(b!==void 0&&a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("attachments")),{hd:f.threadKey,tl:{hd:b,tl:{hd:c("bs_int64").to_string(a),tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[g,f])),k;h!==void 0&&h.hasXma&&e?k=h.gatingType===String(d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE):k=!1;if(h!==void 0&&h.hasXma&&e){var l=h.defaultCtaType;l=l!==void 0?l:""}else l="";var m=new(c("IconSource"))("FB",i("1423124"),28);if(k)if(l==="xma_montage_share")return j.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 xyi19xy x1ccrb07 xtf3nb5 x1pc53ja x78zum5 xdt5ytf x1wkxgih xl56j7k x197sbye x2b8uid xni59qk",children:j.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:j.jsx(c("CometIcon.react"),{icon:m})})});else return j.jsx("div",{className:"x6s0dn4 x99fzhk x18aeczl x1tlxs6b x1g8br2z x1gn5b1j x230xth x78zum5 xdt5ytf xpyat2d xl56j7k x2b8uid x1exxlbk",children:j.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:j.jsx(c("CometIcon.react"),{icon:m})})});k=b("cr:3967")!=null&&e?function(a){return h!==void 0&&h.hasXma?c("bs_belt_Option").map(a.replyAttachmentId,function(a){return b("cr:3967").getInfoUrlXMA(h,"preview")}):c("bs_belt_Option").map(a.replyAttachmentId,function(a){return b("cr:3967").getAttachmentBlobNonOptional(c("bs_int64").to_string(a))})}:d("LSMediaUrl.bs").Message.replyMediaUrl;l=c("bs_curry")._1(k,f);return l!==void 0&&l!==""?j.jsx(v,{height:f.replyMediaPreviewHeight,outgoing:a,src:l,width:f.replyMediaPreviewWidth}):j.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:z.italic,children:y})}A.displayName=A.name+" [from "+f.id+"]";w={make:A};function B(a){var b=a.message,d=a.outgoing;a=a.isSecureMessage;a=a!==void 0?a:!1;return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(A,{isSecureMessage:a,message:b,outgoing:d})})}B.displayName=B.name+" [from "+f.id+"]";w={Impl:w,make:B,styles:z};var C=h._("__JHASH__13yhS1gywbZ__JHASH__"),D={italic:{fontStyle:"x1k4tb9n",$$css:!0},replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function E(a){var e=a.message,f=a.outgoing;a=a.isSecureMessage;a=a!==void 0?a:!1;var g=c("useReStore")(),h=d("ReQLSubscription.bs").useFirst(j.useMemo(function(){var a=e.replyAttachmentId,b=e.replySourceId;if(b!==void 0&&a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("attachments")),{hd:e.threadKey,tl:{hd:b,tl:{hd:c("bs_int64").to_string(a),tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[g,e])),i=e.replyMessageText;i=i!==void 0?b("cr:2382")==null?i:b("cr:2382").unvault(i):"";if(i==="\ud83d\udc4d"&&d("MAWGating").isHotLikeEnabled())if(b("cr:3935")==null)return null;else return j.jsx(b("cr:3935").make,{xstyle:D.replyHotLikeSticker});i=d("LSMediaUrl.bs").Message.replyMediaUrl(e);if(i!==void 0){if(h===void 0)return j.jsx(v,{height:e.replyMediaPreviewHeight,isSticker:!0,outgoing:f,src:i,width:e.replyMediaPreviewWidth});i=1}else i=1;if(i===1){if(h===void 0)return j.jsx(d("MWV2ReplyTo.bs").make,{outgoing:f,xstyle:D.italic,children:C});var k;i=0;b("cr:3967")==null||!a?i=2:k=function(a){return c("bs_curry")._1(b("cr:3967").getAttachmentBlobNonOptional,a.attachmentFbid)};i===2&&(k=function(a){return d("LSMediaUrl.bs").Attachment.previewUrl(a)});return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("MWV2Sticker.bs").make,{attachment:h,getPreviewUrl:k,scale:.6,xstyle:D.replySticker})})}}B={make:E,styles:D,text:C};E={text:{color:"xi81zsa",whiteSpace:"x126k92a",$$css:!0}};function F(e){var a=e.text;e=j.useMemo(function(){var a={};a.MessengerTextFormatting=[d("MWChatTextFormatting").replyRenderer];return a},[]);var f=j.useMemo(function(){return d("MWChatTextFormatting").getFormattingRanges(a)},[a]),g=b("cr:2382")==null?a:c("bs_curry")._1(b("cr:2382").unvault,a);return j.jsx("div",{className:"xi81zsa x126k92a",children:j.jsx(c("CometTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:f,renderers:e,text:g,transforms:d("MWChatTextTransform.bs").epdTextTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})}F.displayName=F.name+" [from "+f.id+"]";f={make:F,styles:E};F=a;E=l;a=e;l=q;e=x;q=w;x=B;g.$$Image=t;g.$$Text=f;g.Attachment=F;g.Removed=E;g.Unavailable=a;g.Expired=l;g.Story=e;g.Media=q;g.Sticker=x}),98);
__d("MWV2ReplyError.bs",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;return i.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:j.root,children:h._("__JHASH__grNaxJ_sL8-__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2MediaViewerFallback.bs",["fbt","ix","MDSRow.react","MDSRowItem.react","MWV2MediaViewerContainer.bs","TetraCircleButton.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onClose;a=a.shouldShowMessengerLogo;var e={actions:j.jsx(c("MDSRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("TetraCircleButton.react"),{color:"white",icon:d("fbicon")._(i("478232"),16),label:h._("__JHASH__tnRfHlva-bL__JHASH__"),onPress:function(){return b()},size:36,type:"dark-overlay"})})}),children:null};a!==void 0&&(e.shouldShowMessengerLogo=a);return j.jsx(d("MWV2MediaViewerContainer.bs").make,babelHelpers["extends"]({},e))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2MediaViewerShowDialog.bs",["JSResourceForInteraction","MWV2MediaViewerFallback.bs","bs_curry","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return h.jsx(d("MWV2MediaViewerFallback.bs").make,{onClose:a})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWV2MediaViewer.react",{"class":"fluid",name:"MWV2MediaViewer"}).__setRef("MWV2MediaViewerShowDialog.bs"),i),d=b[1];h.useEffect(function(){a||c("bs_curry")._1(d)},[d,a]);return[b[0],d]}g.useHook=a}),98);
__d("MWPForwardedContent.bs",["fbt","LSIntEnum","MDSForwardSvgIcon.react","MWPMessageAuthor.bs","MWPMessageHasAttachment.bs","MessagingAttachmentType","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return h._("__JHASH__0IFsVeodN0b__JHASH__",[h._param("name",a)])}function b(a){return h._("__JHASH__00-nIgP5G8j__JHASH__",[h._param("name",a)])}var j=h._("__JHASH__L5dEyo_jBmR__JHASH__");function e(a){return h._("__JHASH__GuBlAzcO-mm__JHASH__",[h._param("name",a)])}var k=h._("__JHASH__cFJV3xOx0DG__JHASH__");function l(a){return h._("__JHASH__1BQhMfYYoAB__JHASH__",[h._param("name",a)])}var m=h._("__JHASH__g8iYHeUhc75__JHASH__");function n(a){if(c("bs_caml").i64_eq(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function o(a){if(c("bs_caml").i64_eq(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return c("bs_caml").i64_eq(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function p(a){return c("bs_caml").i64_eq(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))}function q(a,b,e){var f=c("useReStore")(),g=a.messageId,j=a.threadKey,k=d("MWPMessageHasAttachment.bs").make(a),l=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(k)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("attachments")),{hd:j,tl:{hd:g,tl:0}});else return d("SortedAsyncIterable.bs").empty()},[f,g,JSON.stringify(j),k]));return i.useMemo(function(){if(b)if(l!==void 0)if(n(l))return h._("__JHASH__PIjjsAJniwv__JHASH__");else if(o(l))return h._("__JHASH__nEYzvO_Jiz8__JHASH__");else if(c("bs_caml").i64_eq(l.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__0EAD5uOKPoC__JHASH__");else return h._("__JHASH__GhgOVaiGoA___JHASH__");else return h._("__JHASH__GhgOVaiGoA___JHASH__");else if(l!==void 0)if(e!==void 0)if(n(l))return h._("__JHASH__00-nIgP5G8j__JHASH__",[h._param("name",e)]);else if(o(l))return h._("__JHASH__GuBlAzcO-mm__JHASH__",[h._param("name",e)]);else if(c("bs_caml").i64_eq(l.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__1BQhMfYYoAB__JHASH__",[h._param("name",e)]);else return h._("__JHASH__5hjcq0INKbc__JHASH__");else if(n(l))return h._("__JHASH__L5dEyo_jBmR__JHASH__");else if(o(l))return h._("__JHASH__cFJV3xOx0DG__JHASH__");else if(c("bs_caml").i64_eq(l.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__g8iYHeUhc75__JHASH__");else return h._("__JHASH__5hjcq0INKbc__JHASH__");else if(e!==void 0)return h._("__JHASH__0IFsVeodN0b__JHASH__",[h._param("name",e)]);else return h._("__JHASH__5hjcq0INKbc__JHASH__")},[b,l,e])}function r(a,b){var c=d("MWPMessageAuthor.bs").useAuthorName(a);return q(a,b,c[0])}function s(a){var b=a.message;a=a.outgoing;b=r(b,a);return i.jsxs("div",{className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j",children:[i.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16}),i.jsx("div",{className:"x12scifz x1pg5gke x1h0ha7o",children:b})]})}s.displayName=s.name+" [from "+f.id+"]";f=s;s=a;a=b;b=j;j=e;e=k;k=l;l=m;m=n;var t=o;p=p;var u=q,v=r;f=f;g.textForwardedBySomeone=s;g.linkForwardedBySomeone=a;g.linkForwardedByUnknown=b;g.imageForwardedBySomeone=j;g.imageForwardedByUnknown=e;g.videoForwardedBySomeone=k;g.videoForwardedByUnknown=l;g.isLink=m;g.isImage=t;g.isVideo=p;g.useTitleWithName=u;g.useTitle=v;g.make=f}),98);
__d("MWForwardedContent.react",["MDSForwardSvgIcon.react","MWPForwardedContent.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent.bs").useTitle(b,a);return h.jsxs("div",{className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j",children:[h.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16}),h.jsx("div",{className:"x12scifz x1pg5gke x1h0ha7o",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReplySnippet.bs",["LSIntEnum","LSMessageReplySourceTypeV2","MDSForwardSvgIcon.react","MDSReplySvgIcon.react","bs_caml","bs_caml_option","bs_curry","cr:3889","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=a.message;a=a.replySourceTypeV2;if(a!==void 0){if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").STORY)))return h.jsx(c("MDSReplySvgIcon.react"),{color:"tertiary",size:16});else if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE)))return h.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16});return null}return null}e={make:i};f=b("cr:3889")==null?void 0:c("bs_caml_option").some(b("cr:3889"));function a(a){var d=a.message;a=a.outgoing;a=b("cr:3889")==null?d.replySnippet:c("bs_curry")._2(b("cr:3889").make,d,a);if(a!==void 0)return h.jsxs("div",{className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j","data-testid":void 0,children:[h.jsx(i,{message:d}),h.jsx("div",{className:"x12scifz x1pg5gke x1h0ha7o",children:a})]});else return null}a=a;e=e;f=f;a=a;g.Icon=e;g.dynamicReplyContent=f;g.make=a}),98);
__d("MWMessageListAttachmentDimensions.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return h.useMemo(function(){var c=b.previewWidthLarge,d=b.previewHeightLarge;return a!==void 0&&c!==void 0&&d!==void 0&&a==="Inbox"?[c,d]:[b.previewWidth,b.previewHeight]},[a,b])}b=a;g.useHook=b}),98);
__d("MWV2AttachmentProgressBar.bs",["MWV2ComposerMediaProgressBar.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){var a=b.offlineAttachmentId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("media_staging")),{hd:a,tl:0});else return d("SortedAsyncIterable.bs").empty()},[e,b.attachmentFbid]));if(a!==void 0&&a.isSent)return h.jsx(d("MWV2ComposerMediaProgressBar.bs").make,{height:5,mediaStaging:a});else return null}b=a;e=b;g.make=e}),98);
__d("MWV2UseFocusRowAfterClosingPushView.bs",["MWV2MessageRowIsRowFocusedContext.bs","bs_curry","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=h.useContext(d("MWV2MessageRowIsRowFocusedContext.bs").context),b=a.isDialogOpened,e=a.setIsDialogOpened,f=a.setFocused;a=c("useCometRouterState")();var g;if(a==null)g=0;else{a=a.pushViewStack;g=a==null?0:a.length}var i=c("usePrevious")(g);h.useLayoutEffect(function(){if(!(i==null)){b===!0&&i>0&&g===0&&(c("bs_curry")._1(e,function(){return!1}),c("bs_curry")._1(f,function(){return!0}));return}},[b,i,g]);return e}g.useHook=a}),98);
__d("MWV2ChatImage.bs",["fbt","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.bs","MWInboxInfoSharedContentQPLLogger.bs","MWLSThreadDisplayContext","MWMessageListAttachmentDimensions.bs","MWMessageListMediaPressableContainer.bs","MWPStableImage.bs","MWV2AttachmentProgressBar.bs","MWV2LogMessageClick.bs","MWV2MediaViewerShowDialog.bs","MWV2UseFocusRowAfterClosingPushView.bs","MWV2UseMediaViewerURL.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","gkx","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={appAttr:{alignItems:"x6s0dn4",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",lineHeight:"x1rfph6h",paddingTop:"x1iorvi4",paddingEnd:"xsyo7zv",paddingBottom:"xjkvuk6",paddingStart:"x16hj40l",$$css:!0},appIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xlup9mm",marginEnd:"x1w0mnb",objectFit:"x19kjcj4",width:"x1kky2od",$$css:!0},appText:{color:"xzsf02u",fontSize:"x1nxh6w3",wordBreak:"x13faqbe",$$css:!0},container:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},content:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",position:"x1n2onr6",$$css:!0},incoming_connect_bottom:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_bottom:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},standalone:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0},withAppAttribution:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0}};function k(a){a=a.attachment;var b=a.attributionAppName;if(b===void 0)return null;a=a.attributionAppIcon;return i.jsxs("div",{className:"x6s0dn4 x1gn5b1j x230xth x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[a!==void 0?i.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1w0mnb x19kjcj4 x1kky2od",role:"presentation",src:a}):null,i.jsx("span",{className:"xzsf02u x1nxh6w3 x13faqbe",children:b})]})}k.displayName=k.name+" [from "+f.id+"]";b={make:k};function a(a){var b=c("useReStore")(),e=a.connectBottom,f=a.attachment,g=a.connectTop,l=a.getPreviewUrl,m=a.message,n=a.outgoing;a=a.navigateToRouteForMediaViewer;e=e!==void 0?e:!1;var o=a!==void 0?a:!0;a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var p=f.attributionAppName!==void 0;a=d("MWMessageListAttachmentDimensions.bs").useHook(a,f);var q=a[0];a=a[1];var r=d("MWV2UseMediaViewerURL.bs").useHook(f);g=g?n?j.outgoing_connect_top:j.incoming_connect_top:!1;e=e?n?j.outgoing_connect_bottom:j.incoming_connect_bottom:!1;n=c("gkx")("1924962");var s=d("MWV2UseFocusRowAfterClosingPushView.bs").useHook(),t=d("MWV2MediaViewerShowDialog.bs").useHook(o),u=t[0],v=t[1];t=c("bs_curry")._1(l,f);if(t===void 0)return null;l=o&&c("bs_caml").i64_gt(m.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?{passthroughProps:{origSrc:t},url:r}:void 0;r=f.titleText;var w={attachment:f,disabled:c("bs_caml").i64_le(m.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),onHoverIn:function(){if(!o)return c("bs_curry")._1(v)},onPress:function(){d("MWV2LogMessageClick.bs").log(b,m,28);d("MWInboxInfoSharedContentQPLLogger.bs").logOpenSharedContentFromThread({_0:void 0,TAG:0});c("bs_curry")._1(s,function(){return!0});if(!o)return u({attachment:f},function(){})},testid:"chat-image",xstyle:[j.container,j.standalone,g,e]};l!==void 0&&(w.linkProps_=c("bs_caml_option").valFromOption(l));return i.jsxs(d("MWMessageListMediaPressableContainer.bs").make,babelHelpers["extends"]({},w,{children:[i.jsx(d("MWPStableImage.bs").make,{alt:r!==void 0&&n?r:h._("__JHASH__mrw3CpFXi7r__JHASH__"),className:c("stylex")(j.content,p?j.withAppAttribution:j.standalone,g,e),height:a!==void 0?c("bs_caml_int64").to_float(a):void 0,maxHeight:200,maxWidth:480,src:t,width:q!==void 0?c("bs_caml_int64").to_float(q):void 0,children:i.jsx(k,{attachment:f})}),c("bs_caml").i64_le(m.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?i.jsx(d("MWV2AttachmentProgressBar.bs").make,{attachment:f}):null,i.jsx(d("MWChatImageInsetShadow.bs").make,{xstyle:[g,e]})]}),f.attachmentFbid)}a.displayName=a.name+" [from "+f.id+"]";e=a;f=b;a=e;g.AppAttribution=f;g.make=a}),98);
__d("MWResponsiveVideo.bs",["CometGlimmer.react","CometObjectFitContainer.react","CometPlaceholder.react","LSIntEnum","MWLSThreadDisplayContext","MWPThreadCapabilitiesContext","bs_curry","deferredLoadComponent","gkx","react","requireDeferredForDisplay","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWResponsiveVideo.bs")),j={container:{maxWidth:"x193iq5w",minHeight:"x11md1zd",minWidth:"x450l9j",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},fill:{bottom:"x1ey2m1c",left:"xu96u03",position:"x10l6tqk",right:"x3m8u43",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},glimmerFallback:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function k(a){return[a==="Inbox"?240:180,140]}function a(a){var b=a.connectTopStyles,e=a.fbid,f=a.height,g=a.maxHeight,l=a.maxWidth,m=a.src,n=a.width,o=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=h.useMemo(function(){var a=n!==void 0?f!==void 0?[n,f]:[500,300]:[500,300];return a[0]/a[1]},[n,f]);var p=d("MWPThreadCapabilitiesContext").useHook(),q=c("gkx")("1581")&&c("bs_curry")._1(p,d("LSIntEnum").ofNumber(46));p=h.useMemo(function(){var a=k(o);return{maxHeight:g.toString()+"px",minHeight:q?a[1].toString(10)+"px":"",minWidth:q?a[0].toString(10)+"px":"",width:Math.min((a=n)!=null?a:500,l).toString()+"px"}},[g,n,l,q,o]);return h.jsxs("div",{className:"x193iq5w x11md1zd x450l9j x6ikm8r x10wlt62 x1n2onr6",style:p,children:[h.jsx("div",{className:"x1ey2m1c xu96u03 x10l6tqk x3m8u43 x13vifvy x1vjfegm",children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx("div",{className:c("stylex")(j.glimmerFallback,b),children:h.jsx(c("CometGlimmer.react"),{index:0,xstyle:j.glimmer})}),children:h.jsx(i,{autoPlaySetting:q?"off":void 0,controls:"mwchat",fbid:e,hideExpandButton:!0,originalHeight:(p=f)!=null?p:300,originalWidth:(b=n)!=null?b:500,sdSrc:m})})}),h.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:a,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:null})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ChatVideo.bs",["fbt","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.bs","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.bs","MWResponsiveVideo.bs","MWV2AttachmentProgressBar.bs","MWV2LogMessageClick.bs","MWV2MediaViewerShowDialog.bs","MWV2UseFocusRowAfterClosingPushView.bs","MWV2UseMediaViewerURL.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},root:{backfaceVisibility:"xlp1x4z",backgroundColor:"xcrg951",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function a(a){var b=c("useReStore")(),e=a.attachment,f=a.connectTop,g=a.getPreviewUrl,k=a.message,l=a.outgoing;a=a.navigateToRouteForMediaViewer;var m=a!==void 0?a:!0;a=d("MWV2UseMediaViewerURL.bs").useHook(e);f=f?l?j.outgoing_connect_top:j.incoming_connect_top:!1;var n=d("MWV2UseFocusRowAfterClosingPushView.bs").useHook();l=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var o=d("MWV2MediaViewerShowDialog.bs").useHook(m),p=o[0],q=o[1];o=c("bs_curry")._1(g,e);if(o===void 0)return null;g=m&&c("bs_caml").i64_gt(k.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?{passthroughProps:{origSrc:o},url:a}:void 0;a=e.previewWidth;var r=e.previewHeight,s={ariaLabel:h._("__JHASH__Sk-r4mWi0bD__JHASH__"),attachment:e,disabled:c("bs_caml").i64_le(k.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),onHoverIn:function(){if(!m)return c("bs_curry")._1(q)},onPress:function(){d("MWV2LogMessageClick.bs").log(b,k,27);c("bs_curry")._1(n,function(){return!0});if(!m)return p({attachment:e},function(){})},overlayDisabled:!0,testid:"chat-video",xstyle:[j.root,f]};g!==void 0&&(s.linkProps_=c("bs_caml_option").valFromOption(g));return i.jsxs(d("MWMessageListMediaPressableContainer.bs").make,babelHelpers["extends"]({},s,{children:[i.jsx(d("MWResponsiveVideo.bs").make,{connectTopStyles:f,fbid:e.attachmentFbid,height:r!==void 0?c("bs_caml_int64").to_float(r):void 0,maxHeight:200,maxWidth:c("bs_caml_obj").caml_equal(l,"Inbox")?500:167,src:o,width:a!==void 0?c("bs_caml_int64").to_float(a):void 0}),c("bs_caml").i64_le(k.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?i.jsx(d("MWV2AttachmentProgressBar.bs").make,{attachment:e}):null,i.jsx(d("MWChatImageInsetShadow.bs").make,{xstyle:[f]})]}))}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWMessageListAttachment.bs",["fbt","LSMediaUrl.bs","MWAudioPlayer.bs","MWLSThreadDisplayContext","MWV2ChatImage.bs","MWV2ChatVideo.bs","MWV2Sticker.bs","MWV2TombstonedMessage.bs","bs_caml_option","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.xstyle,e=a.connectBottom;a=a.connectTop;b=b!==void 0?c("bs_caml_option").valFromOption(b):!1;return i.jsx("div",{className:c("stylex")(b),children:i.jsx(d("MWV2TombstonedMessage.bs").make,{connectBottom:e,connectTop:a,children:h._("__JHASH__grNaxJ_sL8-__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";a={make:a};function b(a){var b=a.attachment,c=a.connectTop,e=a.message;a=a.outgoing;var f=i.useCallback(function(a){return d("LSMediaUrl.bs").Attachment.playableUrl(a)});return i.jsx(d("MWV2ChatVideo.bs").make,{attachment:b,connectTop:c,getPreviewUrl:f,message:e,outgoing:a})}b.displayName=b.name+" [from "+f.id+"]";b={make:b};function e(a){var b=a.attachment,c=a.isReply;a=a.outgoing;var e=i.useCallback(function(a){return d("LSMediaUrl.bs").Attachment.playableUrl(a)},[b]);return i.jsx(d("MWAudioPlayer.bs").make,{attachment:b,getPlayableUrl:e,isReply:c,outgoing:a})}e.displayName=e.name+" [from "+f.id+"]";e={make:e};function j(a){var b=a.attachment,c=a.connectBottom,e=a.connectTop,f=a.message;a=a.outgoing;var g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),h=i.useCallback(function(a){var b=a.previewUrlLarge;if(b!==void 0&&g==="Inbox")return b;else return d("LSMediaUrl.bs").Attachment.previewUrl(a)},[g]),j=function(a){return d("LSMediaUrl.bs").Attachment.playableUrl(a)};return i.jsx(d("MWV2ChatImage.bs").make,{attachment:b,connectBottom:c,connectTop:e,getPlayableUrl:j,getPreviewUrl:h,message:f,outgoing:a})}j.displayName=j.name+" [from "+f.id+"]";j={make:j};function k(a){a=a.attachment;var b=i.useCallback(function(a){var b=d("LSMediaUrl.bs").Attachment.playableUrl(a);if(b!==void 0)return b;b=d("LSMediaUrl.bs").Attachment.previewUrl(a);if(b!==void 0)return b;else{c("recoverableViolation")("Sticker Attachment has no preview_url or playable_url: "+a.attachmentFbid,"messenger_privacy_web");return}});return i.jsx(d("MWV2Sticker.bs").make,{attachment:a,getPreviewUrl:b})}k.displayName=k.name+" [from "+f.id+"]";f={make:k};k=b;b=f;g.$$Error=a;g.$$Audio=e;g.$$Image=j;g.Video=k;g.Sticker=b}),98);
__d("MWV2ChatAttachmentParserUtils.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),66);
__d("MWV2ChatFileV2.bs",["fbt","ConstUriUtils","LSMediaUrl.bs","MDSTextPairing.react","MWChatFilePreview.bs","MWChatMessageId.bs","MWFilePressable.bs","MWInboxInfoSharedContentQPLLogger.bs","MWV2ChatAttachmentParserUtils.bs","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_int64","formatFileSize","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={content:{color:"xzsf02u",flexGrow:"x1iyjqo2",fontWeight:"x1s688f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",wordBreak:"x13faqbe",$$css:!0},fileSize:{paddingTop:"x889kno",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.attachment,e=a.getPlayableUrlSecure;a=i.useMemo(function(){var a=b.filename;if(a!==void 0)return a;else return h._("__JHASH__uiTAWyhPCWI__JHASH__")},[b]);var f=i.useMemo(function(){var a=c("bs_belt_Option").map(b.filesize,c("bs_caml_int64").to_int32);if(a!==void 0)return c("formatFileSize")(a);else return null},[b]),g=i.useMemo(function(){if(e!=null){var a;a=(a=e(b))!=null?a:"";return d("ConstUriUtils").getUri(a)}else{a=d("LSMediaUrl.bs").Attachment.playableUrl(b);if(a!==void 0){var f=d("MWV2ChatAttachmentParserUtils.bs").getBlobUrl(a);if(f!==void 0)return d("ConstUriUtils").getUri(f);else return d("ConstUriUtils").getUri(a)}}c("recoverableViolation")("Attachment has no playable_url "+b.attachmentFbid,"messenger_comet")},[b,e]);a={children:i.jsxs("div",{className:c("stylex")(j.root,!1),children:[i.jsx(d("MWChatFilePreview.bs").make,{attachment:b,withPreview:!1}),i.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe",children:[i.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:3,level:4}),i.jsx("div",{className:"x889kno",children:i.jsx(c("MDSTextPairing.react"),{body:f,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]}),entryPoint:"chat_file_v4",messageID:d("MWChatMessageId.bs").makeSent(c("bs_int64").to_string(b.threadKey),b.messageId,c("bs_int64").to_string(b.timestampMs)),onPress:function(){return d("MWInboxInfoSharedContentQPLLogger.bs").logOpenSharedContentFromThread({_0:void 0,TAG:1})}};f=b.attachmentFbid;f!==void 0&&(a.attachmentID=c("bs_caml_option").valFromOption(f));f=c("bs_belt_Option").map(g,function(a){return a.toString()});f!==void 0&&(a.url=f);return i.jsx(d("MWFilePressable.bs").make,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWV2ChatFileCommon.bs",["MWV2ChatFileV2.bs"],(function(a,b,c,d,e,f,g){"use strict";a={make:d("MWV2ChatFileV2.bs").make};b=a;g.fileComponent=b;g.make=d("MWV2ChatFileV2.bs").make}),98);
__d("MWV2ChatImagesGrid.bs",["fbt","CometImageCover.react","CometPhotoGrid.react","CometPressable.react","LSMediaUrl.bs","MWLSThreadDisplayContext","MWV2UseMediaViewerURL.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={large:{width:"x7cdydq",$$css:!0},pressable:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",display:"x1lliihq",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},root:{maxWidth:"x193iq5w",$$css:!0},small:{width:"x1so1ns2",$$css:!0}};function k(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return i.useMemo(function(){var c=a.previewUrlLarge;if(c!==void 0&&b==="Inbox")return c;else return d("LSMediaUrl.bs").Attachment.previewUrl(a)},[a,b])}function l(a){a=a.attachment;var b=k(a);a=d("MWV2UseMediaViewerURL.bs").useHook(a);if(b!==void 0)return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__mrw3CpFXi7r__JHASH__"),linkProps:{passthroughProps:{origSrc:b},url:a},overlayRadius:4,xstyle:function(){return[j.pressable]},children:i.jsx(c("CometImageCover.react"),{src:b})});else return null}b={make:l};function a(a){a=a.attachments;var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return i.jsx("div",{className:"x193iq5w"+(b==="Inbox"?" x7cdydq":" x1so1ns2"),"data-testid":void 0,children:i.jsx(c("CometPhotoGrid.react"),{children:a.map(function(a){return i.jsx(l,{attachment:a},a.attachmentFbid)})})})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=k;a=e;g.$$Image=b;g.usePreviewUrl=f;g.make=a}),98);
__d("MWV2UnsupportedAttachment.bs",["fbt","MDSCautionTriangleSvgIcon.react","MWText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b={icon:{alignItems:"x6s0dn4",backgroundColor:"xgx9qek",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",justifyContent:"xl56j7k",marginEnd:"xmo9yow",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0}};function j(a){return i.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:i.jsx(c("MDSCautionTriangleSvgIcon.react"),{color:"primary",size:24})})}j.displayName=j.name+" [from "+f.id+"]";e={make:j,styles:b};function a(a){a=a.attachment;a=a.descriptionText;return i.jsxs("div",{className:"x6s0dn4 x78zum5 xjkvuk6 x1iorvi4 x87ps6o",children:[i.jsx(j,{}),i.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f x13faqbe",children:[i.jsx(c("MWText.react"),{type:"headline4",children:h._("__JHASH__Uhh5LwoNOuv__JHASH__")}),a!==void 0?i.jsx("div",{className:"x889kno",children:i.jsx(c("MWText.react"),{color:"secondary",type:"body4",children:a})}):null]})]})}a.displayName=a.name+" [from "+f.id+"]";d=a;b=e;f=d;g.Icon=b;g.make=f}),98);
__d("MWXMAAttachmentHorizontalItems.react",["fbt","CometHScroll.react","CurrentEnvironment","I64","MWXMAAttachmentItem.bs","qex","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=284,k=c("CurrentEnvironment").messengerdotcom?{"--secondary-button-background":"#e4e6eb"}:{},l={cardWrapper:{backgroundColor:"x2bj2ny",height:"x5yr21d",width:"xh8yej3",$$css:!0},flexibleContainer:{"@media (max-width: 1439px)_maxWidth":"x1bu0bv6","@media (min-width: 1440px)_maxWidth":"x6vbh5p",$$css:!0},scrollerThinTab:{width:"xh8yej3",$$css:!0},spacer:{marginTop:"xvijh9v",$$css:!0},topElement:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0}};function a(a){var b=a.attachmentItems,e=a.cardWidth,f=a.fullWidthContainer;f=f===void 0?!1:f;var g=a.hasText,m=g===void 0?!1:g,n=a.xstyle,o=babelHelpers.objectWithoutPropertiesLoose(a,["attachmentItems","cardWidth","fullWidthContainer","hasText","xstyle"]);return i.jsx("div",{className:""+((f?"":" x1bu0bv6 x6vbh5p")+(c("qex")._("1499")?" xh8yej3":""+(f?"":""))),style:k,children:i.jsx(d("CometHScroll.react").Container,{accessibilityLabel:h._("__JHASH__grvWiY5ySlo__JHASH__"),cardWidth:e!=null?{type:"fixed",width:e}:{minWidth:j,type:"responsive"},gap:8,children:b.map(function(a,b){return i.jsx(d("CometHScroll.react").Child,{expanding:!0,children:i.jsx("div",{className:"x2bj2ny x5yr21d xh8yej3",children:i.jsx("div",{className:c("stylex")(n,b===0&&m&&l.topElement,m&&l.spacer),children:i.jsx(c("MWXMAAttachmentItem.bs"),babelHelpers["extends"]({},o,{attachmentItem:a,cardWidth:e,isStandalone:!1}))})})},d("I64").to_string(a.attachmentIndex))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIgProfile.react",["LSMediaUrl.bs","MWPXMAIgProfile.react","MWXMAAttachmentActionTrigger.bs","MWXMAAttachmentItemHeader.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,e=a.attachmentItems,f=a.getHeaderUrlXMA;f=f===void 0?d("LSMediaUrl.bs").Attachment.headerImageUrl:f;a=a.xstyle;var g=e[0];return h.jsx(d("MWXMAAttachmentActionTrigger.bs").DefaultActionTriggerContainer.make,{attachmentItem:g,isPressable:!0,children:h.jsxs("div",{className:c("stylex")(a),"data-testid":void 0,children:[h.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:f}),h.jsx(c("MWPXMAIgProfile.react"),{attachmentItems:e})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentVerticalLayout.react",["CurrentEnvironment","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("CurrentEnvironment").messengerdotcom?{"--secondary-button-background":"#e4e6eb"}:{},j={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},connectBottomIncoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},connectBottomOutgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},connectTopIncoming:{borderTopStartRadius:"x1lcm9me",$$css:!0},connectTopOutgoing:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b=a.centered;b=b===void 0?!1:b;var d=a.children,e=a.connectBottom,f=a.connectTop,g=a.outgoing;a=a.xstyle;return h.jsx("div",{className:c("stylex")(a,f&&g&&j.connectTopOutgoing,f&&!g&&j.connectTopIncoming,e&&g&&j.connectBottomOutgoing,e&&!g&&j.connectBottomIncoming,b&&j.centered),style:i,children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachment.react",["I64","Int64Hooks","LSIntEnum","MNLSXMALayoutType","MWLSThreadDisplayContext","MWXMAAttachmentHorizontalItems.react","MWXMAAttachmentItem.bs","MWXMAAttachmentItemIgProfile.react","MWXMAAttachmentVerticalLayout.react","ReQL.bs","ReQLSubscription.bs","react","recoverableViolation","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}var j={cardWidth:{maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},outgoing_xma:{marginStart:"x1gryazu",$$css:!0}},k={card:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0},opaqueCard:{backgroundColor:"xmjcpbm",$$css:!0},rootForHScrollInChatTab:{maxWidth:"xaka53j",$$css:!0}};function a(a){var b=a.attachment,e=a.bodyLineLimit,f=a.cardWidth,g=a.connectBottom,l=a.connectTop,m=a.fullWidthContainer;m=m===void 0?!1:m;var n=a.getFaviconUrlXMA,o=a.getHeaderUrlXMA,p=a.getPlayableUrl,q=a.getPreviewUrlXMA,r=a.hasText;r=r===void 0?!1:r;var s=a.headlineLineLimit,t=a.outgoing,u=a.xmaLayout;u=u===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:u;a=a.xstyle;var v=c("useReStore")(),w=b.attachmentFbid,x=b.attachmentType,y=b.isBorderless,z=b.xmaLayoutType,A=d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(v.table("attachment_items")),{hd:w,tl:0})},[v,w])),B=d("Int64Hooks").useMemoInt64(function(){return z!=null?[d("I64").equal(z,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").HSCROLL)),d("I64").equal(z,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").XCENTER)),d("I64").equal(z,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").SINGLE))]:[!1,!1,!1]},[z]),C=B[0],D=B[1];B=B[2];var E=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),F=null;C?F=h.jsx(c("MWXMAAttachmentHorizontalItems.react"),{attachment:b,attachmentItems:A,bodyLineLimit:e,cardWidth:f,fullWidthContainer:m,getFaviconUrlXMA:n,getHeaderUrlXMA:o,getPlayableUrl:p,getPreviewUrlXMA:q,hasText:r,headlineLineLimit:s,isHscroll:C,xmaLayout:u,xstyle:[k.card,k.opaqueCard]}):B&&A.length===6?F=h.jsx(c("MWXMAAttachmentVerticalLayout.react"),{centered:!0,connectBottom:g,connectTop:l&&u===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT,outgoing:t,xstyle:[k.card,k.opaqueCard],children:h.jsx(c("MWXMAAttachmentItemIgProfile.react"),{attachment:b,attachmentItems:A,getHeaderUrlXMA:o})}):D&&A.length===1?F=h.jsx(c("MWXMAAttachmentVerticalLayout.react"),{centered:!0,connectBottom:g,connectTop:l&&u===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT,outgoing:t,xstyle:[k.card,k.opaqueCard],children:h.jsx(c("MWXMAAttachmentItem.bs"),{attachment:b,attachmentItem:A[0],bodyLineLimit:e,cardWidth:f,getFaviconUrlXMA:n,getHeaderUrlXMA:o,getPlayableUrl:p,getPreviewUrlXMA:q,headlineLineLimit:s,isHscroll:C,isStandalone:!0,xmaLayout:u})}):A.length===0?F=h.jsx(c("MWXMAAttachmentVerticalLayout.react"),{connectBottom:g,connectTop:l&&u===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT,outgoing:t,xstyle:[k.card,y!==!0&&k.opaqueCard],children:h.jsx(c("MWXMAAttachmentItem.bs"),{attachment:b,attachmentItem:i(b),bodyLineLimit:e,cardWidth:f,getFaviconUrlXMA:n,getHeaderUrlXMA:o,getPlayableUrl:p,getPreviewUrlXMA:q,headlineLineLimit:s,isHscroll:C,isStandalone:!0,xmaLayout:u})}):A.length===1?F=h.jsx(c("MWXMAAttachmentVerticalLayout.react"),{connectBottom:g,connectTop:l&&u===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT,outgoing:t,xstyle:[k.card,k.opaqueCard],children:h.jsx(c("MWXMAAttachmentItem.bs"),{attachment:b,attachmentItem:A[0],bodyLineLimit:e,cardWidth:f,getFaviconUrlXMA:n,getHeaderUrlXMA:o,getPlayableUrl:p,getPreviewUrlXMA:q,headlineLineLimit:s,isHscroll:C,isStandalone:!0,xmaLayout:u})}):c("recoverableViolation")("Unknown combination of XMA items and layout. n Attachment Items: "+String(A.length)+", Layout: "+(z==null?"na":d("I64").to_string(z))+", Attachment Type: "+d("I64").to_string(x),"messenger_web_product");m=u===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?[j.cardWidth,t&&j.outgoing_xma]:j.cardWidth;return h.jsx("div",{className:c("stylex")(C&&E==="ChatTab"&&k.rootForHScrollInChatTab,!C&&!D&&m,a),children:F})}a.displayName=a.name+" [from "+f.id+"]";g.xmaCardStyles=j;g.MWXMAAttachment=a}),98);
__d("MWPBaseRepliedMessage.bs",["CometPressable.react","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWJumpToMessage.bs","bs_caml","bs_caml_obj","bs_curry","bs_int64","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={elevate:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=a.message,e=a.outgoing,f=a.renderAttachment,g=a.renderExpiredMessage,j=a.renderMedia,k=a.renderPost,l=a.renderRemovedMessage,m=a.renderSticker,n=a.renderStory,o=a.renderTextMessage,p=a.renderUnavailableMessage;a=a.renderVideo;var q=b.replyAttachmentId,r=b.replyAttachmentType,s=b.replyMessageText;n=h.jsx("div",{className:"x193iq5w x1n2onr6 x1vjfegm",children:r!==void 0?(c("bs_caml").i64_eq(r,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||c("bs_caml").i64_eq(r,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&c("bs_caml_obj").caml_equal(b.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").STORY))?c("bs_curry")._2(n,b,e):q!==void 0?c("bs_caml").i64_eq(r,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").OTHER))?c("bs_curry")._2(f,b,e):c("bs_caml").i64_eq(r,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PHOTO))?j!==void 0?c("bs_curry")._2(j,b,e):c("bs_curry")._2(f,b,e):c("bs_caml").i64_eq(r,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO))?j!==void 0?c("bs_curry")._2(j,b,e):c("bs_curry")._2(f,b,e):c("bs_caml").i64_eq(r,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").VIDEO))?a!==void 0?c("bs_curry")._2(a,b,e):c("bs_curry")._2(f,b,e):c("bs_caml").i64_eq(r,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").GIF))?c("bs_curry")._2(f,b,e):c("bs_caml").i64_eq(r,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER))?m!==void 0?c("bs_curry")._2(m,b,e):c("bs_curry")._2(f,b,e):c("bs_caml").i64_eq(r,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").LINK))||c("bs_caml").i64_eq(r,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||c("bs_caml").i64_eq(r,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))?c("bs_curry")._2(f,b,e):k!==void 0?k(b,e):(c("recoverableViolation")("Unknown attachment type: "+c("bs_int64").to_string(r),"messenger_comet"),null):c("bs_caml").i64_eq(r,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&m!==void 0?c("bs_curry")._2(m,b,e):null:q!==void 0?j!==void 0?c("bs_curry")._2(j,b,e):c("bs_curry")._2(f,b,e):c("bs_caml_obj").caml_equal(b.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").DELETED))?l!==void 0?c("bs_curry")._1(l,e):null:c("bs_caml_obj").caml_equal(b.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").EXPIRED))?g!==void 0?c("bs_curry")._1(g,e):null:c("bs_caml_obj").caml_equal(b.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))?p!==void 0?c("bs_curry")._1(p,e):null:s!==void 0&&c("bs_caml_obj").caml_equal(b.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))?s!==""?c("bs_curry")._2(o,s,e):c("bs_curry")._2(f,b,e):null});var t=b.replySourceTimestampMs,u=b.replySourceId,v=d("MWJumpToMessage.bs").useHook({_0:void 0,TAG:1});if(u!==void 0&&t!==void 0)return h.jsx(c("CometPressable.react"),{onPress:function(){return v(u,t)},overlayDisabled:!0,xstyle:function(){return[i.pressable]},children:n});else return n}b=a;e=b;g.make=e}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=18;var i={container:{backgroundColor:"xcrg951",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},gutter:{flexBasis:"x1ohifd9",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;b=h.Children.toArray(b).filter(Boolean);return b.length===0?null:h.jsxs("div",{className:c("stylex")(i.container,a),role:"none",children:[b.map(function(a,b){return h.jsx("div",{className:c("stylex")(i.items,d),role:"none",children:a},""+b)}),e?null:h.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a;g.height=b}),98);
__d("MWPMessageWithAttachmentHasPoll.bs",["LSIntEnum","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("bs_caml_int64").to_int32(c("bs_caml_int64").and_(d("LSIntEnum").ofNumber(32),a.displayedContentTypes))!==0}b=a;g.make=b}),98);
__d("MWPMessageListAttachment.bs",["LSInt64.bs","LSIntEnum","MWPMessageHasXMA.bs","MWPMessageIsReply.bs","MWPMessageListColumn.bs","MWPMessageWithAttachmentHasPoll.bs","MWPThreadCapabilitiesContext","MWVerticalRhythm","MessagingAttachmentType","ReQL","ReQLSuspense","bs_caml","bs_caml_option","bs_curry","gkx","react","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},file:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},vr:{backgroundColor:"xcrg951",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function k(a){var b=a.paint,e=a.children,f=a.connectTop,g=a.message,i=a.renderEmphasisRing;a=a.xmaLayout;b=b!==void 0?b:!0;var k=d("MWPMessageHasXMA.bs").make(g),l=c("MWPMessageIsReply.bs")(g),m=d("MWPMessageWithAttachmentHasPoll.bs").make(g);g=g.text;g=g!==void 0?g!=="":!1;m=h.jsx("div",{className:c("stylex")(j.container,k?j.container_for_xma:!1,m?j.container_for_poll:!1),children:e});return h.jsxs(h.Fragment,{children:[f&&(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!k||!g)?h.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,h.jsx(d("MWPMessageListColumn.bs").Shrinkwrap,{paint:!l&&b,children:i!==void 0?c("bs_curry")._2(i,k,m):m})]})}b={make:k};function l(a){return c("bs_caml").i64_eq(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function m(a,b){return d("LSInt64.bs").compare(a.attachmentIndex,b.attachmentIndex)}function n(a){return a}function o(a){var b=c("useReStore")(),e=a.messageId,f=a.threadKey;return i(function(){return d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(f,e))},[b,e,f]).sort(m)}function a(a){var b=a.renderWrapper,e=a.connectBottom,f=a.connectTop,g=a.message,i=a.renderAudioAttachment,j=a.renderEmphasisRing,m=a.renderEphemeralMediaAttachment,p=a.renderFileAttachment,q=a.renderImageAttachment,r=a.renderImageGrid,s=a.renderStickerAttachment,t=a.renderUnsupportedAttachment,u=a.renderUnsupportedMultipleAttachments,v=a.renderVideoAttachment,w=a.renderXMAAttachment;a=a.xmaLayout;var x=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;a=b!==void 0?b:n;c("useReStore")();g.messageId;g.threadKey;var y=o(g);b=d("MWPThreadCapabilitiesContext").useHook();b=c("gkx")("1581")&&b(d("LSIntEnum").ofNumber(46));if(y.length!==1)if(y.length>1&&y.every(l))if(b)b=c("bs_caml_option").some(y.map(function(a,b){var d={children:c("bs_curry")._3(q,a,b!==0,b!==(y.length-1|0)),connectTop:f,message:g,xmaLayout:x};j!==void 0&&(d.renderEmphasisRing=c("bs_caml_option").valFromOption(j));return h.jsxs(h.Fragment,{children:[b!==0?h.jsx(c("MWVerticalRhythm"),{height:2}):null,h.jsx(k,babelHelpers["extends"]({},d))]},a.attachmentFbid)}));else{r={children:c("bs_curry")._1(r,y),connectTop:f,message:g,xmaLayout:x};j!==void 0&&(r.renderEmphasisRing=c("bs_caml_option").valFromOption(j));b=c("bs_caml_option").some(h.jsx(k,babelHelpers["extends"]({},r)))}else b=u!==void 0?c("bs_caml_option").some(c("bs_curry")._1(u,y)):void 0;else{r=y[0];u=r.attachmentType;u=c("bs_caml").i64_eq(u,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO))?!1:!0;var z=r.attachmentType;e={children:c("bs_caml").i64_eq(z,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))||c("bs_caml").i64_eq(z,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?c("bs_curry")._3(q,r,f,e):c("bs_caml").i64_eq(z,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))?c("bs_curry")._1(v,r):c("bs_caml").i64_eq(z,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO))?c("bs_curry")._1(i,r):c("bs_caml").i64_eq(z,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER))?c("bs_curry")._1(s,r):c("bs_caml").i64_eq(z,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA))?c("bs_curry")._1(w,r):c("bs_caml").i64_eq(z,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE))?c("bs_curry")._1(p,r):c("bs_caml").i64_eq(z,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||c("bs_caml").i64_eq(z,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?c("bs_curry")._1(m,r):c("bs_curry")._1(t,r),connectTop:f,message:g,paint:u,xmaLayout:x};j!==void 0&&(e.renderEmphasisRing=c("bs_caml_option").valFromOption(j));b=c("bs_caml_option").some(h.jsx(k,babelHelpers["extends"]({},e)))}if(b!==void 0)return c("bs_curry")._1(a,c("bs_caml_option").valFromOption(b));else return null}e=a;f=b;a=l;b=m;var p=n;e=e;g.useGetAttachments=o;g.Container=f;g.isImage=a;g.orderByUserSelection=b;g.defaultRenderWrapper=p;g.make=e}),98);
__d("MWPMessageReactions.react",["fbt","CometLazyDialogTrigger.react","CometPressable.react","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetch","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadBitOffset.bs","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWChatReactionsUtils.bs","MWLSThread.bs","MWPGating.bs","MWV2MessageRowIsRowFocusedContext.bs","ReQL","ReQLSuspense","gkx","intlList","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react"),k=j.useCallback,l=j.useContext,m=j.useRef,n=3;function a(a){var b=c("useReStore")(),e=a.messageId,f=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(f,e).map(function(a){return d("MWChatReactionsUtils.bs").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:d("MWChatReactionsUtils.bs").heartType1,threadKey:a.threadKey,timestampMs:a.timestampMs}:a})},[f,e,b]);return a}function b(a){var b=c("useReStore")(),e=a.messageId,f=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(f,e)},[f,e,b]);return a}function o(a,b){var e=d("MWPGating.bs").isDualColumnMessageListEnabled()||c("gkx")("5093");if(!e)return h._("__JHASH__ZchozvrVLu8__JHASH__",[h._plural(b,"number")]);e=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._("__JHASH__tSgM5wXgT0G__JHASH__",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",e)])}function p(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function e(a){var b=a.children,e=a.dialogResource,f=a.message,g=a.onPress,h=a.reactions;a=a.reactionsV2;var j=f.messageId,q=f.threadKey,r=l(d("MWV2MessageRowIsRowFocusedContext.bs").context),s=r.setFocused,t=r.setIsDialogOpened,u=d("MWLSThread.bs").useThread(q),v=c("useReStore")();r=u!==void 0&&d("MWCMThreadTypes.react").isBroadcastThread(u.threadType)&&c("gkx")("8026")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),u);var w=u!==void 0&&c("MWCMIsAnyCMThread")(u.threadType)&&!d("MWCMThreadTypes.react").isBroadcastThread(u.threadType)&&c("gkx")("2551")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),u),x=u!==void 0&&d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(u.threadType)&&c("gkx")("6661")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),u),y=r||w||x,z=m(new Map()),A=k(function(){y&&u!==void 0&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(v,function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(u.threadKey,f.messageId,void 0,void 0,c("LSFactory")(a))},"issueReactionsV2DetailsUsersListFetch").then(function(){return z.current.forEach(function(a){return a()})}))},[v,y,z,f.messageId,u]),B=h.length;r=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(v.table("reactions_v2")).getKeyRange(q,j).filter(function(a){return d("I64").gt(a.count,d("I64").zero)}).map(function(a){a=a.reactionFbid;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(v.table("reaction_v2_types")).getKeyRange(a));return(a=a==null?void 0:a.reactionLiteral)!=null?a:""})},[v,q,j]);var C=a!=null&&y?p(r.slice(0,n)):p(Array.from(new Set(h.map(function(a){return a.reaction}))).slice(0,n)),D=o(C,B),E=m(null);return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{message:f,onClose:function(){},onLoadComplete:function(a){z.current.set(a,a);return function(){z.current["delete"](a)}},thread:u},dialogResource:e!==void 0?e:y?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog").__setRef("MWPMessageReactions.react"),onHide:function(){t(function(){return!1}),s(function(){return!0})},children:function(a){return i.jsx(c("CometPressable.react"),{"aria-label":D,onPress:function(b){t(function(){return!0}),a(),g==null?void 0:g(),A()},overlayDisabled:!0,ref:E,children:b(C,B,h,j,q)})}})}e.displayName=e.name+" [from "+f.id+"]";g.useReactions=a;g.useReactionsV2=b;g.MWPMessageReactions=e}),98);/*FB_PKG_DELIM*/
__d("mlcEditableSubscription",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{initialValueFn:function(){return a.isEditable()},subscribe:function(b){return a.registerEditableListener(b)}}}f["default"]=a}),66);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","mlcEditableSubscription","react","stylex","useCometLexicalSubscription","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function a(a){var b=a.ariaAutoComplete,e=a.ariaDescribedBy,f=a.ariaExpanded,g=a.ariaLabel,m=a.ariaLabelledBy,n=a.ariaMultiline,o=a.ariaOwneeID,p=a.ariaRequired,q=a.autoCapitalize,r=a.autoComplete,s=a.autoCorrect,t=a.contentEditableRef,u=a.editor,v=a.isInitiallyFocused,w=v===void 0?!1:v;v=a.role;v=v===void 0?"textbox":v;var x=a.spellCheck;x=x===void 0?!1:x;var y=a.tabIndex,z=a.webDriverTestID;z=a.xstyle;a=k(void 0);var A=a[0],B=a[1];a=k(void 0);var C=a[0],D=a[1];a=c("useCometLexicalSubscription")(j(function(){return c("mlcEditableSubscription")(u)},[u]));c("useLayoutEffect_SAFE_FOR_SSR")(function(){return u.registerCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(a){Object.prototype.hasOwnProperty.call(a,"activeDescendantID")&&B(a.activeDescendantID);Object.prototype.hasOwnProperty.call(a,"controlsID")&&D(a.controlsID);return!1},d("Lexical").COMMAND_PRIORITY_EDITOR)},[u]);i(function(){w&&u.focus(function(){var a=document.activeElement,b=u.getRootElement();(!(b==null?void 0:b.contains(a))||b!=null||a==null)&&(b==null?void 0:b.focus({preventScroll:!0}))})},[u,w]);return h.jsx("div",{"aria-activedescendant":a?A:null,"aria-autocomplete":a?b:null,"aria-controls":a?C:null,"aria-describedby":e,"aria-expanded":a?v==="combobox"?!!f:null:null,"aria-label":g,"aria-labelledby":m,"aria-multiline":n,"aria-owns":a?o:null,"aria-required":p,autoCapitalize:q,autoComplete:r,autoCorrect:s,className:c("stylex")(l.editor,z)+" "+(a?"notranslate":""),contentEditable:a,"data-testid":void 0,ref:t,role:a?v:null,spellCheck:x,suppressContentEditableWarning:!0,tabIndex:y})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometLexicalBaseTheme",[],(function(a,b,c,d,e,f,g){"use strict";a={ltr:"xdpxx8g",rtl:"x1hr2gdg"};b=a;g["default"]=b}),98);
__d("CometLexicalPlaceholder.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={placeholder:{color:"xi81zsa",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children;a=a.xstyle;return h.jsx("div",{children:b,className:c("stylex")(i.placeholder,a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentListenersContext",["EventEmitter","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");d=d("react");var i=d.useContext,j=d.useEffect,k=d.useMemo,l=d.useRef,m=new(c("EventEmitter"))(),n=h.createContext({getEmitter:function(a,b){c("FBLogger")("ufi2").mustfix("Context not setup correctly for CometUFICommentListenersContext using global emitter for "+b+", this is not supported please contact the ufight_club oncall to chat about your use case","ufi2");return m},isInitialized:!1});function a(a){a=a.children;var b=i(n),d=l(null),e=k(function(){if(b.isInitialized===!0)return b;var a=function(){d.current==null&&(d.current=new Map());return d.current},e=function(b){var d,e=a();d=(d=e.get(b))!=null?d:new(c("EventEmitter"))();e.set(b,d);return d};return{getEmitter:e,isInitialized:!0}},[b]);return h.jsx(n.Provider,{value:e,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b,c){var d=i(n),e=d.getEmitter;j(function(){if(a==null)return;if(c==="IM_SORRY_ITS_NULL_FOR_SOME_REASON_AND_THIS_SHOULD_REALLY_NEVER_HAPPEN")return;var d=e(a,c),f=d.addListener("comment_create",b);return function(){d.removeListener(f)}},[a,b,e,c])}function e(a,b,c){var d=i(n),e=d.getEmitter;j(function(){if(a==null)return;var d=e(a,c),f=d.addListener("comments_expand",b);return function(){d.removeListener(f)}},[a,b,e,c])}function o(a,b,c){var d=i(n),e=d.getEmitter;j(function(){if(a==null)return;var d=e(a,c),f=d.addListener("comments_pagination",b);return function(){d.removeListener(f)}},[a,b,e,c])}function p(a,b,c){var d=i(n),e=d.getEmitter;j(function(){if(a==null)return;var d=e(a,c),f=d.addListener("comments_collapse",b);return function(){d.removeListener(f)}},[a,b,e,c])}g.CometUFICommentListenersContext=n;g.CometUFICommentListenersContextProvider=a;g.useCometUFIOnCommentCreate=b;g.useCometUFIOnCommentsExpanded=e;g.useCometUFIOnCommentsPaginated=o;g.useCometUFIOnCommentsCollapsed=p}),98);
__d("CometUFIReparentedCommentIDsContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");c=b.createContext;var i=b.useCallback,j=b.useMemo,k=b.useState,l=c({addReparentedCommentIds:function(){},reparentedToDeletedCommentsMap:new Map()});function a(a){a=a.children;var b=k(new Map()),c=b[0],d=b[1],e=i(function(a){d(function(b){a.forEach(function(a,c){b.set(c,a)});return b})},[]);b=j(function(){return{addReparentedCommentIds:e,reparentedToDeletedCommentsMap:c}},[c,e]);return h.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g.CometUFIReparentedCommentIDsContext=l;g.CometUFIReparentedCommentIDsContextProvider=a}),98);
__d("MLCInstrumentationPluginDeferred__INTERNAL.react",["react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("MLCInstrumentationPlugin__INTERNAL.react").__setRef("MLCInstrumentationPluginDeferred__INTERNAL.react");function a(a){var b=c("useDeferredModuleOnReady")(i);return b==null?null:h.jsx(b,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mlcErrorHandler__INTERNAL",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var d=document.activeElement,e=null;d!=null&&(e={activeElement:d.nodeName,rootSelected:d===b.getRootElement()});d=window.event;var f=null;d!=null&&(f={altKey:d.altKey,ctrlKey:d.ctrlKey,data:d.data,inputType:d.inputType,isComposing:d.isComposing,keyCode:d.keyCode,metaKey:d.metaKey,shiftKey:d.shiftKey,type:d.type});d=null;try{d=h(b.getEditorState())}catch(a){}c(JSON.stringify({activeElement:e,editorState:d,error:a,event:f}))}function h(a){return{nodes:i(a),selection:k(a)}}function i(a){var b=[],c=["key","type","detail","format","mode","children","parent","first","last","size","next","prev"];for(var a=a._nodeMap,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];var g={};for(var h=0;h<c.length;h++){var i=c[h],k="__"+i;k=f[k];if(k==null||j(i,k))continue;g[i]=k}b.push(g)}return b}function j(a,b){var c=new Set(["detail","format"]);if(c.has(a)&&b===0)return!0;return a==="mode"&&b==="normal"?!0:!1}function k(a){a=a._selection;if(!d("Lexical").$isRangeSelection(a))return null;var b=a.anchor;a=a.focus;return{anchor:{key:b.key,offset:b.offset,type:b.type},focus:{key:a.key,offset:a.offset,type:a.type}}}g["default"]=a}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a){h(function(){a.update(function(){var b=d("Lexical").$getRoot();if(b.isEmpty()){var c=d("Lexical").$createParagraphNode();b.append(c);b=document.activeElement;(d("Lexical").$getSelection()!==null||b!==null&&b===a.getRootElement())&&c.select()}})},[a])}g["default"]=a}),98);
__d("UFI2RealtimeContext",["react","warning"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(function(){c("warning")(!1,"UFI2RealtimeContext: Using default context. Put an instance of `UFI2RealtimeRoot` in the tree.");return{dispose:function(){}}});e=b;g["default"]=e}),98);
__d("UFI2RealtimeContainer.react",["UFI2RealtimeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=a.children;a=a.subscribe;var d=i(c("UFI2RealtimeContext"));return h.jsx(k,{factory:d,subscribe:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";var k=function(a){var b=a.factory,c=a.subscribe;a=a.children;j(function(){var a=b(new l(c));return function(){a.dispose()}},[b,c]);return(a=a)!=null?a:null},l=function(){function a(a){this.$1=a}var b=a.prototype;b.subscribe=function(){this.$2||(this.$2=this.$1())};b.unsubscribe=function(){this.$2&&(this.$2.dispose(),this.$2=null)};return a}();g["default"]=a}),98);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("Lexical.prod",["Promise"],(function $module_Lexical_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";var aa={},ha={},ia={},ja={},ka={},ma={},pa={},qa={},ra={},sa={},ta={},va={},wa={},xa={},ya={},za={},Aa={},Ba={},Ca={},Fa={},Ga={},Ha={},Ia={},Ja={},Ka={},La={},Ma={},Na={},Oa={},Pa={},Qa={},Ra={},Sa={},Ta={},Ua={};function q(a){throw Error("Minified Lexical error #"+a+"; visit https://lexical.dev/docs/error?code="+a+" for the full message or "+"use the non-minified dev environment for full errors and additional helpful warnings.");}
var Va="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Wa=Va&&"documentMode"in document?document.documentMode:null,u=Va&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Xa=Va&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ya=Va&&"InputEvent"in window&&!Wa?"getTargetRanges"in new window.InputEvent("input"):!1,Za=Va&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),$a=Va&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&
!window.MSStream,ab=Va&&/^(?=.*Chrome).*/i.test(navigator.userAgent),bb=Va&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!ab,cb=Za||$a||bb?"\u00A0":"\u200B",db=Xa?"\u00A0":cb,eb=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,ib=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,
jb={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},kb={directionless:1,unmergeable:2},lb={center:2,end:6,justify:4,left:1,right:3,start:5},mb={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},nb={normal:0,segmented:2,token:1},ob={0:"normal",2:"segmented",1:"token"},pb=!1,qb=0;function rb(a){qb=a.timeStamp;}function sb(a,b,c){return b.__lexicalLineBreak===a||void 0!==a["__lexicalKey_"+c._key];}
function tb(a){return a.getEditorState().read(function(){var b=v();return null!==b?b.clone():null;});}
function ub(a,b,c){pb=!0;var d=100<performance.now()-qb;try{w(a,function(){var e=v()||tb(a);var f=new Map(),g=a.getRootElement(),h=a._editorState,k=a._blockCursorElement;var m=!1,n="";for(var p=0;p<b.length;p++){var l=b[p],r=l.type,t=l.target,x=vb(t,h);if(!(null===x&&t!==g||z(x)))if("characterData"===r){if(l=d&&B(x))a:{l=e;r=t;var y=x;if(C(l)){var A=l.anchor.getNode();if(A.is(y)&&l.format!==A.getFormat()){l=!1;break a;}}l=3===r.nodeType&&y.isAttached();}l&&(y=E(a._window),r=l=null,null!==y&&y.anchorNode===
t&&(l=y.anchorOffset,r=y.focusOffset),t=t.nodeValue,null!==t&&wb(x,t,l,r,!1));}else if("childList"===r){m=!0;r=l.addedNodes;for(y=0;y<r.length;y++){A=r[y];var X=xb(A),Y=A.parentNode;null==Y||A===k||null!==X||"BR"===A.nodeName&&sb(A,Y,a)||(Xa&&(X=A.innerText||A.nodeValue)&&(n+=X),Y.removeChild(A));}l=l.removedNodes;r=l.length;if(0<r){y=0;for(A=0;A<r;A++){if(Y=l[A],"BR"===Y.nodeName&&sb(Y,t,a)||k===Y)t.appendChild(Y),y++;}r!==y&&(t===g&&(x=h._nodeMap.get("root")),f.set(t,x));}}}if(0<f.size){for(var _iterator=f,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref2;if(_isArray){if(_i>=_iterator.length)break;_ref2=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref2=_i.value;}var _ref3=_ref2;var na=_ref3[0];var oa=_ref3[1];if(F(oa))for(f=
oa.getChildrenKeys(),g=na.firstChild,h=0;h<f.length;h++){k=a.getElementByKey(f[h]),null!==k&&(null==g?(na.appendChild(k),g=k):g!==k&&na.replaceChild(k,g),g=g.nextSibling);}else B(oa)&&oa.markDirty();}}f=c.takeRecords();if(0<f.length){for(g=0;g<f.length;g++){for(k=f[g],h=k.addedNodes,k=k.target,p=0;p<h.length;p++){x=h[p],t=x.parentNode,null==t||"BR"!==x.nodeName||sb(x,k,a)||t.removeChild(x);}}c.takeRecords();}null!==e&&(m&&(e.dirty=!0,yb(e)),Xa&&zb(a)&&e.insertRawText(n));});}finally{pb=!1;}}
function Ab(a){var b=a._observer;if(null!==b){var c=b.takeRecords();ub(a,c,b);}}function Bb(a){0===qb&&Cb(a).addEventListener("textInput",rb,!0);a._observer=new MutationObserver(function(b,c){ub(a,b,c);});}var Db=1,Eb="function"===typeof queueMicrotask?queueMicrotask:function(a){require("Promise").resolve().then(a);};function Fb(a){var b=document.activeElement;if(null===b)return!1;var c=b.nodeName;return z(vb(a))&&("INPUT"===c||"TEXTAREA"===c||"true"===b.contentEditable&&null==b.__lexicalEditor);}
function Gb(a,b,c){var d=a.getRootElement();try{return null!==d&&d.contains(b)&&d.contains(c)&&null!==b&&!Fb(b)&&Nb(b)===a;}catch(e){return!1;}}function Nb(a){for(;null!=a;){var b=a.__lexicalEditor;if(null!=b)return b;a=Ob(a);}return null;}function Pb(a){return a.isToken()||a.isSegmented();}function Qb(a){for(;null!=a;){if(3===a.nodeType)return a;a=a.firstChild;}return null;}function Rb(a,b,c){b=jb[b];return a&b&&(null===c||0===(c&b))?a^b:null===c||c&b?a|b:a;}function Sb(a){return B(a)||Tb(a)||z(a);}
function Ub(a,b){if(null!=b)a.__key=b;else{G();99<Vb&&q(14);b=H();var c=I(),d=""+Db++;c._nodeMap.set(d,a);F(a)?b._dirtyElements.set(d,!0):b._dirtyLeaves.add(d);b._cloneNotNeeded.add(d);b._dirtyType=1;a.__key=d;}}
function Wb(a){var b=a.getParent();if(null!==b){var e=a.getWritable();b=b.getWritable();var c=a.getPreviousSibling();a=a.getNextSibling();if(null===c){if(null!==a){var d=a.getWritable();b.__first=a.__key;d.__prev=null;}else b.__first=null;}else{d=c.getWritable();if(null!==a){var f=a.getWritable();f.__prev=d.__key;d.__next=f.__key;}else d.__next=null;e.__prev=null;}null===a?null!==c?(a=c.getWritable(),b.__last=c.__key,a.__next=null):b.__last=null:(a=a.getWritable(),null!==c?(c=c.getWritable(),c.__next=
a.__key,a.__prev=c.__key):a.__prev=null,e.__next=null);b.__size--;e.__parent=null;}}function Xb(a){99<Vb&&q(14);var b=a.getLatest(),c=b.__parent,d=I();var e=H(),f=d._nodeMap;d=e._dirtyElements;if(null!==c)a:for(;null!==c;){if(d.has(c))break a;var g=f.get(c);if(void 0===g)break;d.set(c,!1);c=g.__parent;}b=b.__key;e._dirtyType=1;F(a)?d.set(b,!0):e._dirtyLeaves.add(b);}
function J(a){G();var b=H();var c=b._compositionKey;a!==c&&(b._compositionKey=a,null!==c&&(b=K(c),null!==b&&b.getWritable()),null!==a&&(a=K(a),null!==a&&a.getWritable()));}function Yb(){return Zb()?null:H()._compositionKey;}function K(a,b){a=(b||I())._nodeMap.get(a);return void 0===a?null:a;}function xb(a,b){var c=H();a=a["__lexicalKey_"+c._key];return void 0!==a?K(a,b):null;}function vb(a,b){for(;null!=a;){var c=xb(a,b);if(null!==c)return c;a=Ob(a);}return null;}
function $b(a){var b=Object.assign({},a._decorators);return a._pendingDecorators=b;}function ac(a){return a.read(function(){return bc().getTextContent();});}function cc(a,b){w(a,function(){var c=I();if(!c.isEmpty())if("root"===b)bc().markDirty();else{c=c._nodeMap;for(var _iterator2=c,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref5;if(_isArray2){if(_i2>=_iterator2.length)break;_ref5=_iterator2[_i2++];}else{_i2=_iterator2.next();if(_i2.done)break;_ref5=_i2.value;}var _ref6=_ref5;var d=_ref6[1];d.markDirty();}}},null===a._pendingEditorState?{tag:"history-merge"}:void 0);}function bc(){return I()._nodeMap.get("root");}function yb(a){G();var b=I();null!==a&&(a.dirty=!0,a._cachedNodes=null);b._selection=a;}
function dc(a){var b=H(),c;a:{for(c=a;null!=c;){var d=c["__lexicalKey_"+b._key];if(void 0!==d){c=d;break a;}c=Ob(c);}c=null;}return null===c?(b=b.getRootElement(),a===b?K("root"):null):K(c);}function ec(a){return /[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(a);}function fc(a){var b=[];for(;null!==a;){b.push(a),a=a._parentEditor;}return b;}function gc(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);}
function hc(a,b,c){b=E(b._window);if(null!==b){var d=b.anchorNode,_b=b,e=_b.anchorOffset,f=_b.focusOffset;if(null!==d&&(b=3===d.nodeType?d.nodeValue:null,d=vb(d),null!==b&&B(d))){if(d.canContainTabs()){var g=b.includes("\t");if(c&&0<c.length&&g){g=c.length;var h=e+g-1,k=b.slice(0,h);b=b.slice(h,b.length);b=""+k+c+b;e+=g;f+=g;}}b===cb&&c&&(g=c.length,b=c,f=e=g);null!==b&&wb(d,b,e,f,a);}}}
function wb(a,b,c,d,e){var f=a;if(f.isAttached()&&(e||!f.isDirty())){var g=f.isComposing();a=b;(g||e)&&b[b.length-1]===cb&&(a=b.slice(0,-1));b=f.getTextContent();if(e||a!==b)if(""===a){if(J(null),Za||$a||bb)f.remove();else{var m=H();setTimeout(function(){m.update(function(){f.isAttached()&&f.remove();});},20);}}else{e=f.getParent();b=ic();var h=Yb(),k=f.getKey();f.isToken()||null!==h&&k===h&&!g||null!==e&&C(b)&&!e.canInsertTextBefore()&&0===b.anchor.offset?f.markDirty():(g=v(),C(g)&&null!==c&&null!==d&&(g.setTextNodeRange(f,
c,f,d),f.isSegmented()&&(c=f.getTextContent(),c=L(c),f.replace(c),f=c)),f.setTextContent(a));}}}function jc(a,b){if(b.isSegmented())return!0;if(!a.isCollapsed())return!1;a=a.anchor.offset;var c=b.getParentOrThrow(),d=b.isToken();return 0===a?((a=!b.canInsertTextBefore()||!c.canInsertTextBefore()||d)||(b=b.getPreviousSibling(),a=(B(b)||F(b)&&b.isInline())&&!b.canInsertTextAfter()),a):a===b.getTextContentSize()?!b.canInsertTextAfter()||!c.canInsertTextAfter()||d:!1;}
function kc(a,b){var c=a[b];return"string"===typeof c?(c=c.split(" "),a[b]=c):c;}function lc(a,b,c,d,e){0!==c.size&&(c=d.__key,b=b.get(d.__type),void 0===b&&q(33),d=b.klass,b=a.get(d),void 0===b&&(b=new Map(),a.set(d,b)),a=b.get(c),d="destroyed"===a&&"created"===e,(void 0===a||d)&&b.set(c,d?"updated":e));}function mc(a,b,c){var d=a.getParent(),e=c;null!==d&&(b&&0===c?(e=a.getIndexWithinParent(),a=d):b||c!==a.getChildrenSize()||(e=a.getIndexWithinParent()+1,a=d));return a.getChildAtIndex(b?e-1:e);}
function nc(a,b){var c=a.offset;if("element"===a.type)return a=a.getNode(),mc(a,b,c);a=a.getNode();return b&&0===c||!b&&c===a.getTextContentSize()?(c=b?a.getPreviousSibling():a.getNextSibling(),null===c?mc(a.getParentOrThrow(),b,a.getIndexWithinParent()+(b?0:1)):c):null;}function zb(a){a=(a=Cb(a).event)&&a.inputType;return"insertFromPaste"===a||"insertFromPasteAsQuotation"===a;}function oc(a){return!M(a)&&!a.isLastChild()&&!a.isInline();}
function pc(a,b){a=a._keyToDOMMap.get(b);void 0===a&&q(75);return a;}function Ob(a){a=a.assignedSlot||a.parentElement;return null!==a&&11===a.nodeType?a.host:a;}function qc(a,b){if(b===void 0){b=0;}0!==b&&q(1);b=v();if(!C(b)||!F(a))return b;var _b2=b,c=_b2.anchor,d=_b2.focus,e=c.getNode(),f=d.getNode();rc(e,a)&&c.set(a.__key,0,"element");rc(f,a)&&d.set(a.__key,0,"element");return b;}function rc(a,b){for(a=a.getParent();null!==a;){if(a.is(b))return!0;a=a.getParent();}return!1;}function Cb(a){a=a._window;null===a&&q(78);return a;}
function sc(a){for(a=a.getParentOrThrow();null!==a&&!N(a);){a=a.getParentOrThrow();}return a;}function N(a){return M(a)||F(a)&&a.isShadowRoot();}function tc(a){a=a.constructor.clone(a);Ub(a,null);return a;}function uc(a){var b=H();var c=a.constructor.getType();b=b._nodes.get(c);void 0===b&&q(97);b=b.replace;return null!==b?(b=b(a),b instanceof a.constructor||q(98),b):a;}function vc(a,b){a=a.getParent();!M(a)||F(b)||z(b)||q(99);}function wc(a){return(z(a)||F(a)&&!a.canBeEmpty())&&!a.isInline();}
function xc(a,b,c){c.style.removeProperty("caret-color");b._blockCursorElement=null;b=a.parentElement;null!==b&&b.removeChild(a);}function E(a){return Va?(a||window).getSelection():null;}function yc(a,b){var c=a.getChildAtIndex(b);null==c&&(c=a);N(a)&&q(102);var d=function d(g){var h=g.getParentOrThrow(),k=N(h),m=g!==c||k?tc(g):g;if(k)return g.insertAfter(m),[g,m,m];var _d2=d(h),n=_d2[0],p=_d2[1],l=_d2[2];g=g.getNextSiblings();l.append.apply(l,[m].concat(g));return[n,p,m];},_d=d(c),e=_d[0],f=_d[1];return[e,f];}
function zc(a,b){for(;a!==bc()&&null!=a;){if(b(a))return a;a=a.getParent();}return null;}function Ac(a){var b=[],c=[a];for(;0<c.length;){var d=c.pop();void 0===d&&q(112);F(d)&&c.unshift.apply(c,d.getChildren());d!==a&&b.push(d);}return b;}function Bc(a,b,c,d,e){for(a=a.getFirstChild();null!==a;){var f=a.__key;void 0!==a&&a.__parent===b&&(F(a)&&Bc(a,f,c,d,e),c.has(f)||e["delete"](f),d["delete"](f));a=a.isAttached()?a.getNextSibling():null;}}
function Cc(a,b,c,d){a=a._nodeMap;b=b._nodeMap;for(var _iterator3=c,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref7;if(_isArray3){if(_i3>=_iterator3.length)break;_ref7=_iterator3[_i3++];}else{_i3=_iterator3.next();if(_i3.done)break;_ref7=_i3.value;}var e=_ref7;var f=b.get(e);void 0===f||f.isAttached()||(a.has(e)||c["delete"](e),b["delete"](e));}for(var _iterator4=d,_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:_iterator4[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref9;if(_isArray4){if(_i4>=_iterator4.length)break;_ref9=_iterator4[_i4++];}else{_i4=_iterator4.next();if(_i4.done)break;_ref9=_i4.value;}var _ref10=_ref9;var _e=_ref10[0];c=b.get(_e),void 0===c||c.isAttached()||(F(c)&&Bc(c,_e,a,b,d),a.has(_e)||d["delete"](_e),b["delete"](_e));}}function Dc(a,b){var c=a.__mode,d=a.__format;a=a.__style;var e=b.__mode,f=b.__format;b=b.__style;return(null===c||c===e)&&(null===d||d===f)&&(null===a||a===b);}
function Ec(a,b){var c=a.mergeWithSibling(b),d=H()._normalizedNodes;d.add(a.__key);d.add(b.__key);return c;}function Nc(a){if(""===a.__text&&a.isSimpleText()&&!a.isUnmergeable())a.remove();else{for(var b;null!==(b=a.getPreviousSibling())&&B(b)&&b.isSimpleText()&&!b.isUnmergeable();){if(""===b.__text)b.remove();else{Dc(b,a)&&(a=Ec(b,a));break;}}for(var c;null!==(c=a.getNextSibling())&&B(c)&&c.isSimpleText()&&!c.isUnmergeable();){if(""===c.__text)c.remove();else{Dc(a,c)&&Ec(a,c);break;}}}}
function Oc(a){Pc(a.anchor);Pc(a.focus);return a;}function Pc(a){for(;"element"===a.type;){var b=a.getNode(),c=a.offset;c===b.getChildrenSize()?(b=b.getChildAtIndex(c-1),c=!0):(b=b.getChildAtIndex(c),c=!1);if(B(b)){a.set(b.__key,c?b.getTextContentSize():0,"text");break;}else if(!F(b))break;a.set(b.__key,c?b.getChildrenSize():0,"element");}}var Q="",R="",Qc="",Rc,S,Sc,Tc=!1,Uc=!1,Vc,Wc=null,Xc,Yc,Zc,$c,ad,bd;
function cd(a,b){var c=Zc.get(a);if(null!==b){var d=dd(a);d.parentNode===b&&b.removeChild(d);}$c.has(a)||S._keyToDOMMap["delete"](a);F(c)&&(a=ed(c,Zc),fd(a,0,a.length-1,null));void 0!==c&&lc(bd,Sc,Vc,c,"destroyed");}function fd(a,b,c,d){for(;b<=c;++b){var e=a[b];void 0!==e&&cd(e,d);}}function gd(a,b){a.setProperty("text-align",b);}
function hd(a,b){var c=Rc.theme.indent;if("string"===typeof c){var d=a.classList.contains(c);0<b&&!d?a.classList.add(c):1>b&&d&&a.classList.remove(c);}c=getComputedStyle(a).getPropertyValue("--lexical-indent-base-value")||"20px";a.style.setProperty("padding-inline-start",0===b?"":"calc("+b+" * "+c+")");}function id(a,b){a=a.style;0===b?gd(a,""):1===b?gd(a,"left"):2===b?gd(a,"center"):3===b?gd(a,"right"):4===b?gd(a,"justify"):5===b?gd(a,"start"):6===b&&gd(a,"end");}
function jd(a,b,c){var d=$c.get(a);void 0===d&&q(60);var e=d.createDOM(Rc,S);var f=S._keyToDOMMap;e["__lexicalKey_"+S._key]=a;f.set(a,e);B(d)?e.setAttribute("data-lexical-text","true"):z(d)&&e.setAttribute("data-lexical-decorator","true");if(F(d)){a=d.__indent;f=d.__size;0!==a&&hd(e,a);if(0!==f){--f;a=ed(d,$c);var g=R;R="";kd(a,d,0,f,e,null);ld(d,e);R=g;}a=d.__format;0!==a&&id(e,a);d.isInline()||md(null,d,e);oc(d)&&(Q+="\n\n",Qc+="\n\n");}else f=d.getTextContent(),z(d)?(g=d.decorate(S,Rc),null!==g&&
nd(a,g),e.contentEditable="false"):B(d)&&(d.isDirectionless()||(R+=f)),Q+=f,Qc+=f;null!==b&&(null!=c?b.insertBefore(e,c):(c=b.__lexicalLineBreak,null!=c?b.insertBefore(e,c):b.appendChild(e)));lc(bd,Sc,Vc,d,"created");return e;}function kd(a,b,c,d,e,f){var g=Q;for(Q="";c<=d;++c){jd(a[c],e,f);}oc(b)&&(Q+="\n\n");e.__lexicalTextContent=Q;Q=g+Q;}function od(a,b){a=b.get(a);return Tb(a)||z(a)&&a.isInline();}
function md(a,b,c){a=null!==a&&(0===a.__size||od(a.__last,Zc));b=0===b.__size||od(b.__last,$c);a?b||(b=c.__lexicalLineBreak,null!=b&&c.removeChild(b),c.__lexicalLineBreak=null):b&&(b=document.createElement("br"),c.__lexicalLineBreak=b,c.appendChild(b));}
function ld(a,b){var c=b.__lexicalDir;if(b.__lexicalDirTextContent!==R||c!==Wc){var f=""===R;if(f)var d=Wc;else d=R,d=eb.test(d)?"rtl":ib.test(d)?"ltr":null;if(d!==c){var g=b.classList,h=Rc.theme;var e=null!==c?h[c]:void 0;var k=null!==d?h[d]:void 0;void 0!==e&&("string"===typeof e&&(e=e.split(" "),e=h[c]=e),g.remove.apply(g,e));null===d||f&&"ltr"===d?b.removeAttribute("dir"):(void 0!==k&&("string"===typeof k&&(c=k.split(" "),k=h[d]=c),void 0!==k&&g.add.apply(g,k)),b.dir=d);Uc||(a.getWritable().__dir=d);}Wc=
d;b.__lexicalDirTextContent=R;b.__lexicalDir=d;}}function ed(a,b){var c=[];for(a=a.__first;null!==a;){var d=b.get(a);void 0===d&&q(101);c.push(a);a=d.__next;}return c;}
function pd(a,b){var c=Zc.get(a),d=$c.get(a);void 0!==c&&void 0!==d||q(61);var e=Tc||Yc.has(a)||Xc.has(a);var f=pc(S,a);if(c===d&&!e)return F(c)?(d=f.__lexicalTextContent,void 0!==d&&(Q+=d,Qc+=d),d=f.__lexicalDirTextContent,void 0!==d&&(R+=d)):(d=c.getTextContent(),B(c)&&!c.isDirectionless()&&(R+=d),Qc+=d,Q+=d),f;c!==d&&e&&lc(bd,Sc,Vc,d,"updated");if(d.updateDOM(c,f,Rc))return d=jd(a,null,null),null===b&&q(62),b.replaceChild(d,f),cd(a,null),d;if(F(c)&&F(d)){a=d.__indent;a!==c.__indent&&hd(f,a);a=
d.__format;a!==c.__format&&id(f,a);if(e){a=d;e=R;R="";b=Q;var g=c.__size,h=a.__size;Q="";if(1===g&&1===h){var k=c.__first,m=a.__first;if(k===m)pd(k,f);else{var n=dd(k);m=jd(m,null,null);f.replaceChild(m,n);cd(k,null);}}else{m=ed(c,Zc);var p=ed(a,$c);if(0===g)0!==h&&kd(p,a,0,h-1,f,null);else if(0===h)0!==g&&(k=null==f.__lexicalLineBreak,fd(m,0,g-1,k?null:f),k&&(f.textContent=""));else{var l=m;m=p;p=g-1;g=h-1;var t=f.firstChild,x=0;for(h=0;x<=p&&h<=g;){var r=l[x];var y=m[h];if(r===y)t=qd(pd(y,f)),x++,
h++;else{void 0===k&&(k=new Set(l));void 0===n&&(n=new Set(m));var A=n.has(r),X=k.has(y);A?(X?(r=pc(S,y),r===t?t=qd(pd(y,f)):(null!=t?f.insertBefore(r,t):f.appendChild(r),pd(y,f)),x++):jd(y,f,t),h++):(t=qd(dd(r)),cd(r,f),x++);}}k=x>p;n=h>g;k&&!n?(k=m[g+1],k=void 0===k?null:S.getElementByKey(k),kd(m,a,h,g,f,k)):n&&!k&&fd(l,x,p,f);}}oc(a)&&(Q+="\n\n");f.__lexicalTextContent=Q;Q=b+Q;ld(a,f);R=e;M(d)||d.isInline()||md(c,d,f);}oc(d)&&(Q+="\n\n",Qc+="\n\n");}else c=d.getTextContent(),z(d)?(e=d.decorate(S,Rc),
null!==e&&nd(a,e)):B(d)&&!d.isDirectionless()&&(R+=c),Q+=c,Qc+=c;!Uc&&M(d)&&d.__cachedText!==Qc&&(d=d.getWritable(),d.__cachedText=Qc);return f;}function nd(a,b){var c=S._pendingDecorators,d=S._decorators;if(null===c){if(d[a]===b)return;c=$b(S);}c[a]=b;}function qd(a){a=a.nextSibling;null!==a&&a===S._blockCursorElement&&(a=a.nextSibling);return a;}function dd(a){a=ad.get(a);void 0===a&&q(75);return a;}
var rd=Object.freeze({}),yd=[["keydown",sd],["pointerdown",td],["compositionstart",ud],["compositionend",vd],["input",wd],["click",xd],["cut",rd],["copy",rd],["dragstart",rd],["dragover",rd],["dragend",rd],["paste",rd],["focus",rd],["blur",rd],["drop",rd]];Ya&&yd.push(["beforeinput",function(a,b){return zd(a,b);}]);var Ad=0,Bd=0,Cd=0,Dd=null,Ed=0,Fd=!1,Gd=!1,Hd=!1,Id=!1,Jd=[0,"",0,"root",0];
function Kd(a,b,c,d,e){var f=a.anchor,g=a.focus,h=f.getNode();var k=H();var m=E(k._window),n=null!==m?m.anchorNode:null,p=f.key;k=k.getElementByKey(p);var l=c.length;return p!==g.key||!B(h)||(!e&&(!Ya||Cd<d+50)||h.isDirty()&&2>l||ec(c))&&f.offset!==g.offset&&!h.isComposing()||Pb(h)||h.isDirty()&&1<l||(e||!Ya)&&null!==k&&!h.isComposing()&&n!==Qb(k)||null!==m&&null!==b&&(!b.collapsed||b.startContainer!==m.anchorNode||b.startOffset!==m.anchorOffset)||h.getFormat()!==a.format||h.getStyle()!==a.style||
jc(a,h);}function Ld(a,b){return null!==a&&null!==a.nodeValue&&3===a.nodeType&&0!==b&&b!==a.nodeValue.length;}
function Md(a,b,c){var d=a.anchorNode,e=a.anchorOffset,f=a.focusNode,g=a.focusOffset;if(Fd&&(Fd=!1,Ld(d,e)&&Ld(f,g)))return;w(b,function(){if(!c)yb(null);else if(Gb(b,d,f)){var h=v();if(C(h)){var k=h.anchor,m=k.getNode();if(h.isCollapsed()){"Range"===a.type&&a.anchorNode===a.focusNode&&(h.dirty=!0);var n=Cb(b).event;n=n?n.timeStamp:performance.now();var _Jd=Jd,p=_Jd[0],l=_Jd[1],r=_Jd[2],t=_Jd[3],x=_Jd[4];n<x+200&&k.offset===r&&k.key===t?(h.format=p,h.style=l):"text"===k.type?(h.format=m.getFormat(),h.style=m.getStyle()):"element"===k.type&&(h.format=
0,h.style="");}else{k=255;m=!1;n=h.getNodes();var _p=n.length;for(var _l=0;_l<_p;_l++){var _r=n[_l];if(B(_r)&&(m=!0,k&=_r.getFormat(),0===k))break;}h.format=m?k:0;}}T(b,aa,void 0);}});}function xd(a,b){w(b,function(){var c=v(),d=E(b._window),e=ic();if(C(c)){var f=c.anchor,g=f.getNode();d&&"element"===f.type&&0===f.offset&&c.isCollapsed()&&!M(g)&&1===bc().getChildrenSize()&&g.getTopLevelElementOrThrow().isEmpty()&&null!==e&&c.is(e)&&(d.removeAllRanges(),c.dirty=!0);}T(b,ha,a);});}
function td(a,b){var c=a.target;a=a.pointerType;c instanceof Node&&"touch"!==a&&w(b,function(){z(vb(c))||(Gd=!0);});}function Nd(a){if(!a.getTargetRanges)return null;a=a.getTargetRanges();return 0===a.length?null:a[0];}function Od(a,b){return a!==b||F(a)||F(b)||!a.isToken()||!b.isToken();}
function zd(a,b){var c=a.inputType,d=Nd(a);"deleteCompositionText"===c||Xa&&zb(b)||"insertCompositionText"!==c&&w(b,function(){var e=v();if("deleteContentBackward"===c){if(null===e){var f=ic();if(!C(f))return;yb(f.clone());}if(C(e)){229===Bd&&a.timeStamp<Ad+30&&b.isComposing()&&e.anchor.key===e.focus.key?(J(null),Ad=0,setTimeout(function(){w(b,function(){J(null);});},30),C(e)&&(f=e.anchor.getNode(),f.markDirty(),e.format=f.getFormat(),e.style=f.getStyle())):(a.preventDefault(),T(b,ia,!0));return;}}if(C(e)){f=a.data;null!==
Dd&&hc(!1,b,Dd);e.dirty&&null===Dd||!e.isCollapsed()||M(e.anchor.getNode())||null===d||e.applyDOMRange(d);Dd=null;var g=e.focus,h=e.anchor.getNode();g=g.getNode();if("insertText"===c||"insertTranspose"===c)"\n"===f?(a.preventDefault(),T(b,ja,!1)):"\n\n"===f?(a.preventDefault(),T(b,ka,void 0)):null==f&&a.dataTransfer?(f=a.dataTransfer.getData("text/plain"),a.preventDefault(),e.insertRawText(f)):null!=f&&Kd(e,d,f,a.timeStamp,!0)?(a.preventDefault(),T(b,ma,f)):Dd=f,Cd=a.timeStamp;else switch(a.preventDefault(),
c){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":T(b,ma,a);break;case"insertFromComposition":J(null);T(b,ma,a);break;case"insertLineBreak":J(null);T(b,ja,!1);break;case"insertParagraph":J(null);Hd?(Hd=!1,T(b,ja,!1)):T(b,ka,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":T(b,pa,a);break;case"deleteByComposition":Od(h,g)&&T(b,qa,void 0);break;case"deleteByDrag":case"deleteByCut":T(b,qa,void 0);break;case"deleteContent":T(b,ia,!1);break;case"deleteWordBackward":T(b,
ra,!0);break;case"deleteWordForward":T(b,ra,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":T(b,sa,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":T(b,sa,!1);break;case"formatStrikeThrough":T(b,ta,"strikethrough");break;case"formatBold":T(b,ta,"bold");break;case"formatItalic":T(b,ta,"italic");break;case"formatUnderline":T(b,ta,"underline");break;case"historyUndo":T(b,va,void 0);break;case"historyRedo":T(b,wa,void 0);}}});}
function wd(a,b){a.stopPropagation();w(b,function(){var c=v(),d=a.data,e=Nd(a);if(null!=d&&C(c)&&Kd(c,e,d,a.timeStamp,!1)){Id&&(Pd(b,d),Id=!1);var f=c.anchor,g=f.getNode();e=E(b._window);if(null===e)return;var h=f.offset;if(f=Ya&&!c.isCollapsed()&&B(g)&&null!==e.anchorNode)g=g.getTextContent().slice(0,h)+d+g.getTextContent().slice(h+c.focus.offset),e=e.anchorNode,f=g===(3===e.nodeType?e.nodeValue:null);f||T(b,ma,d);d=d.length;Xa&&1<d&&"insertCompositionText"===a.inputType&&!b.isComposing()&&(c.anchor.offset-=
d);Za||$a||bb||!b.isComposing()||(Ad=0,J(null));}else hc(!1,b,null!==d?d:void 0),Id&&(Pd(b,d||void 0),Id=!1);G();c=H();Ab(c);});Dd=null;}function ud(a,b){w(b,function(){var c=v();if(C(c)&&!b.isComposing()){var d=c.anchor,e=c.anchor.getNode();J(d.key);(a.timeStamp<Ad+30||"element"===d.type||!c.isCollapsed()||e.getFormat()!==c.format||e.getStyle()!==c.style)&&T(b,ma,db);}});}
function Pd(a,b){var c=a._compositionKey;J(null);if(null!==c&&null!=b){if(""===b){b=K(c);a=Qb(a.getElementByKey(c));null!==a&&null!==a.nodeValue&&B(b)&&wb(b,a.nodeValue,null,null,!0);return;}if("\n"===b[b.length-1]&&(c=v(),C(c))){b=c.focus;c.anchor.set(b.key,b.offset,b.type);T(a,Ga,null);return;}}hc(!0,a,b);}function vd(a,b){Xa?Id=!0:w(b,function(){Pd(b,a.data);});}
function sd(a,b){Ad=a.timeStamp;Bd=a.keyCode;if(!b.isComposing()){var c=a.keyCode,d=a.shiftKey,e=a.ctrlKey,f=a.metaKey,g=a.altKey;if(!T(b,xa,a)){if(39!==c||e||f||g){if(39!==c||g||d||!e&&!f){if(37!==c||e||f||g){if(37!==c||g||d||!e&&!f){if(38!==c||e||f){if(40!==c||e||f){if(13===c&&d)Hd=!0,T(b,Ga,a);else if(32===c)T(b,Ha,a);else if(u&&e&&79===c)a.preventDefault(),Hd=!0,T(b,ja,!0);else if(13!==c||d){var h=u?g||f?!1:8===c||72===c&&e:e||g||f?!1:8===c;h?8===c?T(b,Ia,a):(a.preventDefault(),T(b,ia,!0)):27===c?T(b,Ja,
a):(h=u?d||g||f?!1:46===c||68===c&&e:e||g||f?!1:46===c,h?46===c?T(b,Ka,a):(a.preventDefault(),T(b,ia,!1)):8===c&&(u?g:e)?(a.preventDefault(),T(b,ra,!0)):46===c&&(u?g:e)?(a.preventDefault(),T(b,ra,!1)):u&&f&&8===c?(a.preventDefault(),T(b,sa,!0)):u&&f&&46===c?(a.preventDefault(),T(b,sa,!1)):66===c&&!g&&(u?f:e)?(a.preventDefault(),T(b,ta,"bold")):85===c&&!g&&(u?f:e)?(a.preventDefault(),T(b,ta,"underline")):73===c&&!g&&(u?f:e)?(a.preventDefault(),T(b,ta,"italic")):9!==c||g||e||f?90===c&&!d&&(u?f:e)?(a.preventDefault(),
T(b,va,void 0)):(h=u?90===c&&f&&d:89===c&&e||90===c&&e&&d,h?(a.preventDefault(),T(b,wa,void 0)):Qd(b._editorState._selection)&&(h=d?!1:67===c?u?f:e:!1,h?(a.preventDefault(),T(b,Qa,a)):(h=d?!1:88===c?u?f:e:!1,h&&(a.preventDefault(),T(b,Ra,a))))):T(b,La,a));}else Hd=!1,T(b,Ga,a);}else T(b,Fa,a);}else T(b,Ca,a);}else T(b,Ba,a);}else T(b,Aa,a);}else T(b,za,a);}else T(b,ya,a);(e||d||g||f)&&T(b,Ua,a);}}}function Rd(a){var b=a.__lexicalEventHandles;void 0===b&&(b=[],a.__lexicalEventHandles=b);return b;}var Sd=new Map();
function Td(a){a=a.target;var b=E(null==a?null:9===a.nodeType?a.defaultView:a.ownerDocument.defaultView);if(null!==b){var c=Nb(b.anchorNode);if(null!==c){Gd&&(Gd=!1,w(c,function(){var g=ic(),h=b.anchorNode;null!==h&&(h=h.nodeType,1===h||3===h)&&(g=Ud(g,b,c),yb(g));}));a=fc(c);a=a[a.length-1];var d=a._key,e=Sd.get(d),f=e||a;f!==c&&Md(b,f,!1);Md(b,c,!0);c!==a?Sd.set(d,c):e&&Sd["delete"](d);}}}
function Vd(a,b){0===Ed&&a.ownerDocument.addEventListener("selectionchange",Td);Ed++;a.__lexicalEditor=b;var c=Rd(a);var _loop=function _loop(d){var _yd$d=yd[d],e=_yd$d[0],f=_yd$d[1],g="function"===typeof f?function(h){!0!==h._lexicalHandled&&(h._lexicalHandled=!0,b.isEditable()&&f(h,b));}:function(h){if(!0!==h._lexicalHandled&&(h._lexicalHandled=!0,b.isEditable()))switch(e){case"cut":return T(b,Ra,h);case"copy":return T(b,Qa,h);case"paste":return T(b,pa,h);case"dragstart":return T(b,Na,h);case"dragover":return T(b,Oa,h);case"dragend":return T(b,
Pa,h);case"focus":return T(b,Sa,h);case"blur":return T(b,Ta,h);case"drop":return T(b,Ma,h);}};a.addEventListener(e,g);c.push(function(){a.removeEventListener(e,g);});};for(var d=0;d<yd.length;d++){_loop(d);}}var
Wd=function(){function Wd(a,b,c){this._selection=null;this.key=a;this.offset=b;this.type=c;}var _proto=Wd.prototype;_proto.is=function is(a){return this.key===a.key&&this.offset===a.offset&&this.type===a.type;};_proto.isBefore=function isBefore(a){var b=this.getNode(),c=a.getNode(),d=this.offset;a=a.offset;if(F(b)){var e=b.getDescendantByIndex(d);b=null!=e?e:b;}F(c)&&(e=c.getDescendantByIndex(a),c=null!=e?e:c);return b===c?d<a:b.isBefore(c);};_proto.getNode=function getNode(){var a=K(this.key);null===a&&q(20);return a;};_proto.set=function set(a,b,c){var d=this._selection,e=this.key;this.key=a;this.offset=b;this.type=c;
Zb()||(Yb()===e&&J(a),null!==d&&(d._cachedNodes=null,d.dirty=!0));};return Wd;}();function Xd(a,b){var c=b.__key,d=a.offset,e="element";if(B(b))e="text",b=b.getTextContentSize(),d>b&&(d=b);else if(!F(b)){var f=b.getNextSibling();if(B(f))c=f.__key,d=0,e="text";else if(f=b.getParent())c=f.__key,d=b.getIndexWithinParent()+1;}a.set(c,d,e);}function Yd(a,b){if(F(b)){var c=b.getLastDescendant();F(c)||B(c)?Xd(a,c):Xd(a,b);}else Xd(a,b);}
function Zd(a,b,c,d){var e=a.getNode(),f=e.getChildAtIndex(a.offset),g=L(),h=M(e)?$d().append(g):g;g.setFormat(c);g.setStyle(d);null===f?e.append(h):f.insertBefore(h);a.is(b)&&b.set(g.__key,0,"text");a.set(g.__key,0,"text");}function ae(a,b,c,d){a.key=b;a.offset=c;a.type=d;}var
be=function(){function be(a){this.dirty=!1;this._nodes=a;this._cachedNodes=null;}var _proto2=be.prototype;_proto2.is=function is(a){if(!Qd(a))return!1;var b=this._nodes,c=a._nodes;return b.size===c.size&&Array.from(b).every(function(d){return c.has(d);});};_proto2.add=function add(a){this.dirty=!0;this._nodes.add(a);this._cachedNodes=null;};_proto2["delete"]=function _delete(a){this.dirty=!0;this._nodes["delete"](a);this._cachedNodes=null;};_proto2.clear=function clear(){this.dirty=!0;this._nodes.clear();this._cachedNodes=null;};_proto2.has=function has(a){return this._nodes.has(a);};_proto2.clone=function clone(){return new be(new Set(this._nodes));};_proto2.extract=function extract(){return this.getNodes();};_proto2.insertRawText=function insertRawText(){};_proto2.insertText=function insertText(){};_proto2.insertNodes=function insertNodes(a,
b){var c=this.getNodes(),d=c.length;var e=c[d-1];if(B(e))e=e.select();else{var f=e.getIndexWithinParent()+1;e=e.getParentOrThrow().select(f,f);}e.insertNodes(a,b);for(a=0;a<d;a++){c[a].remove();}return!0;};_proto2.getNodes=function getNodes(){var a=this._cachedNodes;if(null!==a)return a;var b=this._nodes;a=[];for(var _iterator5=b,_isArray5=Array.isArray(_iterator5),_i5=0,_iterator5=_isArray5?_iterator5:_iterator5[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref11;if(_isArray5){if(_i5>=_iterator5.length)break;_ref11=_iterator5[_i5++];}else{_i5=_iterator5.next();if(_i5.done)break;_ref11=_i5.value;}var c=_ref11;b=K(c),null!==b&&a.push(b);}Zb()||(this._cachedNodes=a);return a;};_proto2.getTextContent=function getTextContent(){var a=this.getNodes(),b="";for(var c=0;c<a.length;c++){b+=a[c].getTextContent();}return b;};return be;}();
function C(a){return a instanceof ce;}var
de=function(){function de(a,b,c){this.gridKey=a;this.anchor=b;this.focus=c;this.dirty=!1;this._cachedNodes=null;b._selection=this;c._selection=this;}var _proto3=de.prototype;_proto3.is=function is(a){return ee(a)?this.gridKey===a.gridKey&&this.anchor.is(a.anchor)&&this.focus.is(a.focus):!1;};_proto3.set=function set(a,b,c){this.dirty=!0;this.gridKey=a;this.anchor.key=b;this.focus.key=c;this._cachedNodes=null;};_proto3.clone=function clone(){return new de(this.gridKey,this.anchor,this.focus);};_proto3.isCollapsed=function isCollapsed(){return!1;};_proto3.isBackward=function isBackward(){return this.focus.isBefore(this.anchor);};_proto3.getCharacterOffsets=function getCharacterOffsets(){return fe(this);};_proto3.extract=function extract(){return this.getNodes();};_proto3.insertRawText=function insertRawText(){};_proto3.insertText=function insertText(){};_proto3.insertNodes=function insertNodes(a,b){var c=
this.focus.getNode();return Oc(c.select(0,c.getChildrenSize())).insertNodes(a,b);};_proto3.getShape=function getShape(){var a=K(this.anchor.key);null===a&&q(21);var b=a.getIndexWithinParent();a=a.getParentOrThrow().getIndexWithinParent();var c=K(this.focus.key);null===c&&q(22);var d=c.getIndexWithinParent();var e=c.getParentOrThrow().getIndexWithinParent();c=Math.min(b,d);b=Math.max(b,d);d=Math.min(a,e);a=Math.max(a,e);return{fromX:Math.min(c,b),fromY:Math.min(d,a),toX:Math.max(c,b),toY:Math.max(d,a)};};_proto3.getNodes=function getNodes(){function a(x){var y=
x.cell,A=x.startColumn,X=x.startRow;h=Math.min(h,A);k=Math.min(k,X);m=Math.max(m,A+y.__colSpan-1);n=Math.max(n,X+y.__rowSpan-1);}var b=this._cachedNodes;if(null!==b)return b;var c=this.anchor.getNode();b=this.focus.getNode();c=zc(c,ge);var d=zc(b,ge);ge(c)||q(103);ge(d)||q(104);b=c.getParent();he(b)||q(105);b=b.getParent();ie(b)||q(106);var _je=je(b,c,d),e=_je[0],f=_je[1],g=_je[2],h=Math.min(f.startColumn,g.startColumn),k=Math.min(f.startRow,g.startRow),m=Math.max(f.startColumn+f.cell.__colSpan-1,g.startColumn+g.cell.__colSpan-
1),n=Math.max(f.startRow+f.cell.__rowSpan-1,g.startRow+g.cell.__rowSpan-1);c=h;d=k;for(var p=h,l=k;h<c||k<d||m>p||n>l;){if(h<c){var r=l-d;--c;for(var t=0;t<=r;t++){a(e[d+t][c]);}}if(k<d)for(r=p-c,--d,t=0;t<=r;t++){a(e[d][c+t]);}if(m>p)for(r=l-d,p+=1,t=0;t<=r;t++){a(e[d+t][p]);}if(n>l)for(r=p-c,l+=1,t=0;t<=r;t++){a(e[l][c+t]);}}b=[b];c=null;for(d=k;d<=n;d++){for(p=h;p<=m;p++){var _e$d$p,_b3;(_e$d$p=e[d][p],l=_e$d$p.cell,_e$d$p),r=l.getParent(),he(r)||q(107),r!==c&&b.push(r),(_b3=b).push.apply(_b3,[l].concat(Ac(l))),c=r;}}Zb()||(this._cachedNodes=b);return b;};_proto3.getTextContent=function getTextContent(){var a=
this.getNodes(),b="";for(var c=0;c<a.length;c++){b+=a[c].getTextContent();}return b;};return de;}();function ee(a){return a instanceof de;}var
ce=function(){function ce(a,b,c,d){this.anchor=a;this.focus=b;this.dirty=!1;this.format=c;this.style=d;this._cachedNodes=null;a._selection=this;b._selection=this;}var _proto4=ce.prototype;_proto4.is=function is(a){return C(a)?this.anchor.is(a.anchor)&&this.focus.is(a.focus)&&this.format===a.format&&this.style===a.style:!1;};_proto4.isBackward=function isBackward(){return this.focus.isBefore(this.anchor);};_proto4.isCollapsed=function isCollapsed(){return this.anchor.is(this.focus);};_proto4.getNodes=function getNodes(){var a=this._cachedNodes;if(null!==a)return a;a=this.anchor;var b=this.focus,c=a.isBefore(b),d=c?a:b;c=c?b:a;a=d.getNode();
b=c.getNode();var e=d.offset;d=c.offset;F(a)&&(c=a.getDescendantByIndex(e),a=null!=c?c:a);F(b)&&(c=b.getDescendantByIndex(d),null!==c&&c!==a&&b.getChildAtIndex(d)===c&&(c=c.getPreviousSibling()),b=null!=c?c:b);a=a.is(b)?F(a)&&0<a.getChildrenSize()?[]:[a]:a.getNodesBetween(b);Zb()||(this._cachedNodes=a);return a;};_proto4.setTextNodeRange=function setTextNodeRange(a,b,c,d){ae(this.anchor,a.__key,b,"text");ae(this.focus,c.__key,d,"text");this._cachedNodes=null;this.dirty=!0;};_proto4.getTextContent=function getTextContent(){var a=this.getNodes();if(0===a.length)return"";
var b=a[0],c=a[a.length-1],d=this.anchor,e=this.focus,f=d.isBefore(e),_fe=fe(this),g=_fe[0],h=_fe[1],k="",m=!0;for(var n=0;n<a.length;n++){var p=a[n];if(F(p)&&!p.isInline())m||(k+="\n"),m=p.isEmpty()?!1:!0;else if(m=!1,B(p)){var l=p.getTextContent();if(p===b){if(p===c){if("element"!==d.type||"element"!==e.type||e.offset===d.offset)l=g<h?l.slice(g,h):l.slice(h,g);}else l=f?l.slice(g):l.slice(h);}else p===c&&(l=f?l.slice(0,h):l.slice(0,g));k+=l;}else!z(p)&&!Tb(p)||p===c&&this.isCollapsed()||(k+=p.getTextContent());}return k;};_proto4.applyDOMRange=function applyDOMRange(a){var b=
H(),c=b.getEditorState()._selection;a=ke(a.startContainer,a.startOffset,a.endContainer,a.endOffset,b,c);if(null!==a){var _a=a,d=_a[0],e=_a[1];ae(this.anchor,d.key,d.offset,d.type);ae(this.focus,e.key,e.offset,e.type);this._cachedNodes=null;}};_proto4.clone=function clone(){var a=this.anchor,b=this.focus;return new ce(new Wd(a.key,a.offset,a.type),new Wd(b.key,b.offset,b.type),this.format,this.style);};_proto4.toggleFormat=function toggleFormat(a){this.format=Rb(this.format,a,null);this.dirty=!0;};_proto4.setStyle=function setStyle(a){this.style=a;this.dirty=!0;};_proto4.hasFormat=function hasFormat(a){return 0!==(this.format&
jb[a]);};_proto4.insertRawText=function insertRawText(a){var b=a.split(/\r?\n/);if(1===b.length)this.insertText(a);else{a=[];var c=b.length;for(var d=0;d<c;d++){var e=b[d];""!==e&&a.push(L(e));d!==c-1&&a.push(le());}this.insertNodes(a);}};_proto4.insertText=function insertText(a){var b=this.anchor,c=this.focus,d=this.isCollapsed()||b.isBefore(c),e=this.format,f=this.style;d&&"element"===b.type?Zd(b,c,e,f):d||"element"!==c.type||Zd(c,b,e,f);var g=this.getNodes(),h=g.length,k=d?c:b;c=(d?b:c).offset;var m=k.offset;b=g[0];B(b)||q(26);d=b.getTextContent().length;var n=
b.getParentOrThrow(),p=g[h-1];if(this.isCollapsed()&&c===d&&(b.isSegmented()||b.isToken()||!b.canInsertTextAfter()||!n.canInsertTextAfter()&&null===b.getNextSibling())){var l=b.getNextSibling();if(!B(l)||Pb(l))l=L(),l.setFormat(e),n.canInsertTextAfter()?b.insertAfter(l):n.insertAfter(l);l.select(0,0);b=l;if(""!==a){this.insertText(a);return;}}else if(this.isCollapsed()&&0===c&&(b.isSegmented()||b.isToken()||!b.canInsertTextBefore()||!n.canInsertTextBefore()&&null===b.getPreviousSibling())){l=b.getPreviousSibling();
if(!B(l)||Pb(l))l=L(),l.setFormat(e),n.canInsertTextBefore()?b.insertBefore(l):n.insertBefore(l);l.select();b=l;if(""!==a){this.insertText(a);return;}}else if(b.isSegmented()&&c!==d)n=L(b.getTextContent()),n.setFormat(e),b.replace(n),b=n;else if(!(this.isCollapsed()||""===a||(l=p.getParent(),n.canInsertTextBefore()&&n.canInsertTextAfter()&&(!F(l)||l.canInsertTextBefore()&&l.canInsertTextAfter())))){this.insertText("");me(this.anchor,this.focus,null);this.insertText(a);return;}if(1===h){if(b.isToken())a=
L(a),a.select(),b.replace(a);else{g=b.getFormat();h=b.getStyle();if(c===m&&(g!==e||h!==f))if(""===b.getTextContent())b.setFormat(e),b.setStyle(f);else{var _b$splitText;g=L(a);g.setFormat(e);g.setStyle(f);g.select();0===c?b.insertBefore(g,!1):((_b$splitText=b.splitText(c),h=_b$splitText[0],_b$splitText),h.insertAfter(g,!1));g.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=a.length);return;}b=b.spliceText(c,m-c,a,!0);""===b.getTextContent()?b.remove():"text"===this.anchor.type&&(b.isComposing()?this.anchor.offset-=a.length:(this.format=g,this.style=
h));}}else{e=new Set([].concat(b.getParentKeys(),p.getParentKeys()));l=F(b)?b:b.getParentOrThrow();f=F(p)?p:p.getParentOrThrow();n=p;if(!l.is(f)&&f.isInline()){do{n=f,f=f.getParentOrThrow();}while(f.isInline());}"text"===k.type&&(0!==m||""===p.getTextContent())||"element"===k.type&&p.getIndexWithinParent()<m?B(p)&&!p.isToken()&&m!==p.getTextContentSize()?(p.isSegmented()&&(k=L(p.getTextContent()),p.replace(k),p=k),p=p.spliceText(0,m,""),e.add(p.__key)):(k=p.getParentOrThrow(),k.canBeEmpty()||1!==k.getChildrenSize()?
p.remove():k.remove()):e.add(p.__key);k=f.getChildren();m=new Set(g);p=l.is(f);l=l.isInline()&&null===b.getNextSibling()?l:b;for(var r=k.length-1;0<=r;r--){var t=k[r];if(t.is(b)||F(t)&&t.isParentOf(b))break;t.isAttached()&&(!m.has(t)||t.is(n)?p||l.insertAfter(t,!1):t.remove());}if(!p)for(k=f,m=null;null!==k;){f=k.getChildren();p=f.length;if(0===p||f[p-1].is(m))e["delete"](k.__key),m=k;k=k.getParent();}b.isToken()?c===d?b.select():(a=L(a),a.select(),b.replace(a)):(b=b.spliceText(c,d-c,a,!0),""===b.getTextContent()?
b.remove():b.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=a.length));for(a=1;a<h;a++){b=g[a],e.has(b.__key)||b.remove();}}};_proto4.removeText=function removeText(){this.insertText("");};_proto4.formatText=function formatText(a){if(this.isCollapsed())this.toggleFormat(a),J(null);else{var b=this.getNodes(),c=[];for(var _iterator6=b,_isArray6=Array.isArray(_iterator6),_i6=0,_iterator6=_isArray6?_iterator6:_iterator6[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref12;if(_isArray6){if(_i6>=_iterator6.length)break;_ref12=_iterator6[_i6++];}else{_i6=_iterator6.next();if(_i6.done)break;_ref12=_i6.value;}var d=_ref12;B(d)&&c.push(d);}var e=c.length;if(0===e)this.toggleFormat(a),J(null);else{d=this.anchor;var f=this.focus,g=this.isBackward();b=g?f:d;d=g?d:f;var h=0,k=c[0];f="element"===b.type?0:b.offset;"text"===b.type&&f===k.getTextContentSize()&&(
h=1,k=c[1],f=0);if(null!=k){g=k.getFormatFlags(a,null);var m=e-1,n=c[m];e="text"===d.type?d.offset:n.getTextContentSize();if(k.is(n))f!==e&&(0===f&&e===k.getTextContentSize()?k.setFormat(g):(a=k.splitText(f,e),a=0===f?a[0]:a[1],a.setFormat(g),"text"===b.type&&b.set(a.__key,0,"text"),"text"===d.type&&d.set(a.__key,e-f,"text")),this.format=g);else{var _k$splitText,_n$splitText;0!==f&&((_k$splitText=k.splitText(f),k=_k$splitText[1],_k$splitText),f=0);k.setFormat(g);var p=n.getFormatFlags(a,g);0<e&&(e!==n.getTextContentSize()&&(_n$splitText=n.splitText(e),n=_n$splitText[0],_n$splitText),n.setFormat(p));for(h+=
1;h<m;h++){var l=c[h];if(!l.isToken()){var r=l.getFormatFlags(a,p);l.setFormat(r);}}"text"===b.type&&b.set(k.__key,f,"text");"text"===d.type&&d.set(n.__key,e,"text");this.format=g|p;}}}}};_proto4.insertNodes=function insertNodes(a,b){var _e2;if(!this.isCollapsed()){var c=this.isBackward()?this.anchor:this.focus,d=c.getNode().getNextSibling();d=d?d.getKey():null;c=(c=c.getNode().getPreviousSibling())?c.getKey():null;this.removeText();if(this.isCollapsed()&&"element"===this.focus.type){if(this.focus.key===d&&0===this.focus.offset){var e=
L();this.focus.getNode().insertBefore(e);}else this.focus.key===c&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(e=L(),this.focus.getNode().insertAfter(e));e&&(this.focus.set(e.__key,0,"text"),this.anchor.set(e.__key,0,"text"));}}e=this.anchor;c=e.offset;var f=e.getNode();d=f;"element"===e.type&&(e=e.getNode(),d=e.getChildAtIndex(c-1),d=null===d?e:d);e=[];var g=f.getNextSiblings(),h=N(f)?null:f.getTopLevelElementOrThrow();if(B(f))if(d=f.getTextContent().length,0===c&&0!==d)d=f.getPreviousSibling(),
d=null!==d?d:f.getParentOrThrow(),e.push(f);else if(c===d)d=f;else{if(f.isToken())return!1;var _f$splitText=f.splitText(c);d=_f$splitText[0];f=_f$splitText[1];e.push(f);}f=d;(_e2=e).push.apply(_e2,g);g=a[0];var k=!1,m=null;for(var r=0;r<a.length;r++){var _d$splitText,_yc;var n=a[r];if(N(d)||z(d)||!F(n)||n.isInline())k&&!z(n)&&N(d.getParent())&&q(28);else{if(n.is(g)){if(F(d)&&d.isEmpty()&&d.canReplaceWith(n)){d.replace(n);d=n;k=!0;continue;}k=n.getFirstDescendant();if(Sb(k)){for(var p=k.getParentOrThrow();p.isInline();){p=p.getParentOrThrow();}m=p.getChildren();k=m.length;if(F(d)){var l=
d.getFirstChild();for(var t=0;t<k;t++){var x=m[t];null===l?d.append(x):l.insertAfter(x);l=x;}}else{for(l=k-1;0<=l;l--){d.insertAfter(m[l]);}d=d.getParentOrThrow();}m=m[k-1];p.remove();k=!0;if(p.is(n))continue;}}B(d)&&(null===h&&q(27),d=h);}k=!1;if(F(d)&&!d.isInline()){if(m=n,z(n)&&!n.isInline())d=d.insertAfter(n,!1);else if(F(n)){if(n.canBeEmpty()||!n.isEmpty())M(d)?(p=d.getChildAtIndex(c),null!==p?p.insertBefore(n):d.append(n),d=n):n.isInline()?(d.append(n),d=n):d=d.insertAfter(n,!1);}else p=d.getFirstChild(),
null!==p?p.insertBefore(n):d.append(n),d=n;}else!F(n)||F(n)&&n.isInline()||z(d)&&!d.isInline()?(m=n,C(this)&&z(n)&&(F(d)||B(d))&&!n.isInline()?(B(d)?(p=d.getParentOrThrow(),(_d$splitText=d.splitText(c),d=_d$splitText[0],_d$splitText),d=d.getIndexWithinParent()+1):(p=d,d=c),(_yc=yc(p,d),d=_yc[1],_yc),d=d.insertBefore(n)):d=d.insertAfter(n,!1)):(n=d.getParentOrThrow(),Tb(d)&&d.remove(),d=n,r--);}b&&(B(f)?f.select():(a=d.getPreviousSibling(),B(a)?a.select():(a=d.getIndexWithinParent(),d.getParentOrThrow().select(a,a))));if(F(d)){if(a=B(m)?m:F(m)&&m.isInline()?
m.getLastDescendant():d.getLastDescendant(),b||(null===a?d.select():B(a)?""===a.getTextContent()?a.selectPrevious():a.select():a.selectNext()),0!==e.length)for(b=d,a=e.length-1;0<=a;a--){c=e[a],h=c.getParentOrThrow(),!F(d)||ne(c)||z(c)&&(!c.isInline()||c.isIsolated())?F(d)||ne(c)?F(c)&&!c.canInsertAfter(d)?(f=h.constructor.clone(h),F(f)||q(29),f.append(c),d.insertAfter(f)):d.insertAfter(c):(d.insertBefore(c),d=c):(b===d?d.append(c):d.insertBefore(c),d=c),h.isEmpty()&&!h.canBeEmpty()&&h.remove();}}else b||(
B(d)?d.select():(b=d.getParentOrThrow(),a=d.getIndexWithinParent()+1,b.select(a,a)));return!0;};_proto4.insertParagraph=function insertParagraph(){this.isCollapsed()||this.removeText();var a=this.anchor,b=a.offset,c=[];if("text"===a.type){var _d$splitText2;var d=a.getNode();var e=d.getNextSiblings().reverse();var f=d.getParentOrThrow();var g=f.isInline(),h=g?f.getTextContentSize():d.getTextContentSize();0===b?e.push(d):(g&&(c=f.getNextSiblings()),b===h||g&&b===d.getTextContentSize()||((_d$splitText2=d.splitText(b),d=_d$splitText2[1],_d$splitText2),e.push(d)));}else{f=a.getNode();if(N(f)){e=$d();
c=f.getChildAtIndex(b);e.select();null!==c?c.insertBefore(e,!1):f.append(e);return;}e=f.getChildren().slice(b).reverse();}d=e.length;if(0===b&&0<d&&f.isInline()){if(c=f.getParentOrThrow(),e=c.insertNewAfter(this,!1),F(e))for(c=c.getChildren(),f=0;f<c.length;f++){e.append(c[f]);}}else if(g=f.insertNewAfter(this,!1),null===g)this.insertLineBreak();else if(F(g))if(h=f.getFirstChild(),0===b&&(f.is(a.getNode())||h&&h.is(a.getNode()))&&0<d)f.insertBefore(g);else{f=null;b=c.length;a=g.getParentOrThrow();if(0<
b)for(h=0;h<b;h++){a.append(c[h]);}if(0!==d)for(c=0;c<d;c++){b=e[c],null===f?g.append(b):f.insertBefore(b),f=b;}g.canBeEmpty()||0!==g.getChildrenSize()?g.selectStart():(g.selectPrevious(),g.remove());}};_proto4.insertLineBreak=function insertLineBreak(a){var b=le();var c=this.anchor;"element"===c.type&&(c=c.getNode(),M(c)&&this.insertParagraph());a?this.insertNodes([b],!0):this.insertNodes([b])&&b.selectNext(0,0);};_proto4.getCharacterOffsets=function getCharacterOffsets(){return fe(this);};_proto4.extract=function extract(){var _f$splitText2,_g$splitText;var a=this.getNodes(),b=a.length,c=b-1,d=this.anchor;var e=this.focus;var f=
a[0];var g=a[c],_fe2=fe(this),h=_fe2[0],k=_fe2[1];if(0===b)return[];if(1===b)return B(f)&&!this.isCollapsed()?(a=h>k?k:h,c=f.splitText(a,h>k?h:k),a=0===a?c[0]:c[1],null!=a?[a]:[]):[f];b=d.isBefore(e);B(f)&&(d=b?h:k,d===f.getTextContentSize()?a.shift():0!==d&&((_f$splitText2=f.splitText(d),f=_f$splitText2[1],_f$splitText2),a[0]=f));B(g)&&(f=g.getTextContent().length,b=b?k:h,0===b?a.pop():b!==f&&((_g$splitText=g.splitText(b),g=_g$splitText[0],_g$splitText),a[c]=g));return a;};_proto4.modify=function modify(a,b,c){var d=this.focus,e=this.anchor,f="move"===a,g=nc(d,b);if(z(g)&&!g.isIsolated())f&&g.isKeyboardSelectable()?(b=oe(),
b.add(g.__key),yb(b)):(a=b?g.getPreviousSibling():g.getNextSibling(),B(a)?(g=a.__key,b=b?a.getTextContent().length:0,d.set(g,b,"text"),f&&e.set(g,b,"text")):(c=g.getParentOrThrow(),F(a)?(c=a.__key,g=b?a.getChildrenSize():0):(g=g.getIndexWithinParent(),c=c.__key,b||g++),d.set(c,g,"element"),f&&e.set(c,g,"element")));else if(e=H(),d=E(e._window)){var h=e._blockCursorElement,k=e._rootElement;null===k||null===h||!F(g)||g.isInline()||g.canBeEmpty()||xc(h,e,k);d.modify(a,b?"backward":"forward",c);if(0<
d.rangeCount&&(g=d.getRangeAt(0),e=this.anchor.getNode(),e=M(e)?e:sc(e),this.applyDOMRange(g),this.dirty=!0,!f)){f=this.getNodes();a=[];c=!1;for(h=0;h<f.length;h++){k=f[h],rc(k,e)?a.push(k):c=!0;}c&&0<a.length&&(b?(b=a[0],F(b)?b.selectStart():b.getParentOrThrow().selectStart()):(b=a[a.length-1],F(b)?b.selectEnd():b.getParentOrThrow().selectEnd()));if(d.anchorNode!==g.startContainer||d.anchorOffset!==g.startOffset)b=this.focus,f=this.anchor,d=f.key,g=f.offset,e=f.type,ae(f,b.key,b.offset,b.type),ae(b,
d,g,e),this._cachedNodes=null;}}};_proto4.deleteCharacter=function deleteCharacter(a){if(this.isCollapsed()){var b=this.anchor,c=this.focus,d=b.getNode();if(!a&&("element"===b.type&&F(d)&&b.offset===d.getChildrenSize()||"text"===b.type&&b.offset===d.getTextContentSize())){var e=d.getParent();e=d.getNextSibling()||(null===e?null:e.getNextSibling());if(F(e)&&!e.canExtractContents())return;}e=nc(c,a);if(z(e)&&!e.isIsolated()){e.isKeyboardSelectable()&&F(d)&&0===d.getChildrenSize()?(d.remove(),a=oe(),a.add(e.__key),yb(a)):e.remove();return;}this.modify("extend",
a,"character");if(!this.isCollapsed()){e="text"===c.type?c.getNode():null;d="text"===b.type?b.getNode():null;if(null!==e&&e.isSegmented()){if(b=c.offset,c=e.getTextContentSize(),e.is(d)||a&&b!==c||!a&&0!==b){pe(e,a,b);return;}}else if(null!==d&&d.isSegmented()&&(b=b.offset,c=d.getTextContentSize(),d.is(e)||a&&0!==b||!a&&b!==c)){pe(d,a,b);return;}d=this.anchor;e=this.focus;b=d.getNode();c=e.getNode();if(b===c&&"text"===d.type&&"text"===e.type){var f=d.offset,g=e.offset;var h=f<g;c=h?f:g;g=h?g:f;f=g-
1;c!==f&&(b=b.getTextContent().slice(c,g),ec(b)||(a?e.offset=f:d.offset=f));}}else if(a&&0===b.offset&&("element"===b.type?b.getNode():b.getNode().getParentOrThrow()).collapseAtStart(this))return;}d=this.isCollapsed();this.removeText();a&&!d&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset&&(a=this.anchor.getNode(),a.isEmpty()&&M(a.getParent())&&0===a.getIndexWithinParent()&&a.collapseAtStart(this));};_proto4.deleteLine=function deleteLine(a){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",
a,"lineboundary"),0===(a?this.focus:this.anchor).offset&&this.modify("extend",a,"character"));this.removeText();};_proto4.deleteWord=function deleteWord(a){this.isCollapsed()&&this.modify("extend",a,"word");this.removeText();};return ce;}();function Qd(a){return a instanceof be;}function qe(a){var b=a.offset;if("text"===a.type)return b;a=a.getNode();return b===a.getChildrenSize()?a.getTextContent().length:0;}
function fe(a){var b=a.anchor;a=a.focus;return"element"===b.type&&"element"===a.type&&b.key===a.key&&b.offset===a.offset?[0,0]:[qe(b),qe(a)];}function pe(a,b,c){var d=a.getTextContent().split(/(?=\s)/g),e=d.length,f=0,g=0;for(var h=0;h<e;h++){var k=d[h],m=h===e-1;g=f;f+=k.length;if(b&&f===c||f>c||m){d.splice(h,1);m&&(g=void 0);break;}}b=d.join("").trim();""===b?a.remove():(a.setTextContent(b),a.select(g,g));}
function re(a,b,c,d){var e=b;if(1===a.nodeType){var h=!1;var f=a.childNodes,g=f.length;e===g&&(h=!0,e=g-1);var k=f[e];g=!1;k===d._blockCursorElement?(k=f[e+1],g=!0):null!==d._blockCursorElement&&e--;d=dc(k);if(B(d))e=h?d.getTextContentSize():0;else{f=dc(a);if(null===f)return null;if(F(f)){a=f.getChildAtIndex(e);if(b=F(a))b=a.getParent(),b=null===c||null===b||!b.canBeEmpty()||b!==c.getNode();b&&(c=h?a.getLastDescendant():a.getFirstDescendant(),null===c?(f=a,e=0):(a=c,f=F(a)?a:a.getParentOrThrow()));
B(a)?(d=a,f=null,e=h?a.getTextContentSize():0):a!==f&&h&&!g&&e++;}else e=f.getIndexWithinParent(),e=0===b&&z(f)&&dc(a)===f?e:e+1,f=f.getParentOrThrow();if(F(f))return new Wd(f.__key,e,"element");}}else d=dc(a);return B(d)?new Wd(d.__key,e,"text"):null;}
function se(a,b,c){var d=a.offset,e=a.getNode();0===d?(d=e.getPreviousSibling(),e=e.getParent(),b)?(c||!b)&&null===d&&F(e)&&e.isInline()&&(b=e.getPreviousSibling(),B(b)&&(a.key=b.__key,a.offset=b.getTextContent().length)):F(d)&&!c&&d.isInline()?(a.key=d.__key,a.offset=d.getChildrenSize(),a.type="element"):B(d)&&(a.key=d.__key,a.offset=d.getTextContent().length):d===e.getTextContent().length&&(d=e.getNextSibling(),e=e.getParent(),b&&F(d)&&d.isInline()?(a.key=d.__key,a.offset=0,a.type="element"):(c||
b)&&null===d&&F(e)&&e.isInline()&&!e.canInsertTextAfter()&&(b=e.getNextSibling(),B(b)&&(a.key=b.__key,a.offset=0)));}function me(a,b,c){if("text"===a.type&&"text"===b.type){var d=a.isBefore(b);var e=a.is(b);se(a,d,e);se(b,!d,e);e&&(b.key=a.key,b.offset=a.offset,b.type=a.type);d=H();d.isComposing()&&d._compositionKey!==a.key&&C(c)&&(d=c.anchor,c=c.focus,ae(a,d.key,d.offset,d.type),ae(b,c.key,c.offset,c.type));}}
function ke(a,b,c,d,e,f){if(null===a||null===c||!Gb(e,a,c))return null;b=re(a,b,C(f)?f.anchor:null,e);if(null===b)return null;d=re(c,d,C(f)?f.focus:null,e);if(null===d||"element"===b.type&&"element"===d.type&&(a=dc(a),c=dc(c),z(a)&&z(c)))return null;me(b,d,f);return[b,d];}function ne(a){return F(a)&&!a.isInline();}function Ce(a,b,c,d,e,f){var g=I();a=new ce(new Wd(a,b,e),new Wd(c,d,f),0,"");a.dirty=!0;return g._selection=a;}function oe(){return new be(new Set());}
function De(a){var b=a.getEditorState()._selection,c=E(a._window);return Qd(b)||ee(b)?b.clone():Ud(b,c,a);}
function Ud(a,b,c){var d=c._window;if(null===d)return null;var e=d.event,f=e?e.type:void 0;d="selectionchange"===f;e=!pb&&(d||"beforeinput"===f||"compositionstart"===f||"compositionend"===f||"click"===f&&e&&3===e.detail||"drop"===f||void 0===f);var g;if(!C(a)||e){if(null===b)return null;e=b.anchorNode;f=b.focusNode;g=b.anchorOffset;b=b.focusOffset;if(d&&C(a)&&!Gb(c,e,f))return a.clone();}else return a.clone();c=ke(e,g,f,b,c,a);if(null===c)return null;var _c=c,h=_c[0],k=_c[1];return new ce(h,k,C(a)?a.format:0,C(a)?
a.style:"");}function v(){return I()._selection;}function ic(){return H()._editorState._selection;}
function Ee(a,b,c,d){if(d===void 0){d=1;}var e=a.anchor,f=a.focus,g=e.getNode(),h=f.getNode();if(b.is(g)||b.is(h))if(g=b.__key,a.isCollapsed())b=e.offset,c<=b&&(c=Math.max(0,b+d),e.set(g,c,"element"),f.set(g,c,"element"),Fe(a));else{var k=a.isBackward();h=k?f:e;var m=h.getNode();e=k?e:f;f=e.getNode();b.is(m)&&(m=h.offset,c<=m&&h.set(g,Math.max(0,m+d),"element"));b.is(f)&&(b=e.offset,c<=b&&e.set(g,Math.max(0,b+d),"element"));Fe(a);}}
function Fe(a){var b=a.anchor,c=b.offset;var d=a.focus;var e=d.offset,f=b.getNode(),g=d.getNode();if(a.isCollapsed())F(f)&&(g=f.getChildrenSize(),g=(e=c>=g)?f.getChildAtIndex(g-1):f.getChildAtIndex(c),B(g)&&(c=0,e&&(c=g.getTextContentSize()),b.set(g.__key,c,"text"),d.set(g.__key,c,"text")));else{if(F(f)){var h=f.getChildrenSize();c=(a=c>=h)?f.getChildAtIndex(h-1):f.getChildAtIndex(c);B(c)&&(f=0,a&&(f=c.getTextContentSize()),b.set(c.__key,f,"text"));}F(g)&&(c=g.getChildrenSize(),e=(b=e>=c)?g.getChildAtIndex(c-
1):g.getChildAtIndex(e),B(e)&&(g=0,b&&(g=e.getTextContentSize()),d.set(e.__key,g,"text")));}}function Ge(a,b){b=b.getEditorState()._selection;a=a._selection;if(C(a)){var c=a.anchor;var d=a.focus,e;"text"===c.type&&(e=c.getNode(),e.selectionTransform(b,a));"text"===d.type&&(c=d.getNode(),e!==c&&c.selectionTransform(b,a));}}
function He(a,b,c,d,e){var f=null,g=0,h=null;null!==d?(f=d.__key,B(d)?(g=d.getTextContentSize(),h="text"):F(d)&&(g=d.getChildrenSize(),h="element")):null!==e&&(f=e.__key,B(e)?h="text":F(e)&&(h="element"));null!==f&&null!==h?a.set(f,g,h):(g=b.getIndexWithinParent(),-1===g&&(g=c.getChildrenSize()),a.set(c.__key,g,"element"));}function Ie(a,b,c,d,e){"text"===a.type?(a.key=c,b||(a.offset+=e)):a.offset>d.getIndexWithinParent()&&--a.offset;}
function je(a,b,c){var d=[],e=null,f=null;a=a.getChildren();for(var n=0;n<a.length;n++){var g=a[n];he(g)||q(108);var h=g.getChildren();g=0;for(var _iterator7=h,_isArray7=Array.isArray(_iterator7),_i7=0,_iterator7=_isArray7?_iterator7:_iterator7[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref13;if(_isArray7){if(_i7>=_iterator7.length)break;_ref13=_iterator7[_i7++];}else{_i7=_iterator7.next();if(_i7.done)break;_ref13=_i7.value;}var p=_ref13;for(ge(p)||q(109);void 0!==d[n]&&void 0!==d[n][g];){g++;}h=n;var k=g,m=p;var l={cell:m,startColumn:k,startRow:h},r=m.__rowSpan,t=m.__colSpan;for(var x=0;x<r;x++){void 0===d[h+x]&&(d[h+x]=[]);for(var y=0;y<t;y++){d[h+x][k+y]=l;}}b.is(m)&&(e=l);c.is(m)&&(f=l);g+=p.__colSpan;}}null===e&&q(110);null===f&&q(111);return[d,e,f];}
var V=null,W=null,Z=!1,Je=!1,Vb=0,Ke={characterData:!0,childList:!0,subtree:!0};function Zb(){return Z||null!==V&&V._readOnly;}function G(){Z&&q(13);}function I(){null===V&&q(15);return V;}function H(){null===W&&q(16);return W;}function Le(a,b,c){var d=b.__type;var e=a._nodes.get(d);void 0===e&&q(30);a=c.get(d);void 0===a&&(a=Array.from(e.transforms),c.set(d,a));c=a.length;for(d=0;d<c&&(a[d](b),b.isAttached());d++){;}}
function Me(a,b){b=b._dirtyLeaves;a=a._nodeMap;for(var _iterator8=b,_isArray8=Array.isArray(_iterator8),_i8=0,_iterator8=_isArray8?_iterator8:_iterator8[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref14;if(_isArray8){if(_i8>=_iterator8.length)break;_ref14=_iterator8[_i8++];}else{_i8=_iterator8.next();if(_i8.done)break;_ref14=_i8.value;}var c=_ref14;b=a.get(c),B(b)&&b.isAttached()&&b.isSimpleText()&&!b.isUnmergeable()&&Nc(b);}}
function Ne(a,b){var c=b._dirtyLeaves,d=b._dirtyElements;a=a._nodeMap;var e=Yb(),f=new Map();var g=c;var h=g.size;for(var k=d,m=k.size;0<h||0<m;){if(0<h){b._dirtyLeaves=new Set();for(var _iterator9=g,_isArray9=Array.isArray(_iterator9),_i9=0,_iterator9=_isArray9?_iterator9:_iterator9[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref15;if(_isArray9){if(_i9>=_iterator9.length)break;_ref15=_iterator9[_i9++];}else{_i9=_iterator9.next();if(_i9.done)break;_ref15=_i9.value;}var n=_ref15;g=a.get(n),B(g)&&g.isAttached()&&g.isSimpleText()&&!g.isUnmergeable()&&Nc(g),void 0!==g&&void 0!==g&&g.__key!==e&&g.isAttached()&&Le(b,g,f),c.add(n);}g=b._dirtyLeaves;h=g.size;if(0<h){Vb++;continue;}}b._dirtyLeaves=new Set();b._dirtyElements=new Map();for(var _iterator10=k,_isArray10=Array.isArray(_iterator10),_i10=0,_iterator10=_isArray10?_iterator10:_iterator10[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref16;if(_isArray10){if(_i10>=_iterator10.length)break;_ref16=_iterator10[_i10++];}else{_i10=_iterator10.next();if(_i10.done)break;_ref16=_i10.value;}var _n=_ref16;if(k=_n[0],m=_n[1],"root"===k||m)g=a.get(k),void 0!==
g&&void 0!==g&&g.__key!==e&&g.isAttached()&&Le(b,g,f),d.set(k,m);}g=b._dirtyLeaves;h=g.size;k=b._dirtyElements;m=k.size;Vb++;}b._dirtyLeaves=c;b._dirtyElements=d;}function Oe(a,b){var c=b.get(a.type);void 0===c&&q(17);c=c.klass;a.type!==c.getType()&&q(18);c=c.importJSON(a);a=a.children;if(F(c)&&Array.isArray(a))for(var d=0;d<a.length;d++){var e=Oe(a[d],b);c.append(e);}return c;}function Pe(a,b){var c=V,d=Z,e=W;V=a;Z=!0;W=null;try{return b();}finally{V=c,Z=d,W=e;}}
function Qe(a){var b=a._pendingEditorState,c=a._rootElement,d=a._headless||null===c;if(null!==b){var e=a._editorState,f=e._selection,g=b._selection,h=0!==a._dirtyType,k=V,m=Z,n=W,p=a._updating,l=a._observer,r=null;a._pendingEditorState=null;a._editorState=b;if(!d&&h&&null!==l){W=a;V=b;Z=!1;a._updating=!0;try{var D=a._dirtyType,O=a._dirtyElements,P=a._dirtyLeaves;l.disconnect();var t=D,x=O,y=P;R=Qc=Q="";Tc=2===t;Wc=null;S=a;Rc=a._config;Sc=a._nodes;Vc=S._listeners.mutation;Xc=x;Yc=y;Zc=e._nodeMap;
$c=b._nodeMap;Uc=b._readOnly;ad=new Map(a._keyToDOMMap);var ba=new Map();bd=ba;pd("root",null);bd=ad=Rc=$c=Zc=Yc=Xc=Sc=S=void 0;r=ba;}catch(D){D instanceof Error&&a._onError(D);if(Je)throw D;Re(a,null,c,b);Bb(a);a._dirtyType=2;Je=!0;Qe(a);Je=!1;return;}finally{l.observe(c,Ke),a._updating=p,V=k,Z=m,W=n;}}b._readOnly||(b._readOnly=!0);var A=a._dirtyLeaves,X=a._dirtyElements,Y=a._normalizedNodes,na=a._updateTags,oa=a._deferred;h&&(a._dirtyType=0,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set(),a._dirtyElements=
new Map(),a._normalizedNodes=new Set(),a._updateTags=new Set());var te=a._decorators,Hb=a._pendingDecorators||te,qf=b._nodeMap,Fc;for(Fc in Hb){qf.has(Fc)||(Hb===te&&(Hb=$b(a)),delete Hb[Fc]);}var ca=d?null:E(a._window);if(a._editable&&null!==ca&&(h||null===g||g.dirty)){W=a;V=b;try{null!==l&&l.disconnect();if(h||null===g||g.dirty){var _D=a._blockCursorElement;null!==_D&&xc(_D,a,c);a:{var _O=ca.anchorNode,_P=ca.focusNode,_ba=ca.anchorOffset,fb=ca.focusOffset,U=document.activeElement;if(!(na.has("collaboration")&&
U!==c||null!==U&&Fb(U)))if(C(g)){var gb=g.anchor,Gc=g.focus,ue=gb.key,rf=Gc.key,ve=pc(a,ue),we=pc(a,rf),Ib=gb.offset,xe=Gc.offset,Hc=g.format,Ic=g.style,ye=g.isCollapsed(),hb=ve,Jb=we,Jc=!1;if("text"===gb.type){hb=Qb(ve);var da=gb.getNode();Jc=da.getFormat()!==Hc||da.getStyle()!==Ic;}else C(f)&&"text"===f.anchor.type&&(Jc=!0);"text"===Gc.type&&(Jb=Qb(we));if(null!==hb&&null!==Jb){if(ye&&(null===f||Jc||C(f)&&(f.format!==Hc||f.style!==Ic))){var sf=performance.now();Jd=[Hc,Ic,Ib,ue,sf];}if(_ba===Ib&&fb===
xe&&_O===hb&&_P===Jb&&("Range"!==ca.type||!ye)&&(null!==U&&c.contains(U)||c.focus({preventScroll:!0}),"element"!==gb.type))break a;try{ca.setBaseAndExtent(hb,Ib,Jb,xe);}catch(da){}if(!na.has("skip-scroll-into-view")&&g.isCollapsed()&&null!==c&&c===document.activeElement){var _da=g instanceof ce&&"element"===g.anchor.type?hb.childNodes[Ib]||null:0<ca.rangeCount?ca.getRangeAt(0):null;if(null!==_da){var ea=_da.getBoundingClientRect(),ua=c.ownerDocument,Da=ua.defaultView;if(null!==Da)for(var Kc=
ea.top,Lc=ea.bottom,Kb,Lb,la=c;null!==la;){var fa=la===ua.body;if(fa)Kb=0,Lb=Cb(a).innerHeight;else{var Mb=la.getBoundingClientRect();Kb=Mb.top;Lb=Mb.bottom;}var Ea=0;Kc<Kb?Ea=-(Kb-Kc):Lc>Lb&&(Ea=Lc-Lb);if(0!==Ea)if(fa)Da.scrollBy(0,Ea);else{var _Mb=la.scrollTop;la.scrollTop+=Ea;var ze=la.scrollTop-_Mb;Kc-=ze;Lc-=ze;}if(fa)break;la=Ob(la);}}}Fd=!0;}}else null!==f&&Gb(a,_O,_P)&&ca.removeAllRanges();}}a:{var _D2=a._blockCursorElement;if(C(g)&&g.isCollapsed()&&"element"===g.anchor.type&&c.contains(document.activeElement)){var _O2=
g.anchor,_P2=_O2.getNode(),_ba2=_O2.offset,_fb=_P2.getChildrenSize(),_U=!1,_da2=null;if(_ba2===_fb){var _ea=_P2.getChildAtIndex(_ba2-1);wc(_ea)&&(_U=!0);}else{var _ea2=_P2.getChildAtIndex(_ba2);if(wc(_ea2)){var _ua=_ea2.getPreviousSibling();if(null===_ua||wc(_ua))_U=!0,_da2=a.getElementByKey(_ea2.__key);}}if(_U){var _ea3=a.getElementByKey(_P2.__key);if(null===_D2){var _ua2=a._config.theme,_Da=document.createElement("div");_Da.contentEditable="false";_Da.setAttribute("data-lexical-cursor","true");var _fa=_ua2.blockCursor;if(void 0!==_fa){var _Da$classList;if("string"===typeof _fa){var _Ea=
_fa.split(" ");_fa=_ua2.blockCursor=_Ea;}void 0!==_fa&&(_Da$classList=_Da.classList).add.apply(_Da$classList,_fa);}a._blockCursorElement=_D2=_Da;}c.style.caretColor="transparent";null===_da2?_ea3.appendChild(_D2):_ea3.insertBefore(_D2,_da2);break a;}}null!==_D2&&xc(_D2,a,c);}null!==l&&l.observe(c,Ke);}finally{W=n,V=k;}}if(null!==r){var tf=r;var _D3=Array.from(a._listeners.mutation),_O3=_D3.length;for(var _P3=0;_P3<_O3;_P3++){var _D3$_P=_D3[_P3],_ba3=_D3$_P[0],_fb2=_D3$_P[1],_U2=tf.get(_fb2);void 0!==_U2&&_ba3(_U2,{dirtyLeaves:A,updateTags:na});}}C(g)||null===g||null!==f&&f.is(g)||a.dispatchCommand(aa,void 0);var Mc=a._pendingDecorators;
null!==Mc&&(a._decorators=Mc,a._pendingDecorators=null,Se("decorator",a,!0,Mc));var uf=ac(e),Ae=ac(b);uf!==Ae&&Se("textcontent",a,!0,Ae);Se("update",a,!0,{dirtyElements:X,dirtyLeaves:A,editorState:b,normalizedNodes:Y,prevEditorState:e,tags:na});a._deferred=[];if(0!==oa.length){var _D4=a._updating;a._updating=!0;try{for(var _O4=0;_O4<oa.length;_O4++){oa[_O4]();}}finally{a._updating=_D4;}}var Be=a._updates;if(0!==Be.length){var _D5=Be.shift();if(_D5){var _O5=_D5[0],_P4=_D5[1];Te(a,_O5,_P4);}}}}
function Se(a,b,c){var e=b._updating;b._updating=c;try{var f=Array.from(b._listeners[a]);for(var _len=arguments.length,d=new Array(_len>3?_len-3:0),_key=3;_key<_len;_key++){d[_key-3]=arguments[_key];}for(a=0;a<f.length;a++){f[a].apply(null,d);}}finally{b._updating=e;}}function T(a,b,c){if(!1===a._updating||W!==a){var f=!1;a.update(function(){f=T(a,b,c);});return f;}var d=fc(a);for(var _f=4;0<=_f;_f--){for(var g=0;g<d.length;g++){var e=d[g]._commands.get(b);if(void 0!==e&&(e=e[_f],void 0!==e)){e=Array.from(e);var h=e.length;for(var k=0;k<h;k++){if(!0===e[k](c,a))return!0;}}}}return!1;}
function Ue(a,b){var c=a._updates;for(b=b||!1;0!==c.length;){var d=c.shift();if(d){var _d3=d,e=_d3[0],f=_d3[1],g=void 0;void 0!==f&&(d=f.onUpdate,g=f.tag,f.skipTransforms&&(b=!0),d&&a._deferred.push(d),g&&a._updateTags.add(g));e();}}return b;}
function Te(a,b,c){var d=a._updateTags;var e,f=e=!1;if(void 0!==c){var g=c.onUpdate;e=c.tag;null!=e&&d.add(e);e=c.skipTransforms||!1;f=c.discrete||!1;}g&&a._deferred.push(g);c=a._editorState;g=a._pendingEditorState;var h=!1;if(null===g||g._readOnly)g=a._pendingEditorState=new Ve(new Map((g||c)._nodeMap)),h=!0;g._flushSync=f;f=V;var k=Z,m=W,n=a._updating;V=g;Z=!1;a._updating=!0;W=a;try{h&&(a._headless?null!=c._selection&&(g._selection=c._selection.clone()):g._selection=De(a));var p=a._compositionKey;
b();e=Ue(a,e);Ge(g,a);0!==a._dirtyType&&(e?Me(g,a):Ne(g,a),Ue(a),Cc(c,g,a._dirtyLeaves,a._dirtyElements));p!==a._compositionKey&&(g._flushSync=!0);var l=g._selection;if(C(l)){var r=g._nodeMap,t=l.focus.key;void 0!==r.get(l.anchor.key)&&void 0!==r.get(t)||q(19);}else Qd(l)&&0===l._nodes.size&&(g._selection=null);}catch(p){p instanceof Error&&a._onError(p);a._pendingEditorState=c;a._dirtyType=2;a._cloneNotNeeded.clear();a._dirtyLeaves=new Set();a._dirtyElements.clear();Qe(a);return;}finally{V=f,Z=k,W=m,
a._updating=n,Vb=0;}0!==a._dirtyType||We(g,a)?g._flushSync?(g._flushSync=!1,Qe(a)):h&&Eb(function(){Qe(a);}):(g._flushSync=!1,h&&(d.clear(),a._deferred=[],a._pendingEditorState=null));}function w(a,b,c){a._updating?a._updates.push([b,c]):Te(a,b,c);}
function Xe(a,b,c){G();var d=a.__key;var e=a.getParent();if(null!==e){var f=qc(a),g=!1;if(C(f)&&b){var h=f.anchor,k=f.focus;h.key===d&&(He(h,a,e,a.getPreviousSibling(),a.getNextSibling()),g=!0);k.key===d&&(He(k,a,e,a.getPreviousSibling(),a.getNextSibling()),g=!0);}C(f)&&b&&!g?(d=a.getIndexWithinParent(),Wb(a),Ee(f,e,d,-1)):Wb(a);c||N(e)||e.canBeEmpty()||!e.isEmpty()||Xe(e,b);b&&M(e)&&e.isEmpty()&&e.selectEnd();}}var
Ye=function(){Ye.getType=function getType(){q(64);};Ye.clone=function clone(){q(65);};function Ye(a){this.__type=this.constructor.getType();this.__next=this.__prev=this.__parent=null;Ub(this,a);}var _proto5=Ye.prototype;_proto5.getType=function getType(){return this.__type;};_proto5.isAttached=function isAttached(){for(var a=this.__key;null!==a;){if("root"===a)return!0;a=K(a);if(null===a)break;a=a.__parent;}return!1;};_proto5.isSelected=function isSelected(a){var _this5=this;a=a||v();if(null==a)return!1;var b=a.getNodes().some(function(c){return c.__key===_this5.__key;});return B(this)?b:C(a)&&"element"===a.anchor.type&&"element"===a.focus.type&&a.anchor.key===a.focus.key&&
a.anchor.offset===a.focus.offset?!1:b;};_proto5.getKey=function getKey(){return this.__key;};_proto5.getIndexWithinParent=function getIndexWithinParent(){var a=this.getParent();if(null===a)return-1;a=a.getFirstChild();var b=0;for(;null!==a;){if(this.is(a))return b;b++;a=a.getNextSibling();}return-1;};_proto5.getParent=function getParent(){var a=this.getLatest().__parent;return null===a?null:K(a);};_proto5.getParentOrThrow=function getParentOrThrow(){var a=this.getParent();null===a&&q(66);return a;};_proto5.getTopLevelElement=function getTopLevelElement(){var a=this;for(;null!==a;){var b=a.getParent();if(N(b))return a;a=b;}return null;};_proto5.getTopLevelElementOrThrow=function getTopLevelElementOrThrow(){var a=
this.getTopLevelElement();null===a&&q(67);return a;};_proto5.getParents=function getParents(){var a=[],b=this.getParent();for(;null!==b;){a.push(b),b=b.getParent();}return a;};_proto5.getParentKeys=function getParentKeys(){var a=[],b=this.getParent();for(;null!==b;){a.push(b.__key),b=b.getParent();}return a;};_proto5.getPreviousSibling=function getPreviousSibling(){var a=this.getLatest().__prev;return null===a?null:K(a);};_proto5.getPreviousSiblings=function getPreviousSiblings(){var a=[];var b=this.getParent();if(null===b)return a;for(b=b.getFirstChild();null!==b&&!b.is(this);){a.push(b),b=b.getNextSibling();}return a;};_proto5.getNextSibling=function getNextSibling(){var a=
this.getLatest().__next;return null===a?null:K(a);};_proto5.getNextSiblings=function getNextSiblings(){var a=[],b=this.getNextSibling();for(;null!==b;){a.push(b),b=b.getNextSibling();}return a;};_proto5.getCommonAncestor=function getCommonAncestor(a){var b=this.getParents();var c=a.getParents();F(this)&&b.unshift(this);F(a)&&c.unshift(a);a=b.length;var d=c.length;if(0===a||0===d||b[a-1]!==c[d-1])return null;c=new Set(c);for(d=0;d<a;d++){var e=b[d];if(c.has(e))return e;}return null;};_proto5.is=function is(a){return null==a?!1:this.__key===a.__key;};_proto5.isBefore=function isBefore(a){if(this===a)return!1;if(a.isParentOf(this))return!0;
if(this.isParentOf(a))return!1;var b=this.getCommonAncestor(a);var c=this;for(;;){var d=c.getParentOrThrow();if(d===b){d=c.getIndexWithinParent();break;}c=d;}for(c=a;;){a=c.getParentOrThrow();if(a===b){b=c.getIndexWithinParent();break;}c=a;}return d<b;};_proto5.isParentOf=function isParentOf(a){var b=this.__key;if(b===a.__key)return!1;for(;null!==a;){if(a.__key===b)return!0;a=a.getParent();}return!1;};_proto5.getNodesBetween=function getNodesBetween(a){var b=this.isBefore(a),c=[],d=new Set();for(var e=this;;){var f=e.__key;d.has(f)||(d.add(f),c.push(e));if(e===a)break;
f=F(e)?b?e.getFirstChild():e.getLastChild():null;if(null!==f)e=f;else if(f=b?e.getNextSibling():e.getPreviousSibling(),null!==f)e=f;else{e=e.getParentOrThrow();d.has(e.__key)||c.push(e);if(e===a)break;f=e;do{null===f&&q(68),e=b?f.getNextSibling():f.getPreviousSibling(),f=f.getParent(),null!==f&&(null!==e||d.has(f.__key)||c.push(f));}while(null===e);}}b||c.reverse();return c;};_proto5.isDirty=function isDirty(){var a=H()._dirtyLeaves;return null!==a&&a.has(this.__key);};_proto5.getLatest=function getLatest(){var a=K(this.__key);null===a&&q(113);return a;};_proto5.getWritable=function getWritable(){G();
var a=I(),b=H();a=a._nodeMap;var c=this.__key,d=this.getLatest(),e=d.__parent;b=b._cloneNotNeeded;var f=v();null!==f&&(f._cachedNodes=null);if(b.has(c))return Xb(d),d;f=d.constructor.clone(d);f.__parent=e;f.__next=d.__next;f.__prev=d.__prev;F(d)&&F(f)?(f.__first=d.__first,f.__last=d.__last,f.__size=d.__size,f.__indent=d.__indent,f.__format=d.__format,f.__dir=d.__dir):B(d)&&B(f)&&(f.__format=d.__format,f.__style=d.__style,f.__mode=d.__mode,f.__detail=d.__detail);b.add(c);f.__key=c;Xb(f);a.set(c,f);
return f;};_proto5.getTextContent=function getTextContent(){return"";};_proto5.getTextContentSize=function getTextContentSize(){return this.getTextContent().length;};_proto5.createDOM=function createDOM(){q(70);};_proto5.updateDOM=function updateDOM(){q(71);};_proto5.exportDOM=function exportDOM(a){return{element:this.createDOM(a._config,a)};};_proto5.exportJSON=function exportJSON(){q(72);};Ye.importJSON=function importJSON(){q(18);};Ye.transform=function transform(){return null;};_proto5.remove=function remove(a){Xe(this,!0,a);};_proto5.replace=function replace(a,b){G();var c=v();null!==c&&(c=c.clone());vc(this,a);var d=this.getLatest(),e=this.__key,f=a.__key,g=a.getWritable();a=this.getParentOrThrow().getWritable();var h=a.__size;Wb(g);var k=d.getPreviousSibling(),
m=d.getNextSibling(),n=d.__prev,p=d.__next,l=d.__parent;Xe(d,!1,!0);null===k?a.__first=f:k.getWritable().__next=f;g.__prev=n;null===m?a.__last=f:m.getWritable().__prev=f;g.__next=p;g.__parent=l;a.__size=h;b&&this.getChildren().forEach(function(r){g.append(r);});C(c)&&(yb(c),b=c.anchor,c=c.focus,b.key===e&&Yd(b,g),c.key===e&&Yd(c,g));Yb()===e&&J(f);return g;};_proto5.insertAfter=function insertAfter(a,b){if(b===void 0){b=!0;}G();vc(this,a);var c=this.getWritable();var d=a.getWritable();var e=d.getParent();var f=v();var g=!1,h=!1;if(null!==e){var k=a.getIndexWithinParent();
Wb(d);C(f)&&(h=e.__key,g=f.anchor,e=f.focus,g="element"===g.type&&g.key===h&&g.offset===k+1,h="element"===e.type&&e.key===h&&e.offset===k+1);}e=this.getNextSibling();k=this.getParentOrThrow().getWritable();var m=d.__key,n=c.__next;null===e?k.__last=m:e.getWritable().__prev=m;k.__size++;c.__next=m;d.__next=n;d.__prev=c.__key;d.__parent=c.__parent;b&&C(f)&&(b=this.getIndexWithinParent(),Ee(f,k,b+1),c=k.__key,g&&f.anchor.set(c,b+2,"element"),h&&f.focus.set(c,b+2,"element"));return a;};_proto5.insertBefore=function insertBefore(a,b)
{if(b===void 0){b=!0;}G();vc(this,a);var c=this.getWritable();var d=a.getWritable(),e=d.__key;Wb(d);var f=this.getPreviousSibling(),g=this.getParentOrThrow().getWritable(),h=c.__prev,k=this.getIndexWithinParent();null===f?g.__first=e:f.getWritable().__next=e;g.__size++;c.__prev=e;d.__prev=h;d.__next=c.__key;d.__parent=c.__parent;c=v();b&&C(c)&&(b=this.getParentOrThrow(),Ee(c,b,k));return a;};_proto5.isParentRequired=function isParentRequired(){return!1;};_proto5.createParentElementNode=function createParentElementNode(){return $d();};_proto5.selectPrevious=function selectPrevious(a,b){G();var c=this.getPreviousSibling(),d=this.getParentOrThrow();
return null===c?d.select(0,0):F(c)?c.select():B(c)?c.select(a,b):(a=c.getIndexWithinParent()+1,d.select(a,a));};_proto5.selectNext=function selectNext(a,b){G();var c=this.getNextSibling(),d=this.getParentOrThrow();return null===c?d.select():F(c)?c.select(0,0):B(c)?c.select(a,b):(a=c.getIndexWithinParent(),d.select(a,a));};_proto5.markDirty=function markDirty(){this.getWritable();};return Ye;}();var Ze=function(_Ye){babelHelpers.inheritsLoose(Ze,_Ye);function Ze(a){return _Ye.call(this,a)||this;}var _proto6=Ze.prototype;_proto6.decorate=function decorate(){q(47);};_proto6.isIsolated=function isIsolated(){return!1;};_proto6.isInline=function isInline(){return!0;};_proto6.isKeyboardSelectable=function isKeyboardSelectable(){return!0;};return Ze;}(Ye);function z(a){return a instanceof Ze;}var
$e=function(_Ye2){babelHelpers.inheritsLoose($e,_Ye2);function $e(a){var _this;_this=_Ye2.call(this,a)||this;_this.__last=_this.__first=null;_this.__indent=_this.__format=_this.__size=0;_this.__dir=null;return _this;}var _proto7=$e.prototype;_proto7.getFormat=function getFormat(){return this.getLatest().__format;};_proto7.getFormatType=function getFormatType(){var a=this.getFormat();return mb[a]||"";};_proto7.getIndent=function getIndent(){return this.getLatest().__indent;};_proto7.getChildren=function getChildren(){var a=[],b=this.getFirstChild();for(;null!==b;){a.push(b),b=b.getNextSibling();}return a;};_proto7.getChildrenKeys=function getChildrenKeys(){var a=[],b=this.getFirstChild();for(;null!==b;){a.push(b.__key),b=b.getNextSibling();}return a;};_proto7.getChildrenSize=function getChildrenSize(){return this.getLatest().__size;};_proto7.isEmpty=function isEmpty(){return 0===
this.getChildrenSize();};_proto7.isDirty=function isDirty(){var a=H()._dirtyElements;return null!==a&&a.has(this.__key);};_proto7.isLastChild=function isLastChild(){var a=this.getLatest(),b=this.getParentOrThrow().getLastChild();return null!==b&&b.is(a);};_proto7.getAllTextNodes=function getAllTextNodes(){var a=[],b=this.getFirstChild();for(;null!==b;){B(b)&&a.push(b);if(F(b)){var c=b.getAllTextNodes();a.push.apply(a,c);}b=b.getNextSibling();}return a;};_proto7.getFirstDescendant=function getFirstDescendant(){var a=this.getFirstChild();for(;null!==a;){if(F(a)){var b=a.getFirstChild();if(null!==b){a=b;continue;}}break;}return a;};_proto7.getLastDescendant=function getLastDescendant(){var a=
this.getLastChild();for(;null!==a;){if(F(a)){var b=a.getLastChild();if(null!==b){a=b;continue;}}break;}return a;};_proto7.getDescendantByIndex=function getDescendantByIndex(a){var b=this.getChildren(),c=b.length;if(a>=c)return a=b[c-1],F(a)&&a.getLastDescendant()||a||null;a=b[a];return F(a)&&a.getFirstDescendant()||a||null;};_proto7.getFirstChild=function getFirstChild(){var a=this.getLatest().__first;return null===a?null:K(a);};_proto7.getFirstChildOrThrow=function getFirstChildOrThrow(){var a=this.getFirstChild();null===a&&q(45);return a;};_proto7.getLastChild=function getLastChild(){var a=this.getLatest().__last;return null===a?null:K(a);};_proto7.getLastChildOrThrow=function getLastChildOrThrow(){var a=
this.getLastChild();null===a&&q(96);return a;};_proto7.getChildAtIndex=function getChildAtIndex(a){var b=this.getChildrenSize();var c;if(a<b/2){c=this.getFirstChild();for(b=0;null!==c&&b<=a;){if(b===a)return c;c=c.getNextSibling();b++;}return null;}c=this.getLastChild();for(--b;null!==c&&b>=a;){if(b===a)return c;c=c.getPreviousSibling();b--;}return null;};_proto7.getTextContent=function getTextContent(){var a="",b=this.getChildren(),c=b.length;for(var d=0;d<c;d++){var e=b[d];a+=e.getTextContent();F(e)&&d!==c-1&&!e.isInline()&&(a+="\n\n");}return a;};_proto7.getTextContentSize=function getTextContentSize(){var a=
0,b=this.getChildren(),c=b.length;for(var d=0;d<c;d++){var e=b[d];a+=e.getTextContentSize();F(e)&&d!==c-1&&!e.isInline()&&(a+=2);}return a;};_proto7.getDirection=function getDirection(){return this.getLatest().__dir;};_proto7.hasFormat=function hasFormat(a){return""!==a?(a=lb[a],0!==(this.getFormat()&a)):!1;};_proto7.select=function select(a,b){G();var c=v(),d=a,e=b;var f=this.getChildrenSize();if(!this.canBeEmpty())if(0===a&&0===b){if(a=this.getFirstChild(),B(a)||F(a))return a.select(0,0);}else if(!(void 0!==a&&a!==f||void 0!==b&&b!==f)&&(a=this.getLastChild(),B(a)||F(a)))return a.select();
void 0===d&&(d=f);void 0===e&&(e=f);f=this.__key;if(C(c))c.anchor.set(f,d,"element"),c.focus.set(f,e,"element"),c.dirty=!0;else return Ce(f,d,f,e,"element","element");return c;};_proto7.selectStart=function selectStart(){var a=this.getFirstDescendant();return F(a)||B(a)?a.select(0,0):null!==a?a.selectPrevious():this.select(0,0);};_proto7.selectEnd=function selectEnd(){var a=this.getLastDescendant();return F(a)||B(a)?a.select():null!==a?a.selectNext():this.select();};_proto7.clear=function clear(){var a=this.getWritable();this.getChildren().forEach(function(b){return b.remove();});return a;};_proto7.append=function append(){for(var _len2=arguments.length,a=new Array(_len2),_key2=0;_key2<_len2;_key2++){a[_key2]=arguments[_key2];}return this.splice(this.getChildrenSize(),
0,a);};_proto7.setDirection=function setDirection(a){var b=this.getWritable();b.__dir=a;return b;};_proto7.setFormat=function setFormat(a){this.getWritable().__format=""!==a?lb[a]:0;return this;};_proto7.setIndent=function setIndent(a){this.getWritable().__indent=a;return this;};_proto7.splice=function splice(a,b,c){var d=c.length,e=this.getChildrenSize(),f=this.getWritable(),g=f.__key;var h=[],k=[];var m=this.getChildAtIndex(a+b),n=null,p=e-b+d;if(0!==a)if(a===e)n=this.getLastChild();else{var l=this.getChildAtIndex(a);null!==l&&(n=l.getPreviousSibling());}if(0<b){var r=null===n?this.getFirstChild():n.getNextSibling();
for(l=0;l<b;l++){null===r&&q(100);var t=r.getNextSibling(),x=r.__key;r=r.getWritable();Wb(r);k.push(x);r=t;}}l=n;for(t=0;t<d;t++){x=c[t];null!==l&&x.is(l)&&(n=l=l.getPreviousSibling());r=x.getWritable();r.__parent===g&&p--;Wb(r);var y=x.__key;null===l?(f.__first=y,r.__prev=null):(l=l.getWritable(),l.__next=y,r.__prev=l.__key);x.__key===g&&q(76);r.__parent=g;h.push(y);l=x;}a+b===e?null!==l&&(l.getWritable().__next=null,f.__last=l.__key):null!==m&&(a=m.getWritable(),null!==l?(b=l.getWritable(),a.__prev=
l.__key,b.__next=m.__key):a.__prev=null);f.__size=p;if(k.length&&(a=v(),C(a))){k=new Set(k);h=new Set(h);var _a2=a,_y=_a2.anchor,A=_a2.focus;af(_y,k,h)&&He(_y,_y.getNode(),this,n,m);af(A,k,h)&&He(A,A.getNode(),this,n,m);0!==p||this.canBeEmpty()||N(this)||this.remove();}return f;};_proto7.exportJSON=function exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1};};_proto7.insertNewAfter=function insertNewAfter(){return null;};_proto7.canInsertTab=function canInsertTab(){return!1;};_proto7.canIndent=function canIndent(){return!0;};_proto7.collapseAtStart=function collapseAtStart(){return!1;};_proto7.excludeFromCopy=function excludeFromCopy(){return!1;};_proto7.canExtractContents=function canExtractContents(){return!0;};_proto7.canReplaceWith=function canReplaceWith(){return!0;};_proto7.canInsertAfter=function canInsertAfter(){return!0;};_proto7.canBeEmpty=function canBeEmpty(){return!0;};_proto7.canInsertTextBefore=function canInsertTextBefore(){return!0;};_proto7.canInsertTextAfter=function canInsertTextAfter(){return!0;};_proto7.isInline=function isInline(){return!1;};_proto7.isShadowRoot=function isShadowRoot(){return!1;};_proto7.canMergeWith=function canMergeWith(){return!1;};_proto7.extractWithChild=function extractWithChild(){return!1;};return $e;}(Ye);
function F(a){return a instanceof $e;}function af(a,b,c){for(a=a.getNode();a;){var d=a.__key;if(b.has(d)&&!c.has(d))return!0;a=a.getParent();}return!1;}var
bf=function(_$e){babelHelpers.inheritsLoose(bf,_$e);bf.getType=function getType(){return"root";};bf.clone=function clone(){return new bf();};function bf(){var _this2;_this2=_$e.call(this,"root")||this;_this2.__cachedText=null;return _this2;}var _proto8=bf.prototype;_proto8.getTopLevelElementOrThrow=function getTopLevelElementOrThrow(){q(51);};_proto8.getTextContent=function getTextContent(){var a=this.__cachedText;return!Zb()&&0!==H()._dirtyType||null===a?_$e.prototype.getTextContent.call(this):a;};_proto8.remove=function remove(){q(52);};_proto8.replace=function replace(){q(53);};_proto8.insertBefore=function insertBefore(){q(54);};_proto8.insertAfter=function insertAfter(){q(55);};_proto8.updateDOM=function updateDOM(){return!1;};_proto8.append=function append(){var _$e$prototype$append;for(var _len3=arguments.length,a=new Array(_len3),_key3=0;_key3<_len3;_key3++){a[_key3]=arguments[_key3];}for(var b=0;b<a.length;b++){var c=a[b];F(c)||z(c)||q(56);}return(_$e$prototype$append=_$e.prototype.append).call.apply(_$e$prototype$append,[this].concat(a));};bf.importJSON=function importJSON(a){var b=bc();b.setFormat(a.format);
b.setIndent(a.indent);b.setDirection(a.direction);return b;};_proto8.exportJSON=function exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1};};_proto8.collapseAtStart=function collapseAtStart(){return!0;};return bf;}($e);function M(a){return a instanceof bf;}function We(a,b){b=b.getEditorState()._selection;a=a._selection;if(null!==a){if(a.dirty||!a.is(b))return!0;}else if(null!==b)return!0;return!1;}function cf(){return new Ve(new Map([["root",new bf()]]));}
function df(a){var b=a.exportJSON();b.type!==a.constructor.getType()&&q(58);var c=b.children;if(F(a)){Array.isArray(c)||q(59);a=a.getChildren();for(var d=0;d<a.length;d++){var e=df(a[d]);c.push(e);}}return b;}var
Ve=function(){function Ve(a,b){this._nodeMap=a;this._selection=b||null;this._readOnly=this._flushSync=!1;}var _proto9=Ve.prototype;_proto9.isEmpty=function isEmpty(){return 1===this._nodeMap.size&&null===this._selection;};_proto9.read=function read(a){return Pe(this,a);};_proto9.clone=function clone(a){a=new Ve(this._nodeMap,void 0===a?this._selection:a);a._readOnly=!0;return a;};_proto9.toJSON=function toJSON(){return Pe(this,function(){return{root:df(bc())};});};return Ve;}();var
ef=function(_Ye3){babelHelpers.inheritsLoose(ef,_Ye3);ef.getType=function getType(){return"linebreak";};ef.clone=function clone(a){return new ef(a.__key);};function ef(a){return _Ye3.call(this,a)||this;}var _proto10=ef.prototype;_proto10.getTextContent=function getTextContent(){return"\n";};_proto10.createDOM=function createDOM(){return document.createElement("br");};_proto10.updateDOM=function updateDOM(){return!1;};ef.importDOM=function importDOM(){return{br:function br(a){var b=a.parentElement;return null!=b&&b.firstChild===a&&b.lastChild===a?null:{conversion:ff,priority:0};}};};ef.importJSON=function importJSON(){return le();};_proto10.exportJSON=function exportJSON(){return{type:"linebreak",version:1};};return ef;}(Ye);function ff(){return{node:le()};}function le(){return uc(new ef());}
function Tb(a){return a instanceof ef;}function gf(a,b){return b&16?"code":b&128?"mark":b&32?"sub":b&64?"sup":null;}function hf(a,b){return b&1?"strong":b&2?"em":"span";}
function jf(a,b,c,d,e){var _a3,_a4,_a5;a=d.classList;d=kc(e,"base");void 0!==d&&(_a3=a).add.apply(_a3,d);d=kc(e,"underlineStrikethrough");var f=!1,g=b&8&&b&4;var h=c&8&&c&4;void 0!==d&&(h?(f=!0,g||(_a4=a).add.apply(_a4,d)):g&&(_a5=a).remove.apply(_a5,d));for(var k in jb){var _a6,_a7,_a8;h=jb[k],d=kc(e,k),void 0!==d&&(c&h?!f||"underline"!==k&&"strikethrough"!==k?(0===(b&h)||g&&"underline"===k||"strikethrough"===k)&&(_a6=a).add.apply(_a6,d):b&h&&(_a7=a).remove.apply(_a7,d):b&h&&(_a8=a).remove.apply(_a8,d));}}
function kf(a,b,c){var d=b.firstChild;c=c.isComposing();a+=c?cb:"";if(null==d)b.textContent=a;else if(b=d.nodeValue,b!==a)if(c||Xa){c=b.length;var e=a.length,f=0,g=0;for(;f<c&&f<e&&b[f]===a[f];){f++;}for(;g+f<c&&g+f<e&&b[c-g-1]===a[e-g-1];){g++;}a=[f,c-f-g,a.slice(f,e-g)];var _a9=a,h=_a9[0],k=_a9[1],m=_a9[2];0!==k&&d.deleteData(h,k);d.insertData(h,m);}else d.nodeValue=a;}function lf(a,b){b=document.createElement(b);b.appendChild(a);return b;}var
mf=function(_Ye4){babelHelpers.inheritsLoose(mf,_Ye4);mf.getType=function getType(){return"text";};mf.clone=function clone(a){return new mf(a.__text,a.__key);};function mf(a,b){var _this3;_this3=_Ye4.call(this,b)||this;_this3.__text=a;_this3.__format=0;_this3.__style="";_this3.__detail=_this3.__mode=0;return _this3;}var _proto11=mf.prototype;_proto11.getFormat=function getFormat(){return this.getLatest().__format;};_proto11.getDetail=function getDetail(){return this.getLatest().__detail;};_proto11.getMode=function getMode(){var a=this.getLatest();return ob[a.__mode];};_proto11.getStyle=function getStyle(){return this.getLatest().__style;};_proto11.isToken=function isToken(){return 1===this.getLatest().__mode;};_proto11.isComposing=function isComposing(){return this.__key===Yb();};_proto11.isSegmented=function isSegmented(){return 2===this.getLatest().__mode;};_proto11.isDirectionless=function isDirectionless(){return 0!==(
this.getLatest().__detail&1);};_proto11.isUnmergeable=function isUnmergeable(){return 0!==(this.getLatest().__detail&2);};_proto11.hasFormat=function hasFormat(a){a=jb[a];return 0!==(this.getFormat()&a);};_proto11.isSimpleText=function isSimpleText(){return"text"===this.__type&&0===this.__mode;};_proto11.getTextContent=function getTextContent(){return this.getLatest().__text;};_proto11.getFormatFlags=function getFormatFlags(a,b){var c=this.getLatest().__format;return Rb(c,a,b);};_proto11.createDOM=function createDOM(a){var b=this.__format,c=gf(this,b);var d=hf(this,b),e=document.createElement(null===c?d:c),f=e;null!==c&&(f=document.createElement(d),e.appendChild(f));c=f;kf(this.__text,c,this);
a=a.theme.text;void 0!==a&&jf(d,0,b,c,a);b=this.__style;""!==b&&(e.style.cssText=b);return e;};_proto11.updateDOM=function updateDOM(a,b,c){var d=this.__text;var e=a.__format,f=this.__format,g=gf(this,e);var h=gf(this,f);var k=hf(this,e);var m=hf(this,f);if((null===g?k:g)!==(null===h?m:h))return!0;if(g===h&&k!==m)return e=b.firstChild,null==e&&q(48),a=g=document.createElement(m),kf(d,a,this),c=c.theme.text,void 0!==c&&jf(m,0,f,a,c),b.replaceChild(g,e),!1;k=b;null!==h&&null!==g&&(k=b.firstChild,null==k&&q(49));kf(d,k,this);c=c.theme.text;
void 0!==c&&e!==f&&jf(m,e,f,k,c);f=this.__style;a.__style!==f&&(b.style.cssText=f);return!1;};mf.importDOM=function importDOM(){return{"#text":function text(){return{conversion:nf,priority:0};},b:function b(){return{conversion:of,priority:0};},br:function br(){return{conversion:pf,priority:0};},code:function code(){return{conversion:vf,priority:0};},em:function em(){return{conversion:vf,priority:0};},i:function i(){return{conversion:vf,priority:0};},s:function s(){return{conversion:vf,priority:0};},span:function span(){return{conversion:wf,priority:0};},strong:function strong(){return{conversion:vf,priority:0};},sub:function sub(){return{conversion:vf,priority:0};},sup:function sup(){return{conversion:vf,
priority:0};},u:function u(){return{conversion:vf,priority:0};}};};mf.importJSON=function importJSON(a){var b=L(a.text);b.setFormat(a.format);b.setDetail(a.detail);b.setMode(a.mode);b.setStyle(a.style);return b;};_proto11.exportDOM=function exportDOM(a){var _Ye4$prototype$export=_Ye4.prototype.exportDOM.call(this,a);a=_Ye4$prototype$export.element;null!==a&&(this.hasFormat("bold")&&(a=lf(a,"b")),this.hasFormat("italic")&&(a=lf(a,"i")),this.hasFormat("strikethrough")&&(a=lf(a,"s")),this.hasFormat("underline")&&(a=lf(a,"u")));return{element:a};};_proto11.exportJSON=function exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),
style:this.getStyle(),text:this.getTextContent(),type:"text",version:1};};_proto11.selectionTransform=function selectionTransform(){};_proto11.setFormat=function setFormat(a){var b=this.getWritable();b.__format="string"===typeof a?jb[a]:a;return b;};_proto11.setDetail=function setDetail(a){var b=this.getWritable();b.__detail="string"===typeof a?kb[a]:a;return b;};_proto11.setStyle=function setStyle(a){var b=this.getWritable();b.__style=a;return b;};_proto11.toggleFormat=function toggleFormat(a){a=jb[a];return this.setFormat(this.getFormat()^a);};_proto11.toggleDirectionless=function toggleDirectionless(){var a=this.getWritable();a.__detail^=1;return a;};_proto11.toggleUnmergeable=function toggleUnmergeable(){var a=this.getWritable();
a.__detail^=2;return a;};_proto11.setMode=function setMode(a){a=nb[a];if(this.__mode===a)return this;var b=this.getWritable();b.__mode=a;return b;};_proto11.setTextContent=function setTextContent(a){if(this.__text===a)return this;var b=this.getWritable();b.__text=a;return b;};_proto11.select=function select(a,b){G();var c=v();var d=this.getTextContent();var e=this.__key;"string"===typeof d?(d=d.length,void 0===a&&(a=d),void 0===b&&(b=d)):b=a=0;if(C(c))d=Yb(),d!==c.anchor.key&&d!==c.focus.key||J(e),c.setTextNodeRange(this,a,this,b);else return Ce(e,a,e,b,"text","text");return c;};_proto11.spliceText=function spliceText(a,
b,c,d){var e=this.getWritable(),f=e.__text,g=c.length,h=a;0>h&&(h=g+h,0>h&&(h=0));var k=v();d&&C(k)&&(a+=g,k.setTextNodeRange(e,a,e,a));b=f.slice(0,h)+c+f.slice(h+b);e.__text=b;return e;};_proto11.canInsertTextBefore=function canInsertTextBefore(){return!0;};_proto11.canInsertTextAfter=function canInsertTextAfter(){return!0;};_proto11.canContainTabs=function canContainTabs(){return!1;};_proto11.splitText=function splitText(){for(var _len4=arguments.length,a=new Array(_len4),_key4=0;_key4<_len4;_key4++){a[_key4]=arguments[_key4];}G();var b=this.getLatest(),c=b.getTextContent(),d=b.__key,e=Yb(),f=new Set(a);a=[];var g=c.length,h="";for(var k=0;k<g;k++){""!==h&&f.has(k)&&(a.push(h),h=""),h+=c[k];}""!==h&&a.push(h);f=a.length;if(0===f)return[];
if(a[0]===c)return[b];var m=a[0];c=b.getParentOrThrow();k=b.getFormat();var n=b.getStyle(),p=b.__detail;g=!1;b.isSegmented()?(h=L(m),h.__format=k,h.__style=n,h.__detail=p,g=!0):(h=b.getWritable(),h.__text=m);b=v();h=[h];m=m.length;for(var t=1;t<f;t++){var l=a[t],r=l.length;l=L(l).getWritable();l.__format=k;l.__style=n;l.__detail=p;var x=l.__key;r=m+r;if(C(b)){var y=b.anchor,A=b.focus;y.key===d&&"text"===y.type&&y.offset>m&&y.offset<=r&&(y.key=x,y.offset-=m,b.dirty=!0);A.key===d&&"text"===A.type&&
A.offset>m&&A.offset<=r&&(A.key=x,A.offset-=m,b.dirty=!0);}e===d&&J(x);m=r;h.push(l);}d=this.getPreviousSibling();e=this.getNextSibling();null!==d&&Xb(d);null!==e&&Xb(e);d=c.getWritable();e=this.getIndexWithinParent();g?(d.splice(e,0,h),this.remove()):d.splice(e,1,h);C(b)&&Ee(b,c,e,f-1);return h;};_proto11.mergeWithSibling=function mergeWithSibling(a){var b=a===this.getPreviousSibling();b||a===this.getNextSibling()||q(50);var c=this.__key;var d=a.__key,e=this.__text,f=e.length;Yb()===d&&J(c);var g=v();if(C(g)){var h=g.anchor,k=g.focus;
null!==h&&h.key===d&&(Ie(h,b,c,a,f),g.dirty=!0);null!==k&&k.key===d&&(Ie(k,b,c,a,f),g.dirty=!0);}c=a.__text;this.setTextContent(b?c+e:e+c);b=this.getWritable();a.remove();return b;};_proto11.isTextEntity=function isTextEntity(){return!1;};return mf;}(Ye);
function wf(a){var b="700"===a.style.fontWeight,c="line-through"===a.style.textDecoration,d="italic"===a.style.fontStyle,e="underline"===a.style.textDecoration,f=a.style.verticalAlign;return{forChild:function forChild(g){if(!B(g))return g;b&&g.toggleFormat("bold");c&&g.toggleFormat("strikethrough");d&&g.toggleFormat("italic");e&&g.toggleFormat("underline");"sub"===f&&g.toggleFormat("subscript");"super"===f&&g.toggleFormat("superscript");return g;},node:null};}function pf(){return{node:le()};}
function of(a){var b="normal"===a.style.fontWeight;return{forChild:function forChild(c){B(c)&&!b&&c.toggleFormat("bold");return c;},node:null};}function nf(a,b,c){a=a.textContent||"";return!c&&/\n/.test(a)&&(a=a.replace(/\r?\n/gm," "),0===a.trim().length)?{node:null}:{node:L(a)};}var xf={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};
function vf(a){var b=xf[a.nodeName.toLowerCase()];return void 0===b?{node:null}:{forChild:function forChild(c){B(c)&&!c.hasFormat(b)&&c.toggleFormat(b);return c;},node:null};}function L(a){if(a===void 0){a="";}return uc(new mf(a));}function B(a){return a instanceof mf;}var
yf=function(_$e2){babelHelpers.inheritsLoose(yf,_$e2);function yf(){return _$e2.apply(this,arguments)||this;}yf.getType=function getType(){return"paragraph";};yf.clone=function clone(a){return new yf(a.__key);};var _proto12=yf.prototype;_proto12.createDOM=function createDOM(a){var _b$classList;var b=document.createElement("p");a=kc(a.theme,"paragraph");void 0!==a&&(_b$classList=b.classList).add.apply(_b$classList,a);return b;};_proto12.updateDOM=function updateDOM(){return!1;};yf.importDOM=function importDOM(){return{p:function p(){return{conversion:zf,priority:0};}};};_proto12.exportDOM=function exportDOM(a){var _$e2$prototype$export=_$e2.prototype.exportDOM.call(this,a);a=_$e2$prototype$export.element;a&&this.isEmpty()&&a.append(document.createElement("br"));if(a){var b=this.getFormatType();a.style.textAlign=b;if(b=this.getDirection())a.dir=b;b=this.getIndent();
0<b&&(a.style.textIndent=20*b+"px");}return{element:a};};yf.importJSON=function importJSON(a){var b=$d();b.setFormat(a.format);b.setIndent(a.indent);b.setDirection(a.direction);return b;};_proto12.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_$e2.prototype.exportJSON.call(this),{type:"paragraph",version:1});};_proto12.insertNewAfter=function insertNewAfter(a,b){a=$d();var c=this.getDirection();a.setDirection(c);this.insertAfter(a,b);return a;};_proto12.collapseAtStart=function collapseAtStart(){var a=this.getChildren();if(0===a.length||B(a[0])&&""===a[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),
this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0;}return!1;};return yf;}($e);function zf(a){var b=$d();a.style&&(b.setFormat(a.style.textAlign),a=parseInt(a.style.textIndent,10)/20,0<a&&b.setIndent(a));return{node:b};}function $d(){return uc(new yf());}
function Re(a,b,c,d){var e=a._keyToDOMMap;e.clear();a._editorState=cf();a._pendingEditorState=d;a._compositionKey=null;a._dirtyType=0;a._cloneNotNeeded.clear();a._dirtyLeaves=new Set();a._dirtyElements.clear();a._normalizedNodes=new Set();a._updateTags=new Set();a._updates=[];a._blockCursorElement=null;d=a._observer;null!==d&&(d.disconnect(),a._observer=null);null!==b&&(b.textContent="");null!==c&&(c.textContent="",e.set("root",c));}
function Af(a){var b=new Map(),c=new Set();a.forEach(function(d){d=null!=d.klass.importDOM?d.klass.importDOM.bind(d.klass):null;if(null!=d&&!c.has(d)){c.add(d);var e=d();null!==e&&Object.keys(e).forEach(function(f){var g=b.get(f);void 0===g&&(g=[],b.set(f,g));g.push(e[f]);});}});return b;}var
Bf=function(){function Bf(a,b,c,d,e,f){this._parentEditor=b;this._rootElement=null;this._editorState=a;this._compositionKey=this._pendingEditorState=null;this._deferred=[];this._keyToDOMMap=new Map();this._updates=[];this._updating=!1;this._listeners={decorator:new Set(),editable:new Set(),mutation:new Map(),root:new Set(),textcontent:new Set(),update:new Set()};this._commands=new Map();this._config=d;this._nodes=c;this._decorators={};this._pendingDecorators=null;this._dirtyType=0;this._cloneNotNeeded=new Set();this._dirtyLeaves=
new Set();this._dirtyElements=new Map();this._normalizedNodes=new Set();this._updateTags=new Set();this._observer=null;this._key=gc();this._onError=e;this._htmlConversions=f;this._editable=!0;this._headless=null!==b&&b._headless;this._blockCursorElement=this._window=null;}var _proto13=Bf.prototype;_proto13.isComposing=function isComposing(){return null!=this._compositionKey;};_proto13.registerUpdateListener=function registerUpdateListener(a){var b=this._listeners.update;b.add(a);return function(){b["delete"](a);};};_proto13.registerEditableListener=function registerEditableListener(a){var b=this._listeners.editable;b.add(a);return function(){b["delete"](a);};};_proto13.registerDecoratorListener=function registerDecoratorListener(a){var b=
this._listeners.decorator;b.add(a);return function(){b["delete"](a);};};_proto13.registerTextContentListener=function registerTextContentListener(a){var b=this._listeners.textcontent;b.add(a);return function(){b["delete"](a);};};_proto13.registerRootListener=function registerRootListener(a){var _this6=this;var b=this._listeners.root;a(this._rootElement,null);b.add(a);return function(){a(null,_this6._rootElement);b["delete"](a);};};_proto13.registerCommand=function registerCommand(a,b,c){void 0===c&&q(35);var d=this._commands;d.has(a)||d.set(a,[new Set(),new Set(),new Set(),new Set(),new Set()]);var e=d.get(a);void 0===e&&q(36);var f=e[c];f.add(b);return function(){f["delete"](b);e.every(function(g){return(
0===g.size);})&&d["delete"](a);};};_proto13.registerMutationListener=function registerMutationListener(a,b){void 0===this._nodes.get(a.getType())&&q(37);var c=this._listeners.mutation;c.set(b,a);return function(){c["delete"](b);};};_proto13.registerNodeTransformToKlass=function registerNodeTransformToKlass(a,b){a=a.getType();a=this._nodes.get(a);void 0===a&&q(37);a.transforms.add(b);return a;};_proto13.registerNodeTransform=function registerNodeTransform(a,b){var c=this.registerNodeTransformToKlass(a,b);var d=[c];c=c.replaceWithKlass;null!=c&&(c=this.registerNodeTransformToKlass(c,b),d.push(c));cc(this,a.getType());return function(){d.forEach(function(e){return e.transforms["delete"](b);});};};_proto13.hasNodes=function hasNodes(a){for(var b=
0;b<a.length;b++){var c=a[b].getType();if(!this._nodes.has(c))return!1;}return!0;};_proto13.dispatchCommand=function dispatchCommand(a,b){return T(this,a,b);};_proto13.getDecorators=function getDecorators(){return this._decorators;};_proto13.getRootElement=function getRootElement(){return this._rootElement;};_proto13.getKey=function getKey(){return this._key;};_proto13.setRootElement=function setRootElement(a){var b=this._rootElement;if(a!==b){var _a$classList;var e=kc(this._config.theme,"root");var c=this._pendingEditorState||this._editorState;this._rootElement=a;Re(this,b,a,c);if(null!==b){var _b$classList2;if(!this._config.disableEvents){0!==Ed&&(Ed--,0===Ed&&b.ownerDocument.removeEventListener("selectionchange",
Td));c=b.__lexicalEditor;if(null!==c&&void 0!==c){if(null!==c._parentEditor){var d=fc(c);d=d[d.length-1]._key;Sd.get(d)===c&&Sd["delete"](d);}else Sd["delete"](c._key);b.__lexicalEditor=null;}c=Rd(b);for(d=0;d<c.length;d++){c[d]();}b.__lexicalEventHandles=[];}null!=e&&(_b$classList2=b.classList).remove.apply(_b$classList2,e);}null!==a?(c=(c=a.ownerDocument)&&c.defaultView||null,d=a.style,d.userSelect="text",d.whiteSpace="pre-wrap",d.wordBreak="break-word",a.setAttribute("data-lexical-editor","true"),this._window=c,this._dirtyType=2,Bb(this),
this._updateTags.add("history-merge"),Qe(this),this._config.disableEvents||Vd(a,this),null!=e&&(_a$classList=a.classList).add.apply(_a$classList,e)):this._window=null;Se("root",this,!1,a,b);}};_proto13.getElementByKey=function getElementByKey(a){return this._keyToDOMMap.get(a)||null;};_proto13.getEditorState=function getEditorState(){return this._editorState;};_proto13.setEditorState=function setEditorState(a,b){a.isEmpty()&&q(38);Ab(this);var c=this._pendingEditorState,d=this._updateTags;b=void 0!==b?b.tag:null;null===c||c.isEmpty()||(null!=b&&d.add(b),Qe(this));this._pendingEditorState=a;this._dirtyType=2;this._dirtyElements.set("root",
!1);this._compositionKey=null;null!=b&&d.add(b);Qe(this);};_proto13.parseEditorState=function parseEditorState(a,b){a="string"===typeof a?JSON.parse(a):a;var c=cf(),d=V,e=Z,f=W,g=this._dirtyElements,h=this._dirtyLeaves,k=this._cloneNotNeeded,m=this._dirtyType;this._dirtyElements=new Map();this._dirtyLeaves=new Set();this._cloneNotNeeded=new Set();this._dirtyType=0;V=c;Z=!1;W=this;try{Oe(a.root,this._nodes),b&&b(),c._readOnly=!0;}finally{this._dirtyElements=g,this._dirtyLeaves=h,this._cloneNotNeeded=k,this._dirtyType=m,V=d,Z=e,W=f;}return c;};_proto13.update=function update(a,
b){w(this,a,b);};_proto13.focus=function focus(a,b){if(b===void 0){b={};}var c=this._rootElement;null!==c&&(c.setAttribute("autocapitalize","off"),w(this,function(){var d=v(),e=bc();null!==d?d.dirty=!0:0!==e.getChildrenSize()&&("rootStart"===b.defaultSelection?e.selectStart():e.selectEnd());},{onUpdate:function onUpdate(){c.removeAttribute("autocapitalize");a&&a();}}),null===this._pendingEditorState&&c.removeAttribute("autocapitalize"));};_proto13.blur=function blur(){var a=this._rootElement;null!==a&&a.blur();a=E(this._window);null!==a&&a.removeAllRanges();};_proto13.isEditable=function isEditable(){return this._editable;};_proto13.setEditable=function setEditable(a){this._editable!==
a&&(this._editable=a,Se("editable",this,!0,a));};_proto13.toJSON=function toJSON(){return{editorState:this._editorState.toJSON()};};return Bf;}();var Cf=function(_$e3){babelHelpers.inheritsLoose(Cf,_$e3);function Cf(a,b){var _this4;_this4=_$e3.call(this,b)||this;_this4.__colSpan=a;_this4.__rowSpan=1;return _this4;}var _proto14=Cf.prototype;_proto14.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_$e3.prototype.exportJSON.call(this),{colSpan:this.__colSpan});};_proto14.setColSpan=function setColSpan(a){this.getWritable().__colSpan=a;return this;};_proto14.setRowSpan=function setRowSpan(a){this.getWritable().__rowSpan=a;return this;};return Cf;}($e);function ge(a){return a instanceof Cf;}var Df=function(_$e4){babelHelpers.inheritsLoose(Df,_$e4);function Df(){return _$e4.apply(this,arguments)||this;}return Df;}($e);function ie(a){return a instanceof Df;}var Ef=function(_$e5){babelHelpers.inheritsLoose(Ef,_$e5);function Ef(){return _$e5.apply(this,arguments)||this;}return Ef;}($e);
function he(a){return a instanceof Ef;}exports.$addUpdateTag=function(a){G();H()._updateTags.add(a);};exports.$applyNodeReplacement=uc;exports.$copyNode=tc;exports.$createLineBreakNode=le;exports.$createNodeSelection=oe;exports.$createParagraphNode=$d;exports.$createRangeSelection=function(){var a=new Wd("root",0,"element"),b=new Wd("root",0,"element");return new ce(a,b,0,"");};exports.$createTextNode=L;exports.$getAdjacentNode=nc;exports.$getNearestNodeFromDOMNode=vb;
exports.$getNearestRootOrShadowRoot=sc;exports.$getNodeByKey=K;exports.$getPreviousSelection=ic;exports.$getRoot=bc;exports.$getSelection=v;exports.$getTextContent=function(){var a=v();return null===a?"":a.getTextContent();};exports.$hasAncestor=rc;exports.$insertNodes=function(a,b){var c=v();null===c&&(c=bc().selectEnd());return c.insertNodes(a,b);};exports.$isDecoratorNode=z;exports.$isElementNode=F;exports.$isInlineElementOrDecoratorNode=function(a){return F(a)&&a.isInline()||z(a)&&a.isInline();};
exports.$isLeafNode=Sb;exports.$isLineBreakNode=Tb;exports.$isNodeSelection=Qd;exports.$isParagraphNode=function(a){return a instanceof yf;};exports.$isRangeSelection=C;exports.$isRootNode=M;exports.$isRootOrShadowRoot=N;exports.$isTextNode=B;exports.$nodesOfType=function(a){var b=I();var c=b._readOnly,d=a.getType();b=b._nodeMap;var e=[];for(var _iterator11=b,_isArray11=Array.isArray(_iterator11),_i11=0,_iterator11=_isArray11?_iterator11:_iterator11[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref18;if(_isArray11){if(_i11>=_iterator11.length)break;_ref18=_iterator11[_i11++];}else{_i11=_iterator11.next();if(_i11.done)break;_ref18=_i11.value;}var _ref19=_ref18;var f=_ref19[1];f instanceof a&&f.__type===d&&(c||f.isAttached())&&e.push(f);}return e;};exports.$normalizeSelection__EXPERIMENTAL=Oc;
exports.$parseSerializedNode=function(a){return Oe(a,H()._nodes);};exports.$setCompositionKey=J;exports.$setSelection=yb;exports.$splitNode=yc;exports.BLUR_COMMAND=Ta;exports.CAN_REDO_COMMAND={};exports.CAN_UNDO_COMMAND={};exports.CLEAR_EDITOR_COMMAND={};exports.CLEAR_HISTORY_COMMAND={};exports.CLICK_COMMAND=ha;exports.COMMAND_PRIORITY_CRITICAL=4;exports.COMMAND_PRIORITY_EDITOR=0;exports.COMMAND_PRIORITY_HIGH=3;exports.COMMAND_PRIORITY_LOW=1;exports.COMMAND_PRIORITY_NORMAL=2;
exports.CONTROLLED_TEXT_INSERTION_COMMAND=ma;exports.COPY_COMMAND=Qa;exports.CUT_COMMAND=Ra;exports.DELETE_CHARACTER_COMMAND=ia;exports.DELETE_LINE_COMMAND=sa;exports.DELETE_WORD_COMMAND=ra;exports.DEPRECATED_$createGridSelection=function(){var a=new Wd("root",0,"element"),b=new Wd("root",0,"element");return new de("root",a,b);};exports.DEPRECATED_$isGridCellNode=ge;exports.DEPRECATED_$isGridNode=ie;exports.DEPRECATED_$isGridRowNode=he;exports.DEPRECATED_$isGridSelection=ee;
exports.DEPRECATED_GridCellNode=Cf;exports.DEPRECATED_GridNode=Df;exports.DEPRECATED_GridRowNode=Ef;exports.DRAGEND_COMMAND=Pa;exports.DRAGOVER_COMMAND=Oa;exports.DRAGSTART_COMMAND=Na;exports.DROP_COMMAND=Ma;exports.DecoratorNode=Ze;exports.ElementNode=$e;exports.FOCUS_COMMAND=Sa;exports.FORMAT_ELEMENT_COMMAND={};exports.FORMAT_TEXT_COMMAND=ta;exports.INDENT_CONTENT_COMMAND={};exports.INSERT_LINE_BREAK_COMMAND=ja;exports.INSERT_PARAGRAPH_COMMAND=ka;exports.KEY_ARROW_DOWN_COMMAND=Fa;
exports.KEY_ARROW_LEFT_COMMAND=Aa;exports.KEY_ARROW_RIGHT_COMMAND=ya;exports.KEY_ARROW_UP_COMMAND=Ca;exports.KEY_BACKSPACE_COMMAND=Ia;exports.KEY_DELETE_COMMAND=Ka;exports.KEY_DOWN_COMMAND=xa;exports.KEY_ENTER_COMMAND=Ga;exports.KEY_ESCAPE_COMMAND=Ja;exports.KEY_MODIFIER_COMMAND=Ua;exports.KEY_SPACE_COMMAND=Ha;exports.KEY_TAB_COMMAND=La;exports.LineBreakNode=ef;exports.MOVE_TO_END=za;exports.MOVE_TO_START=Ba;exports.OUTDENT_CONTENT_COMMAND={};exports.PASTE_COMMAND=pa;exports.ParagraphNode=yf;
exports.REDO_COMMAND=wa;exports.REMOVE_TEXT_COMMAND=qa;exports.RootNode=bf;exports.SELECTION_CHANGE_COMMAND=aa;exports.TextNode=mf;exports.UNDO_COMMAND=va;exports.createCommand=function(){return{};};
exports.createEditor=function(a){var b=a||{},c=W,d=b.theme||{};var e=void 0===a?c:b.parentEditor||null,f=b.disableEvents||!1,g=cf(),h=b.namespace||(null!==e?e._config.namespace:gc()),k=b.editorState,m=[bf,mf,ef,yf].concat(b.nodes||[]),n=b.onError;b=void 0!==b.editable?b.editable:!0;if(void 0===a&&null!==c)a=c._nodes;else for(a=new Map(),c=0;c<m.length;c++){var l=m[c],r=null;var p=null;"function"!==typeof l&&(p=l,l=p.replace,r=p["with"],p=p.withKlass?p.withKlass:null);var t=l.getType(),x=l.transform(),y=new Set();
null!==x&&y.add(x);a.set(t,{klass:l,replace:r,replaceWithKlass:p,transforms:y});}d=new Bf(g,e,a,{disableEvents:f,namespace:h,theme:d},n?n:console.error,Af(a),b);void 0!==k&&(d._pendingEditorState=k,d._dirtyType=2);return d;};exports.getNearestEditorFromDOMNode=Nb;exports.isSelectionWithinEditor=Gb;}),null);
__d("LexicalClipboard",["cr:862"],(function(a,b,c,d,e,f){e.exports=b("cr:862")}),null);
__d("LexicalHtml",["cr:1497"],(function(a,b,c,d,e,f){e.exports=b("cr:1497")}),null);
__d("LexicalSelection",["cr:2180"],(function(a,b,c,d,e,f){e.exports=b("cr:2180")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalClipboard.prod",["Lexical","LexicalHtml","LexicalSelection","LexicalUtils","Promise","asyncToGeneratorRuntime"],(function $module_LexicalClipboard_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";function z(a){throw Error("Minified Lexical error #"+a+"; visit https://lexical.dev/docs/error?code="+a+" for the full message or "+"use the non-minified dev environment for full errors and additional helpful warnings.");}
function A(a){var b=require("Lexical").$getSelection();if(null==b)throw Error("Expected valid LexicalSelection");return require("Lexical").$isRangeSelection(b)&&b.isCollapsed()||0===b.getNodes().length?"":require("LexicalHtml").$generateHtmlFromNodes(a,b);}function B(a){var b=require("Lexical").$getSelection();if(null==b)throw Error("Expected valid LexicalSelection");return require("Lexical").$isRangeSelection(b)&&b.isCollapsed()||0===b.getNodes().length?null:JSON.stringify(C(a,b));}
function D(a,b,c){(require("Lexical").DEPRECATED_$isGridSelection(c)||null!==require("LexicalUtils").$findMatchingParent(c.anchor.getNode(),function(f){return require("Lexical").DEPRECATED_$isGridCellNode(f);})&&null!==require("LexicalUtils").$findMatchingParent(c.focus.getNode(),function(f){return require("Lexical").DEPRECATED_$isGridCellNode(f);}))&&1===b.length&&require("Lexical").DEPRECATED_$isGridNode(b[0])?E(b,c,!1,a):H(b,c);}
function H(a,b){var _a;var c=[],f=null;for(var e=0;e<a.length;e++){var g=a[e],h=require("Lexical").$isLineBreakNode(g);if(h||require("Lexical").$isDecoratorNode(g)&&g.isInline()||require("Lexical").$isElementNode(g)&&g.isInline()||require("Lexical").$isTextNode(g)||g.isParentRequired()){if(null===f&&(f=g.createParentElementNode(),c.push(f),h))continue;null!==f&&f.append(g);}else c.push(g),f=null;}require("Lexical").$isRangeSelection(b)?b.insertNodes(c):require("Lexical").DEPRECATED_$isGridSelection(b)&&(a=b.anchor.getNode(),require("Lexical").DEPRECATED_$isGridCellNode(a)||z(41),(_a=a).append.apply(_a,c));}
function E(a,b,c,f){1===a.length&&require("Lexical").DEPRECATED_$isGridNode(a[0])||z(42);var e=a[0];a=e.getChildren();c=e.getFirstChildOrThrow().getChildrenSize();var g=e.getChildrenSize(),h=require("LexicalUtils").$findMatchingParent(b.anchor.getNode(),function(l){return require("Lexical").DEPRECATED_$isGridCellNode(l);});b=(e=h&&require("LexicalUtils").$findMatchingParent(h,function(l){return require("Lexical").DEPRECATED_$isGridRowNode(l);}))&&require("LexicalUtils").$findMatchingParent(e,function(l){return require("Lexical").DEPRECATED_$isGridNode(l);});require("Lexical").DEPRECATED_$isGridCellNode(h)&&require("Lexical").DEPRECATED_$isGridRowNode(e)&&require("Lexical").DEPRECATED_$isGridNode(b)||z(43);var k=e.getIndexWithinParent(),
p=Math.min(b.getChildrenSize()-1,k+g-1);g=h.getIndexWithinParent();h=Math.min(e.getChildrenSize()-1,g+c-1);c=Math.min(g,h);e=Math.min(k,p);g=Math.max(g,h);k=Math.max(k,p);p=b.getChildren();h=0;var m,q;for(var l=e;l<=k;l++){var x=p[l];require("Lexical").DEPRECATED_$isGridRowNode(x)||z(24);var y=a[h];require("Lexical").DEPRECATED_$isGridRowNode(y)||z(24);x=x.getChildren();y=y.getChildren();var F=0;var _loop=function _loop(u){var v=x[u];require("Lexical").DEPRECATED_$isGridCellNode(v)||z(25);var G=y[F];require("Lexical").DEPRECATED_$isGridCellNode(G)||z(25);l===e&&u===c?m=
v.getKey():l===k&&u===g&&(q=v.getKey());var M=v.getChildren();G.getChildren().forEach(function(w){require("Lexical").$isTextNode(w)&&require("Lexical").$createParagraphNode().append(w);v.append(w);});M.forEach(function(w){return w.remove();});F++;};for(var u=c;u<=g;u++){_loop(u);}h++;}m&&q&&(a=require("Lexical").DEPRECATED_$createGridSelection(),a.set(b.getKey(),m,q),require("Lexical").$setSelection(a),f.dispatchCommand(require("Lexical").SELECTION_CHANGE_COMMAND,void 0));}
function I(a,b,c,f){if(f===void 0){f=[];}var e=null!=b?c.isSelected(b):!0,g=require("Lexical").$isElementNode(c)&&c.excludeFromCopy("html");var h=c;if(null!==b){var k=require("LexicalSelection").$cloneWithProperties(c);h=k=require("Lexical").$isTextNode(k)&&null!=b?require("LexicalSelection").$sliceSelectedTextNodeContent(b,k):k;}var p=require("Lexical").$isElementNode(h)?h.getChildren():[];var m=h;k=m.exportJSON();k.type!==m.constructor.getType()&&z(58);var q=k.children;require("Lexical").$isElementNode(m)&&(Array.isArray(q)||z(59));require("Lexical").$isTextNode(h)&&(h=h.__text,0<h.length?k.text=h:e=!1);for(h=0;h<p.length;h++){m=p[h],q=I(a,b,m,k.children),
!e&&require("Lexical").$isElementNode(c)&&q&&c.extractWithChild(m,b,"clone")&&(e=!0);}if(e&&!g)f.push(k);else if(Array.isArray(k.children))for(a=0;a<k.children.length;a++){f.push(k.children[a]);}return e;}function C(a,b){var c=[],f=require("Lexical").$getRoot().getChildren();for(var e=0;e<f.length;e++){I(a,b,f[e],c);}return{namespace:a._config.namespace,nodes:c};}function J(a){var b=[];for(var c=0;c<a.length;c++){var f=require("Lexical").$parseSerializedNode(a[c]);require("Lexical").$isTextNode(f)&&require("LexicalSelection").$addNodeStyle(f);b.push(f);}return b;}var K=null;
function L(a,b){var c=window.getSelection();if(!c)return!1;var f=c.anchorNode;c=c.focusNode;if(null!==f&&null!==c&&!require("Lexical").isSelectionWithinEditor(a,f,c))return!1;b.preventDefault();b=b.clipboardData;f=require("Lexical").$getSelection();if(null===b||null===f)return!1;c=A(a);a=B(a);var e="";null!==f&&(e=f.getTextContent());null!==c&&b.setData("text/html",c);null!==a&&b.setData("application/x-lexical-editor",a);b.setData("text/plain",e);return!0;}exports.$generateJSONFromSelectedNodes=C;
exports.$generateNodesFromSerializedNodes=J;exports.$getHtmlContent=A;exports.$getLexicalContent=B;exports.$insertDataTransferForPlainText=function(a,b){a=a.getData("text/plain");null!=a&&b.insertRawText(a);};
exports.$insertDataTransferForRichText=function(a,b,c){var f=a.getData("application/x-lexical-editor");if(f)try{var g=JSON.parse(f);if(g.namespace===c._config.namespace&&Array.isArray(g.nodes)){var h=J(g.nodes);return D(c,h,b);}}catch(_unused){}if(f=a.getData("text/html"))try{var e=new DOMParser().parseFromString(f,"text/html");var _g=require("LexicalHtml").$generateNodesFromDOM(c,e);return D(c,_g,b);}catch(_unused2){}a=a.getData("text/plain");if(null!=a)if(require("Lexical").$isRangeSelection(b))for(a=a.split(/\r?\n/),c=a.length,e=0;e<c;e++){b.insertText(a[e]),
e<c-1&&b.insertParagraph();}else b.insertRawText(a);};exports.$insertGeneratedNodes=D;
exports.copyToClipboard=function(){var _ref=require("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(null!==K)return!1;if(null!==b)return new(require("Promise"))(function(g){a.update(function(){g(L(a,b));});});var c=a.getRootElement();var f=document.getSelection();if(null===c||null===f)return!1;var e=document.createElement("span");e.style.cssText="position: fixed; top: -1000px;";e.append(document.createTextNode("#"));c.append(e);c=new Range();c.setStart(e,0);c.setEnd(e,1);f.removeAllRanges();f.addRange(c);return new(require("Promise"))(function(g){var h=a.registerCommand(require("Lexical").COPY_COMMAND,function(k){k instanceof
ClipboardEvent&&(h(),null!==K&&(window.clearTimeout(K),K=null),g(L(a,k)));return!0;},require("Lexical").COMMAND_PRIORITY_CRITICAL);K=window.setTimeout(function(){h();K=null;g(!1);},50);document.execCommand("copy");e.remove();});});return function(_x,_x2){return _ref.apply(this,arguments);};}();}),null);
__d("LexicalDragon",["cr:2903"],(function(a,b,c,d,e,f){e.exports=b("cr:2903")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalDragon.prod",["Lexical"],(function $module_LexicalDragon_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";
exports.registerDragonSupport=function(m){var t=window.location.origin,r=function r(l){if(l.origin===t){var h=m.getRootElement();if(document.activeElement===h&&(h=l.data,"string"===typeof h)){try{var a=JSON.parse(h);}catch(k){return;}if(a&&"nuanria_messaging"===a.protocol&&"request"===a.type&&(a=a.payload)&&"makeChanges"===a.functionId&&(a=a.args)){var _a=a,k=_a[0],n=_a[1],p=_a[2],q=_a[3],u=_a[4];m.update(function(){var f=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(f)){var e=f.anchor;var b=e.getNode(),c=0,d=0;require("Lexical").$isTextNode(b)&&0<=k&&0<=n&&(c=k,
d=k+n,f.setTextNodeRange(b,c,b,d));if(c!==d||""!==p)f.insertRawText(p),b=e.getNode();require("Lexical").$isTextNode(b)&&(c=q,d=q+u,e=b.getTextContentSize(),c=c>e?e:c,d=d>e?e:d,f.setTextNodeRange(b,c,b,d));l.stopImmediatePropagation();}});}}}};window.addEventListener("message",r,!0);return function(){window.removeEventListener("message",r,!0);};};}),null);
__d("LexicalErrorBoundary",["cr:2260"],(function(a,b,c,d,e,f){e.exports=b("cr:2260")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalErrorBoundary.prod",["react"],(function $module_LexicalErrorBoundary_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";var c_react;var h=c_react||(c_react=require("react"));function m(b,c){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,a){g.__proto__=a;return g;};return m(b,c);}function n(b,c){b.prototype=Object.create(c.prototype);b.prototype.constructor=b;m(b,c);}function r(b,c){void 0===b&&(b=[]);void 0===c&&(c=[]);return b.length!==c.length||b.some(function(g,a){return!Object.is(g,c[a]);});}
var t={error:null},u=function(b){function c(){for(var a,d=arguments.length,f=Array(d),e=0;e<d;e++){f[e]=arguments[e];}a=b.call.apply(b,[this].concat(f))||this;a.state=t;a.resetErrorBoundary=function(){for(var k,p=arguments.length,q=Array(p),l=0;l<p;l++){q[l]=arguments[l];}null==a.props.onReset?void 0:(k=a.props).onReset.apply(k,q);a.reset();};return a;}n(c,b);c.getDerivedStateFromError=function(a){return{error:a};};var g=c.prototype;g.reset=function(){this.setState(t);};g.componentDidCatch=function(a,d){var f,
e;null==(f=(e=this.props).onError)?void 0:f.call(e,a,d);};g.componentDidUpdate=function(a,d){var f=this.props.resetKeys;if(null!==this.state.error&&null!==d.error&&r(a.resetKeys,f)){var e,k;null==(e=(k=this.props).onResetKeysChange)?void 0:e.call(k,a.resetKeys,f);this.reset();}};g.render=function(){var a=this.state.error,d=this.props,f=d.fallbackRender,e=d.FallbackComponent;d=d.fallback;if(null!==a){a={error:a,resetErrorBoundary:this.resetErrorBoundary};if(h.isValidElement(d))return d;if("function"===
typeof f)return f(a);if(e)return h.createElement(e,a);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop");}return this.props.children;};return c;}(h.Component);module.exports=function(_ref){var b=_ref.children,c=_ref.onError;return h.createElement(u,{fallback:h.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:c},b);};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalHashtag.prod",["Lexical","LexicalUtils"],(function $module_LexicalHashtag_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";var
e=function(_d$TextNode){babelHelpers.inheritsLoose(e,_d$TextNode);e.getType=function getType(){return"hashtag";};e.clone=function clone(a){return new e(a.__text,a.__key);};function e(a,b){return _d$TextNode.call(this,a,b)||this;}var _proto=e.prototype;_proto.createDOM=function createDOM(a){var b=_d$TextNode.prototype.createDOM.call(this,a);require("LexicalUtils").addClassNamesToElement(b,a.theme.hashtag);return b;};e.importJSON=function importJSON(a){var b=f(a.text);b.setFormat(a.format);b.setDetail(a.detail);b.setMode(a.mode);b.setStyle(a.style);return b;};_proto.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_d$TextNode.prototype.exportJSON.call(this),{type:"hashtag"});};_proto.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto.isTextEntity=function isTextEntity(){return!0;};return e;}(require("Lexical").TextNode);
function f(a){if(a===void 0){a="";}return require("Lexical").$applyNodeReplacement(new e(a));}exports.$createHashtagNode=f;exports.$isHashtagNode=function(a){return a instanceof e;};exports.HashtagNode=e;}),null);
__d("LexicalHistory",["cr:2904"],(function(a,b,c,d,e,f){e.exports=b("cr:2904")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalHistory.prod",["Lexical","LexicalUtils"],(function $module_LexicalHistory_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";
function y(b,a,m,k,p){if(null===b||0===m.size&&0===k.size&&!p)return 0;var f=a._selection,d=b._selection;if(p)return 1;if(!(require("Lexical").$isRangeSelection(f)&&require("Lexical").$isRangeSelection(d)&&d.isCollapsed()&&f.isCollapsed()))return 0;p=a._nodeMap;var e=[];for(var _iterator=m,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var g=_ref;m=p.get(g),void 0!==m&&e.push(m);}for(var _iterator2=k,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref3;if(_isArray2){if(_i2>=_iterator2.length)break;_ref3=_iterator2[_i2++];}else{_i2=_iterator2.next();if(_i2.done)break;_ref3=_i2.value;}var _ref4=_ref3;var _g=_ref4[0];var n=_ref4[1];n&&(k=p.get(_g),void 0===k||require("Lexical").$isRootNode(k)||e.push(k));}if(0===e.length)return 0;if(1<e.length)return k=a._nodeMap,a=k.get(f.anchor.key),d=k.get(d.anchor.key),a&&d&&!b._nodeMap.has(a.__key)&&require("Lexical").$isTextNode(a)&&
1===a.__text.length&&1===f.anchor.offset?2:0;a=e[0];b=b._nodeMap.get(a.__key);if(!require("Lexical").$isTextNode(b)||!require("Lexical").$isTextNode(a)||b.__mode!==a.__mode)return 0;b=b.__text;a=a.__text;if(b===a)return 0;f=f.anchor;d=d.anchor;if(f.key!==d.key||"text"!==f.type)return 0;f=f.offset;d=d.offset;b=a.length-b.length;return 1===b&&d===f-1?2:-1===b&&d===f+1?3:-1===b&&d===f?4:0;}
function z(b,a){var m=Date.now(),k=0;return function(p,f,d,e,g,n){var r=Date.now();if(n.has("historic"))return k=0,m=r,2;var q=y(p,f,e,g,b.isComposing()),v=function(){var l=null===d||d.editor===b,h=n.has("history-push");if(!h&&l&&n.has("history-merge"))return 0;if(null===p)return 1;var t=f._selection;if(!(0<e.size||0<g.size))return null!==t?0:2;if(!1===h&&0!==q&&q===k&&r<m+a&&l)return 0;if(1===e.size){{h=Array.from(e)[0];l=p._nodeMap.get(h);h=f._nodeMap.get(h);t=p._selection;var u=f._selection,w=!1;require("Lexical").$isRangeSelection(t)&&
require("Lexical").$isRangeSelection(u)&&(w="element"===t.anchor.type&&"element"===t.focus.type&&"text"===u.anchor.type&&"text"===u.focus.type);l=!w&&require("Lexical").$isTextNode(l)&&require("Lexical").$isTextNode(h)?l.__type===h.__type&&l.__text===h.__text&&l.__mode===h.__mode&&l.__detail===h.__detail&&l.__style===h.__style&&l.__format===h.__format&&l.__parent===h.__parent:!1;}if(l)return 0;}return 1;}();m=r;k=q;return v;};}exports.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]};};
exports.registerHistory=function(b,a,m){var Lexical;var k=z(b,m);m=function m(_ref5){var d=_ref5.editorState,e=_ref5.prevEditorState,g=_ref5.dirtyLeaves,n=_ref5.dirtyElements,r=_ref5.tags;var q=a.current,v=a.redoStack,l=a.undoStack,h=null===q?null:q.editorState;if(null===q||d!==h){g=k(e,d,q,g,n,r);if(1===g)0!==v.length&&(a.redoStack=[],b.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!1)),null!==q&&(l.push(babelHelpers["extends"]({},q,{undoSelection:e.read(require("Lexical").$getSelection)})),b.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!0));else if(2===g)return;a.current={editor:b,editorState:d};}};var p=require("LexicalUtils").mergeRegister(b.registerCommand((Lexical=require("Lexical")).UNDO_COMMAND,
function(){var d=a.redoStack,e=a.undoStack;if(0!==e.length){var g=a.current,n=e.pop();null!==g&&(d.push(g),b.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!0));0===e.length&&b.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!1);a.current=n||null;n&&n.editor.setEditorState(n.editorState.clone(n.undoSelection),{tag:"historic"});}return!0;},Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(Lexical.REDO_COMMAND,function(){var d=a.redoStack;var e=a.undoStack;if(0!==d.length){var g=a.current;null!==g&&(e.push(g),b.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!0));
e=d.pop();0===d.length&&b.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!1);a.current=e||null;e&&e.editor.setEditorState(e.editorState,{tag:"historic"});}return!0;},Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(Lexical.CLEAR_EDITOR_COMMAND,function(){a.undoStack=[];a.redoStack=[];a.current=null;return!1;},Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(Lexical.CLEAR_HISTORY_COMMAND,function(){a.undoStack=[];a.redoStack=[];a.current=null;b.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!1);b.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!1);return!0;},Lexical.COMMAND_PRIORITY_EDITOR),
b.registerUpdateListener(m)),f=b.registerUpdateListener(m);return function(){p();f();};};}),null);
__d("LexicalHistoryPlugin",["cr:293"],(function(a,b,c,d,e,f){e.exports=b("cr:293")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalHistoryPlugin.prod",["LexicalComposerContext","LexicalHistory","react"],(function $module_LexicalHistoryPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";var c_react;var g=c_react||(c_react=require("react"));function h(a,b,e){if(e===void 0){e=1000;}var f=g.useMemo(function(){return b||require("LexicalHistory").createEmptyHistoryState();},[b]);g.useEffect(function(){return require("LexicalHistory").registerHistory(a,f,e);},[e,a,f]);}exports.createEmptyHistoryState=require("LexicalHistory").createEmptyHistoryState;exports.HistoryPlugin=function(_ref){var a=_ref.externalHistoryState;var _c$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),b=_c$useLexicalComposer[0];h(b,a);return null;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalHtml.prod",["Lexical","LexicalSelection"],(function $module_LexicalHtml_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";
function r(c,d,h,b){if(b===void 0){b=null;}var e=null!=b?d.isSelected():!0,l=require("Lexical").$isElementNode(d)&&d.excludeFromCopy("html");var a=d;null!==b&&(a=require("LexicalSelection").$cloneWithProperties(d),a=require("Lexical").$isTextNode(a)&&null!=b?require("LexicalSelection").$sliceSelectedTextNodeContent(b,a):a);var f=require("Lexical").$isElementNode(a)?a.getChildren():[],_a$exportDOM=a.exportDOM(c),k=_a$exportDOM.element,g=_a$exportDOM.after;if(!k)return!1;var m=new DocumentFragment();for(var p=0;p<f.length;p++){var t=f[p],w=r(c,t,m,b);!e&&require("Lexical").$isElementNode(d)&&w&&d.extractWithChild(t,b,"html")&&(e=!0);}e&&!l?(k.append(m),h.append(k),g&&(c=g.call(a,
k))&&k.replaceWith(c)):h.append(m);return e;}var u=new Set(["STYLE"]);
function v(c,d,h,b,e){var _a;if(h===void 0){h=new Map();}if(e===void 0){e=!1;}var l=[];if(u.has(c.nodeName))return l;var a=null;var _c=c,f=_c.nodeName,k=d._htmlConversions.get(f.toLowerCase());f=null;if(void 0!==k){for(var _iterator=k,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(_isArray){if(_i>=_iterator.length)break;g=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;g=_i.value;}k=g(c),null!==k&&(null===f||f.priority<k.priority)&&(f=k);}}var g=(g=null!==f?f.conversion:null)?g(c,void 0,e):null;f=null;if(null!==g){f=g.after;a=g.node;if(null!==a){for(var _iterator2=h,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++];}else{_i2=_iterator2.next();if(_i2.done)break;_ref2=_i2.value;}var _ref=_ref2;var m=_ref[1];if(a=m(a,b),!a)break;}a&&l.push(a);}null!=g.forChild&&h.set(c.nodeName,g.forChild);}c=c.childNodes;b=[];for(m=0;m<c.length;m++){var _b;(_b=b).push.apply(_b,v(c[m],d,
new Map(h),a,e||!0===(g&&g.preformatted)));}null!=f&&(b=f(b));null==a?l=l.concat(b):require("Lexical").$isElementNode(a)&&(_a=a).append.apply(_a,b);return l;}exports.$generateHtmlFromNodes=function(c,d){if("undefined"===typeof document||"undefined"===typeof window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");var h=document.createElement("div"),b=require("Lexical").$getRoot().getChildren();for(var e=0;e<b.length;e++){r(c,b[e],h,d);}return h.innerHTML;};
exports.$generateNodesFromDOM=function(c,d){var h=[];d=d.body?Array.from(d.body.childNodes):[];var b=d.length;for(var l=0;l<b;l++){var e=d[l];u.has(e.nodeName)||(e=v(e,c),null!==e&&(h=h.concat(e)));}return h;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalLink.prod",["Lexical","LexicalUtils"],(function $module_LexicalLink_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";var
n=function(_m$ElementNode){babelHelpers.inheritsLoose(n,_m$ElementNode);n.getType=function getType(){return"link";};n.clone=function clone(a){return new n(a.__url,{rel:a.__rel,target:a.__target},a.__key);};function n(a,b,c){var _this;if(b===void 0){b={};}_this=_m$ElementNode.call(this,c)||this;var _b=b,_b$target=_b.target,h=_b$target===void 0?null:_b$target,_b$rel=_b.rel,e=_b$rel===void 0?null:_b$rel;_this.__url=a;_this.__target=h;_this.__rel=e;return _this;}var _proto=n.prototype;_proto.createDOM=function createDOM(a){var b=document.createElement("a");b.href=this.__url;null!==this.__target&&(b.target=this.__target);null!==this.__rel&&(b.rel=this.__rel);require("LexicalUtils").addClassNamesToElement(b,a.theme.link);return b;};_proto.updateDOM=function updateDOM(a,b){var c=this.__url,h=this.__target,e=this.__rel;
c!==a.__url&&(b.href=c);h!==a.__target&&(h?b.target=h:b.removeAttribute("target"));e!==a.__rel&&(e?b.rel=e:b.removeAttribute("rel"));return!1;};n.importDOM=function importDOM(){return{a:function a(){return{conversion:p,priority:1};}};};n.importJSON=function importJSON(a){var b=q(a.url,{rel:a.rel,target:a.target});b.setFormat(a.format);b.setIndent(a.indent);b.setDirection(a.direction);return b;};_proto.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_m$ElementNode.prototype.exportJSON.call(this),{rel:this.getRel(),target:this.getTarget(),type:"link",url:this.getURL(),version:1});};_proto.getURL=function getURL(){return this.getLatest().__url;};_proto.setURL=function setURL(a){this.getWritable().__url=
a;};_proto.getTarget=function getTarget(){return this.getLatest().__target;};_proto.setTarget=function setTarget(a){this.getWritable().__target=a;};_proto.getRel=function getRel(){return this.getLatest().__rel;};_proto.setRel=function setRel(a){this.getWritable().__rel=a;};_proto.insertNewAfter=function insertNewAfter(a,b){if(b===void 0){b=!0;}a=this.getParentOrThrow().insertNewAfter(a,b);return require("Lexical").$isElementNode(a)?(b=q(this.__url,{rel:this.__rel,target:this.__target}),a.append(b),b):null;};_proto.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto.canInsertTextAfter=function canInsertTextAfter(){return!1;};_proto.canBeEmpty=function canBeEmpty(){return!1;};_proto.isInline=function isInline(){return!0;};_proto.extractWithChild=function extractWithChild(a,b){if(!require("Lexical").$isRangeSelection(b))return!1;a=b.anchor.getNode();
var c=b.focus.getNode();return this.isParentOf(a)&&this.isParentOf(c)&&0<b.getTextContent().length;};return n;}(require("Lexical").ElementNode);function p(a){var b=null;if(require("LexicalUtils").isHTMLAnchorElement(a)){var c=a.textContent;null!==c&&""!==c&&(b=q(a.getAttribute("href")||"",{rel:a.getAttribute("rel"),target:a.getAttribute("target")}));}return{node:b};}function q(a,b){return require("Lexical").$applyNodeReplacement(new n(a,b));}function r(a){return a instanceof n;}var
u=function(_n){babelHelpers.inheritsLoose(u,_n);function u(){return _n.apply(this,arguments)||this;}u.getType=function getType(){return"autolink";};u.clone=function clone(a){return new u(a.__url,{rel:a.__rel,target:a.__target},a.__key);};u.importJSON=function importJSON(a){var b=v(a.url,{rel:a.rel,target:a.target});b.setFormat(a.format);b.setIndent(a.indent);b.setDirection(a.direction);return b;};u.importDOM=function importDOM(){return null;};var _proto2=u.prototype;_proto2.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_n.prototype.exportJSON.call(this),{type:"autolink",version:1});};_proto2.insertNewAfter=function insertNewAfter(a,b){if(b===void 0){b=!0;}a=this.getParentOrThrow().insertNewAfter(a,b);return require("Lexical").$isElementNode(a)?(b=v(this.__url,{rel:this._rel,
target:this.__target}),a.append(b),b):null;};return u;}(n);function v(a,b){return require("Lexical").$applyNodeReplacement(new u(a,b));}var w=require("Lexical").createCommand("TOGGLE_LINK_COMMAND");function x(a){return y(a,function(b){return r(b);});}function y(a,b){for(;null!==a&&null!==(a=a.getParent())&&!b(a);){;}return a;}exports.$createAutoLinkNode=v;exports.$createLinkNode=q;exports.$isAutoLinkNode=function(a){return a instanceof u;};exports.$isLinkNode=r;exports.AutoLinkNode=u;exports.LinkNode=n;exports.TOGGLE_LINK_COMMAND=w;
exports.toggleLink=function(a,b){if(b===void 0){b={};}var _b2=b,c=_b2.target,h=void 0===b.rel?"noopener":b.rel;b=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(b))if(b=b.extract(),null===a)b.forEach(function(l){l=l.getParent();if(r(l)){var d=l.getChildren();for(var f=0;f<d.length;f++){l.insertBefore(d[f]);}l.remove();}});else{if(1===b.length){var e=b[0];e=r(e)?e:x(e);if(null!==e){e.setURL(a);void 0!==c&&e.setTarget(c);null!==h&&e.setRel(h);return;}}var l=null,d=null;b.forEach(function(f){var g=f.getParent();if(g!==d&&null!==g&&(!require("Lexical").$isElementNode(f)||
f.isInline()))if(r(g))d=g,g.setURL(a),void 0!==c&&g.setTarget(c),null!==h&&d.setRel(h);else if(g.is(l)||(l=g,d=q(a,{rel:h,target:c}),r(g)?null===f.getPreviousSibling()?g.insertBefore(d):g.insertAfter(d):f.insertBefore(d)),r(f)){if(!f.is(d)){if(null!==d){g=f.getChildren();for(var t=0;t<g.length;t++){d.append(g[t]);}}f.remove();}}else null!==d&&d.append(f);});}};}),null);
__d("LexicalOverflow",["cr:2908"],(function(a,b,c,d,e,f){e.exports=b("cr:2908")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalOverflow.prod",["Lexical"],(function $module_LexicalOverflow_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";var
d=function(_b$ElementNode){babelHelpers.inheritsLoose(d,_b$ElementNode);d.getType=function getType(){return"overflow";};d.clone=function clone(a){return new d(a.__key);};d.importJSON=function importJSON(){return e();};d.importDOM=function importDOM(){return null;};function d(a){var _this;_this=_b$ElementNode.call(this,a)||this;_this.__type="overflow";return _this;}var _proto=d.prototype;_proto.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_b$ElementNode.prototype.exportJSON.call(this),{type:"overflow"});};_proto.createDOM=function createDOM(a){var c=document.createElement("span");a=a.theme.characterLimit;"string"===typeof a&&(c.className=a);return c;};_proto.updateDOM=function updateDOM(){return!1;};_proto.insertNewAfter=function insertNewAfter(a,c){if(c===void 0){c=!0;}return this.getParentOrThrow().insertNewAfter(a,c);};_proto.excludeFromCopy=function excludeFromCopy(){return!0;};return d;}(require("Lexical").ElementNode);
function e(){return require("Lexical").$applyNodeReplacement(new d());}exports.$createOverflowNode=e;exports.$isOverflowNode=function(a){return a instanceof d;};exports.OverflowNode=d;}),null);
__d("LexicalPlainText",["cr:2909"],(function(a,b,c,d,e,f){e.exports=b("cr:2909")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalPlainText.prod",["Lexical","LexicalClipboard","LexicalSelection","LexicalUtils"],(function $module_LexicalPlainText_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";var k="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,m=k&&"documentMode"in document?document.documentMode:null;k&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);k&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);
var n=k&&"InputEvent"in window&&!m?"getTargetRanges"in new window.InputEvent("input"):!1,p=k&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),q=k&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,r=k&&/^(?=.*Chrome).*/i.test(navigator.userAgent),t=k&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!r;
function u(d,b){b.update(function(){var c=d instanceof KeyboardEvent?null:d.clipboardData,e=require("Lexical").$getSelection();if(null!==e&&null!=c){d.preventDefault();var l=require("LexicalClipboard").$getHtmlContent(b);null!==l&&c.setData("text/html",l);c.setData("text/plain",e.getTextContent());}});}function v(d,b){d.preventDefault();b.update(function(){var c=require("Lexical").$getSelection(),e=d instanceof InputEvent||d instanceof KeyboardEvent?null:d.clipboardData;null!=e&&require("Lexical").$isRangeSelection(c)&&require("LexicalClipboard").$insertDataTransferForPlainText(e,c);},{tag:"paste"});}
function w(d,b){u(d,b);b.update(function(){var c=require("Lexical").$getSelection();require("Lexical").$isRangeSelection(c)&&c.removeText();});}
exports.registerPlainText=function(d){var Lexical;return require("LexicalUtils").mergeRegister(d.registerCommand((Lexical=require("Lexical")).DELETE_CHARACTER_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;c.deleteCharacter(b);return!0;},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.DELETE_WORD_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;c.deleteWord(b);return!0;},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.DELETE_LINE_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;c.deleteLine(b);
return!0;},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.CONTROLLED_TEXT_INSERTION_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;if("string"===typeof b)c.insertText(b);else{var e=b.dataTransfer;null!=e?require("LexicalClipboard").$insertDataTransferForPlainText(e,c):(b=b.data)&&c.insertText(b);}return!0;},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.REMOVE_TEXT_COMMAND,function(){var b=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(b))return!1;b.removeText();return!0;},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.INSERT_LINE_BREAK_COMMAND,
function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;c.insertLineBreak(b);return!0;},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.INSERT_PARAGRAPH_COMMAND,function(){var b=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(b))return!1;b.insertLineBreak();return!0;},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.KEY_ARROW_LEFT_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;var e=b.shiftKey;return require("LexicalSelection").$shouldOverrideDefaultCharacterSelection(c,!0)?(b.preventDefault(),require("LexicalSelection").$moveCharacter(c,
e,!0),!0):!1;},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.KEY_ARROW_RIGHT_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;var e=b.shiftKey;return require("LexicalSelection").$shouldOverrideDefaultCharacterSelection(c,!1)?(b.preventDefault(),require("LexicalSelection").$moveCharacter(c,e,!1),!0):!1;},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.KEY_BACKSPACE_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;b.preventDefault();return d.dispatchCommand(require("Lexical").DELETE_CHARACTER_COMMAND,!0);},Lexical.COMMAND_PRIORITY_EDITOR),
d.registerCommand(Lexical.KEY_DELETE_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;b.preventDefault();return d.dispatchCommand(require("Lexical").DELETE_CHARACTER_COMMAND,!1);},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.KEY_ENTER_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;if(null!==b){if((q||p||t)&&n)return!1;b.preventDefault();}return d.dispatchCommand(require("Lexical").INSERT_LINE_BREAK_COMMAND,!1);},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.COPY_COMMAND,function(b){var c=require("Lexical").$getSelection();
if(!require("Lexical").$isRangeSelection(c))return!1;u(b,d);return!0;},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.CUT_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;w(b,d);return!0;},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.PASTE_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;v(b,d);return!0;},Lexical.COMMAND_PRIORITY_EDITOR),d.registerCommand(Lexical.DROP_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;b.preventDefault();return!0;},Lexical.COMMAND_PRIORITY_EDITOR),
d.registerCommand(Lexical.DRAGSTART_COMMAND,function(b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;b.preventDefault();return!0;},Lexical.COMMAND_PRIORITY_EDITOR));};}),null);
__d("LexicalPlainTextPlugin",["cr:739"],(function(a,b,c,d,e,f){e.exports=b("cr:739")}),null);
__d("useLexicalEditable",["cr:4793"],(function(a,b,c,d,e,f){e.exports=b("cr:4793")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalPlainTextPlugin.prod",["LexicalComposerContext","LexicalDragon","LexicalPlainText","LexicalText","LexicalUtils","ReactDOMComet","react","useLexicalEditable"],(function $module_LexicalPlainTextPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";var c_react;var l=c_react||(c_react=require("react")),u="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?l.useLayoutEffect:l.useEffect;function v(a){return a.getEditorState().read(require("LexicalText").$canShowPlaceholderCurry(a.isComposing()));}
function w(a){var _l$useState=l.useState(function(){return v(a);}),d=_l$useState[0],c=_l$useState[1];u(function(){function e(){var f=v(a);c(f);}e();return require("LexicalUtils").mergeRegister(a.registerUpdateListener(function(){e();}),a.registerEditableListener(function(){e();}));},[a]);return d;}
function x(a,d){var _l$useState2=l.useState(function(){return a.getDecorators();}),c=_l$useState2[0],e=_l$useState2[1];u(function(){return a.registerDecoratorListener(function(f){require("ReactDOMComet").flushSync(function(){e(f);});});},[a]);l.useEffect(function(){e(a.getDecorators());},[a]);return l.useMemo(function(){var f=[],q=Object.keys(c);for(var k=0;k<q.length;k++){var g=q[k];var z=l.createElement(d,{onError:function onError(y){return a._onError(y);}},l.createElement(l.Suspense,{fallback:null},c[g]));g=a.getElementByKey(g);null!==g&&f.push(require("ReactDOMComet").createPortal(z,g));}return f;},[d,c,a]);}
function A(a){u(function(){return require("LexicalUtils").mergeRegister(require("LexicalPlainText").registerPlainText(a),require("LexicalDragon").registerDragonSupport(a));},[a]);}function B(_ref){var a=_ref.content;var _b$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),d=_b$useLexicalComposer[0];d=w(d);var c=require("useLexicalEditable")();return d?"function"===typeof a?a(c):a:null;}exports.PlainTextPlugin=function(_ref2){var a=_ref2.contentEditable,d=_ref2.placeholder,c=_ref2.ErrorBoundary;var _b$useLexicalComposer2=require("LexicalComposerContext").useLexicalComposerContext(),e=_b$useLexicalComposer2[0];c=x(e,c);A(e);return l.createElement(l.Fragment,null,a,l.createElement(B,{content:d}),c);};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalSelection.prod",["Lexical"],(function $module_LexicalSelection_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";var u=new Map();function v(a){for(;null!=a;){if(a.nodeType===Node.TEXT_NODE)return a;a=a.firstChild;}return null;}function w(a){var b=a.parentNode;if(null==b)throw Error("Should never happen");return[b,Array.from(b.childNodes).indexOf(a)];}function y(a){var b={};a=a.split(";");for(var _iterator=a,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var c=_ref;if(""!==c){var _c$split=c.split(/:([^]+)/),e=_c$split[0],d=_c$split[1];b[e.trim()]=d.trim();}}return b;}function z(a){var b=u.get(a);void 0===b&&(b=y(a),u.set(a,b));return b;}
function A(a){var b="";for(var c in a){c&&(b+=c+": "+a[c]+";");}return b;}function B(a,b){var c=z("getStyle"in a?a.getStyle():a.style);b=Object.entries(b).reduce(function(e,_ref2){var d=_ref2[0],f=_ref2[1];null===f?delete e[d]:e[d]=f;return e;},babelHelpers["extends"]({},c));c=A(b);a.setStyle(c);u.set(c,b);}function C(a){for(;null!==a&&!require("Lexical").$isRootOrShadowRoot(a);){var b=a.getLatest(),c=a.getParent();0===b.getChildrenSize()&&a.remove(!0);a=c;}}
function D(a,b,c,e,d){if(d===void 0){d=null;}if(0!==b.length){var f=b[0],h=new Map(),g=[];f=require("Lexical").$isElementNode(f)?f:f.getParentOrThrow();f.isInline()&&(f=f.getParentOrThrow());for(var l=!1;null!==f;){var m=f.getPreviousSibling();if(null!==m){f=m;l=!0;break;}f=f.getParentOrThrow();if(require("Lexical").$isRootOrShadowRoot(f))break;}m=new Set();for(var q=0;q<c;q++){var p=b[q];require("Lexical").$isElementNode(p)&&0===p.getChildrenSize()&&m.add(p.getKey());}var n=new Set();for(q=0;q<c;q++){p=b[q];var r=p.getParent();null!==r&&r.isInline()&&(r=r.getParent());if(null!==
r&&require("Lexical").$isLeafNode(p)&&!n.has(p.getKey())){if(p=r.getKey(),void 0===h.get(p)){(function(){var t=e();t.setFormat(r.getFormatType());t.setIndent(r.getIndent());g.push(t);h.set(p,t);r.getChildren().forEach(function(x){t.append(x);n.add(x.getKey());require("Lexical").$isElementNode(x)&&x.getChildrenKeys().forEach(function(G){return n.add(G);});});C(r);})();}}else m.has(p.getKey())&&(r=e(),r.setFormat(p.getFormatType()),r.setIndent(p.getIndent()),g.push(r),p.remove(!0));}if(null!==d)for(b=0;b<g.length;b++){d.append(g[b]);}b=null;if(require("Lexical").$isRootOrShadowRoot(f)){if(l){if(null!==
d)f.insertAfter(d);else for(d=g.length-1;0<=d;d--){f.insertAfter(g[d]);}}else if(l=f.getFirstChild(),require("Lexical").$isElementNode(l)&&(f=l),null===l){if(d)f.append(d);else for(d=0;d<g.length;d++){l=g[d],f.append(l),b=l;}}else if(null!==d)l.insertBefore(d);else for(f=0;f<g.length;f++){d=g[f],l.insertBefore(d),b=d;}}else if(d)f.insertAfter(d);else for(d=g.length-1;0<=d;d--){l=g[d],f.insertAfter(l),b=l;}g=require("Lexical").$getPreviousSelection();require("Lexical").$isRangeSelection(g)&&g.anchor.getNode().isAttached()&&g.focus.getNode().isAttached()?require("Lexical").$setSelection(g.clone()):
null!==b?b.selectEnd():a.dirty=!0;}}function E(a,b,c,e){a.modify(b?"extend":"move",c,e);}function F(a){a=a.anchor.getNode();return"rtl"===(require("Lexical").$isRootNode(a)?a:a.getParentOrThrow()).getDirection();}exports.$addNodeStyle=function(a){a=a.getStyle();var b=y(a);u.set(a,b);};
exports.$cloneWithProperties=function(a){a=a.getLatest();var b=a.constructor.clone(a);b.__parent=a.__parent;b.__next=a.__next;b.__prev=a.__prev;if(require("Lexical").$isElementNode(a)&&require("Lexical").$isElementNode(b))return b.__first=a.__first,b.__last=a.__last,b.__size=a.__size,b.__format=a.__format,b.__indent=a.__indent,b.__dir=a.__dir,b;require("Lexical").$isTextNode(a)&&require("Lexical").$isTextNode(b)&&(b.__format=a.__format,b.__style=a.__style,b.__mode=a.__mode,b.__detail=a.__detail);return b;};
exports.$getSelectionStyleValueForProperty=function(a,b,c){if(c===void 0){c="";}var e=null,d=a.getNodes();var f=a.anchor,h=a.focus,g=a.isBackward();var l=g?h.offset:f.offset;f=g?h.getNode():f.getNode();if(""!==a.style&&(a=z(a.style),null!==a&&b in a))return a[b];for(a=0;a<d.length;a++){var m=d[a];if((0===a||0!==l||!m.is(f))&&require("Lexical").$isTextNode(m))if(h=b,g=c,m=m.getStyle(),m=z(m),h=null!==m?m[h]||g:g,null===e)e=h;else if(e!==h){e="";break;}}return null===e?c:e;};
exports.$isAtNodeEnd=function(a){return"text"===a.type?a.offset===a.getNode().getTextContentSize():a.offset===a.getNode().getChildrenSize();};exports.$isParentElementRTL=F;exports.$moveCaretSelection=E;exports.$moveCharacter=function(a,b,c){var e=F(a);E(a,b,c?!e:e,"character");};
exports.$patchStyleText=function(a,b){var c=a.getNodes();var e=c.length-1,d=c[0],f=c[e];if(a.isCollapsed())B(a,b);else{var h=a.anchor,g=a.focus,l=d.getTextContent().length,m=g.offset,q=h.offset,p=h.isBefore(g),n=p?q:m;a=p?m:q;var r=p?h.type:g.type,t=p?g.type:h.type;h=p?g.key:h.key;require("Lexical").$isTextNode(d)&&n===l&&(g=d.getNextSibling(),require("Lexical").$isTextNode(g)&&(n=q=0,d=g));if(1===c.length)require("Lexical").$isTextNode(d)&&(n="element"===r?0:q>m?m:q,a="element"===t?l:q>m?q:m,n!==a&&(0===n&&a===l?(B(d,b),d.select(n,a)):(c=d.splitText(n,
a),c=0===n?c[0]:c[1],B(c,b),c.select(0,a-n))));else for(require("Lexical").$isTextNode(d)&&n<d.getTextContentSize()&&(0!==n&&(d=d.splitText(n)[1]),B(d,b)),require("Lexical").$isTextNode(f)&&(n=f.getTextContent().length,f.__key!==h&&0!==a&&(a=n),a!==n&&(_f$splitText=f.splitText(a),f=_f$splitText[0],_f$splitText),0!==a&&B(f,b)),a=1;a<e;a++){var _f$splitText;n=c[a],l=n.getKey(),require("Lexical").$isTextNode(n)&&l!==d.getKey()&&l!==f.getKey()&&!n.isToken()&&B(n,b);}}};
exports.$selectAll=function(a){var b=a.anchor;a=a.focus;var c=b.getNode().getTopLevelElementOrThrow().getParentOrThrow();var e=c.getFirstDescendant();c=c.getLastDescendant();var d="element",f="element",h=0;require("Lexical").$isTextNode(e)?d="text":require("Lexical").$isElementNode(e)||null===e||(e=e.getParentOrThrow());require("Lexical").$isTextNode(c)?(f="text",h=c.getTextContentSize()):require("Lexical").$isElementNode(c)||null===c||(c=c.getParentOrThrow());e&&c&&(b.set(e.getKey(),0,d),a.set(c.getKey(),h,f));};
exports.$setBlocksType=function(a,b){if("root"===a.anchor.key){b=b();var c=require("Lexical").$getRoot();(a=c.getFirstChild())?a.replace(b,!0):c.append(b);}else for(c=a.getNodes(),a=a.anchor.getNode().getParentOrThrow(),-1===c.indexOf(a)&&c.push(a),a.isInline()&&(a=a.getParentOrThrow(),-1===c.indexOf(a)&&c.push(a)),a=0;a<c.length;a++){var f=c[a];var e=f;if(!require("Lexical").$isElementNode(e)||require("Lexical").$isRootOrShadowRoot(e))e=!1;else{var d=e.getFirstChild();d=null===d||require("Lexical").$isTextNode(d)||d.isInline();e=!e.isInline()&&!1!==e.canBeEmpty()&&
d;}e&&(e=b(),e.setFormat(f.getFormatType()),e.setIndent(f.getIndent()),f.replace(e,!0));}};exports.$shouldOverrideDefaultCharacterSelection=function(a,b){a=require("Lexical").$getAdjacentNode(a.focus,b);return require("Lexical").$isDecoratorNode(a)&&!a.isIsolated()||require("Lexical").$isElementNode(a)&&!a.isInline()&&!a.canBeEmpty();};
exports.$sliceSelectedTextNodeContent=function(a,b){if(b.isSelected()&&!b.isSegmented()&&!b.isToken()&&(require("Lexical").$isRangeSelection(a)||require("Lexical").DEPRECATED_$isGridSelection(a))){var c=a.anchor.getNode(),e=a.focus.getNode(),d=b.is(c),f=b.is(e);if(d||f){d=a.isBackward();var _a$getCharacterOffset=a.getCharacterOffsets(),h=_a$getCharacterOffset[0],g=_a$getCharacterOffset[1];a=c.is(e);f=b.is(d?e:c);e=b.is(d?c:e);c=0;var l=void 0;a?(c=h>g?g:h,l=h>g?h:g):f?(c=d?g:h,l=void 0):e&&(d=d?h:g,c=0,l=d);b.__text=b.__text.slice(c,l);}}return b;};
exports.$wrapNodes=function(a,b,c){if(c===void 0){c=null;}var e=a.getNodes();var d=e.length;var f=a.anchor;if(0===d||1===d&&"element"===f.type&&0===f.getNode().getChildrenSize()){a="text"===f.type?f.getNode().getParentOrThrow():f.getNode();e=a.getChildren();var g=b();g.setFormat(a.getFormatType());g.setIndent(a.getIndent());e.forEach(function(l){return g.append(l);});c&&(g=c.append(g));a.replace(g);}else{f=null;var h=[];for(var _g=0;_g<d;_g++){var l=e[_g];require("Lexical").$isRootOrShadowRoot(l)?(D(a,h,h.length,b,c),h=[],f=l):null===f||null!==f&&require("Lexical").$hasAncestor(l,
f)?h.push(l):(D(a,h,h.length,b,c),h=[l]);}D(a,h,h.length,b,c);}};
exports.createDOMRange=function(a,b,c,e,d){var _w,_w2;var f=b.getKey(),h=e.getKey(),g=document.createRange(),l=a.getElementByKey(f);a=a.getElementByKey(h);require("Lexical").$isTextNode(b)&&(l=v(l));require("Lexical").$isTextNode(e)&&(a=v(a));if(void 0===b||void 0===e||null===l||null===a)return null;"BR"===l.nodeName&&(_w=w(l),l=_w[0],c=_w[1],_w);"BR"===a.nodeName&&(_w2=w(a),a=_w2[0],d=_w2[1],_w2);b=l.firstChild;l===a&&null!=b&&"BR"===b.nodeName&&0===c&&0===d&&(d=1);try{g.setStart(l,c),g.setEnd(a,d);}catch(m){return null;}!g.collapsed||c===d&&f===h||(g.setStart(a,d),g.setEnd(l,
c));return g;};exports.createRectsFromDOMRange=function(a,b){var c=a.getRootElement();if(null===c)return[];a=c.getBoundingClientRect();c=getComputedStyle(c);c=parseFloat(c.paddingLeft)+parseFloat(c.paddingRight);b=Array.from(b.getClientRects());var e=b.length,d;for(var f=0;f<e;f++){var h=b[f],g=h.width+c===a.width;d&&d.top===h.top&&d.left===h.left&&d.width===h.width&&d.height===h.height||g?(b.splice(f--,1),e--):d=h;}return b;};exports.getStyleObjectFromCSS=z;
exports.trimTextContentFromAnchor=function(a,b,c){var e=b.getNode();if(require("Lexical").$isElementNode(e)){var d=e.getDescendantByIndex(b.offset);null!==d&&(e=d);}for(;0<c&&null!==e;){var f=e.getPreviousSibling(),h=0;if(null===f){d=e.getParentOrThrow();for(var g=d.getPreviousSibling();null===g;){d=d.getParent();if(null===d){f=null;break;}g=d.getPreviousSibling();}null!==d&&(h=d.isInline()?0:2,f=require("Lexical").$isElementNode(g)?g.getLastDescendant():g);}g=e.getTextContent();""===g&&require("Lexical").$isElementNode(e)&&!e.isInline()&&(g="\n\n");
d=e.getTextContentSize();if(!require("Lexical").$isTextNode(e)||c>=d)g=e.getParent(),e.remove(),null==g||0!==g.getChildrenSize()||require("Lexical").$isRootNode(g)||g.remove(),c-=d+h,e=f;else{(function(){var _e$splitText,_e$splitText2;var l=e.getKey();h=a.getEditorState().read(function(){var q=require("Lexical").$getNodeByKey(l);return require("Lexical").$isTextNode(q)&&q.isSimpleText()?q.getTextContent():null;});f=d-c;var m=g.slice(0,f);null!==h&&h!==g?(c=require("Lexical").$getPreviousSelection(),d=e,e.isSimpleText()?e.setTextContent(h):(d=require("Lexical").$createTextNode(h),e.replace(d)),require("Lexical").$isRangeSelection(c)&&c.isCollapsed()&&(c=c.anchor.offset,
d.select(c,c))):e.isSimpleText()?(h=b.key===l,g=b.offset,g<c&&(g=d),c=h?g-c:0,d=h?g:f,h&&0===c?((_e$splitText=e.splitText(c,d),c=_e$splitText[0],_e$splitText),c.remove()):((_e$splitText2=e.splitText(c,d),c=_e$splitText2[1],_e$splitText2),c.remove())):(c=require("Lexical").$createTextNode(m),e.replace(c));c=0;})();}}};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalText.prod",["Lexical"],(function $module_LexicalText_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";function r(c,g){if(g===void 0){g=!0;}if(c)return!1;c=t();g&&(c=c.trim());return""===c;}function t(){return require("Lexical").$getRoot().getTextContent();}function u(c){if(!r(c,!1))return!1;c=require("Lexical").$getRoot().getChildren();var g=c.length;if(1<g)return!1;for(var e=0;e<g;e++){var b=c[e];if(require("Lexical").$isElementNode(b)){if(!require("Lexical").$isParagraphNode(b)||0!==b.__indent)return!1;b=b.getChildren();var n=b.length;for(var p=0;p<n;p++){if(!require("Lexical").$isTextNode(b[e]))return!1;}}}return!0;}exports.$canShowPlaceholder=u;
exports.$canShowPlaceholderCurry=function(c){return function(){return u(c);};};exports.$findTextIntersectionFromCharacters=function(c,g){var b=c.getFirstChild();c=0;a:for(;null!==b;){if(require("Lexical").$isElementNode(b)){var e=b.getFirstChild();if(null!==e){b=e;continue;}}else if(require("Lexical").$isTextNode(b)){e=b.getTextContentSize();if(c+e>g)return{node:b,offset:g-c};c+=e;}e=b.getNextSibling();if(null!==e)b=e;else{for(b=b.getParent();null!==b;){e=b.getNextSibling();if(null!==e){b=e;continue a;}b=b.getParent();}break;}}return null;};
exports.$isRootTextContentEmpty=r;exports.$isRootTextContentEmptyCurry=function(c,g){return function(){return r(c,g);};};exports.$rootTextContent=t;
exports.registerLexicalTextEntity=function(c,g,b,e){var n=function n(a){var d=require("Lexical").$createTextNode(a.getTextContent());d.setFormat(a.getFormat());a.replace(d);},p=c.registerNodeTransform(require("Lexical").TextNode,function(a){if(a.isSimpleText()){var d=a.getPreviousSibling(),l=a.getTextContent(),m=a;if(require("Lexical").$isTextNode(d)){var k=d.getTextContent(),f=g(k+l);if(d instanceof b){if(null===f||0!==d.getLatest().__mode){n(d);return;}f=f.end-k.length;if(0<f){m=l.slice(0,f);m=k+m;d.select();d.setTextContent(m);f===l.length?a.remove():(d=l.slice(f),
a.setTextContent(d));return;}}else if(null===f||f.start<k.length)return;}for(;;){var _m$splitText,_m$splitText2;a=g(l);l=f=null===a?"":l.slice(a.end);if(""===f){if(k=m.getNextSibling(),require("Lexical").$isTextNode(k))if(f=m.getTextContent()+k.getTextContent(),f=g(f),null===f){k instanceof b?n(k):k.markDirty();break;}else if(0!==f.start)break;}else if(k=g(f),null!==k&&0===k.start)break;if(null===a)break;if(0===a.start&&require("Lexical").$isTextNode(d)&&d.isTextEntity())continue;var q=void 0;0===a.start?(_m$splitText=m.splitText(a.end),q=_m$splitText[0],m=_m$splitText[1],_m$splitText):(_m$splitText2=m.splitText(a.start,a.end),q=_m$splitText2[1],m=_m$splitText2[2],_m$splitText2);a=e(q);q.replace(a);
if(null==m)break;}}});c=c.registerNodeTransform(b,function(a){var d=a.getTextContent();var l=g(d);null===l||0!==l.start?n(a):d.length>l.end?a.splitText(l.end):(d=a.getPreviousSibling(),require("Lexical").$isTextNode(d)&&d.isTextEntity()&&(n(d),n(a)),d=a.getNextSibling(),require("Lexical").$isTextNode(d)&&d.isTextEntity()&&(n(d),a instanceof b&&n(a)));});return[p,c];};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalUtils.prod",["Lexical","LexicalSelection","Promise"],(function $module_LexicalUtils_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";function p(a,b){for(var _iterator=b,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var c=_ref;if(a.type.startsWith(c))return!0;}return!1;}function q(a,b){for(;a!==require("Lexical").$getRoot()&&null!=a;){if(b(a))return a;a=a.getParent();}return null;}function t(a){return 1===a.nodeType;}exports.$splitNode=require("Lexical").$splitNode;
exports.$dfs=function(a,b){var c=[];a=(a||require("Lexical").$getRoot()).getLatest();b=b||(require("Lexical").$isElementNode(a)?a.getLastDescendant():a);for(var f=a,d=0;null!==(f=f.getParent());){d++;}for(f=d;null!==a&&!a.is(b);){if(c.push({depth:f,node:a}),require("Lexical").$isElementNode(a)&&0<a.getChildrenSize())a=a.getFirstChild(),f++;else for(d=null;null===d&&null!==a;){d=a.getNextSibling(),null===d?(a=a.getParent(),f--):a=d;}}null!==a&&a.is(b)&&c.push({depth:f,node:a});return c;};exports.$findMatchingParent=q;
exports.$getNearestBlockElementAncestorOrThrow=function(a){a=q(a,function(b){return require("Lexical").$isElementNode(b)&&!b.isInline();});if(!require("Lexical").$isElementNode(a))throw Error("Minified Lexical error #4; visit https://lexical.dev/docs/error?code=4 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return a;};exports.$getNearestNodeOfType=function(a,b){for(;null!=a;){if(a instanceof b)return a;a=a.getParent();}return null;};
exports.$insertNodeToNearestRoot=function(a){var b=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(b)){var _b=b,c=_b.focus;b=c.getNode();c=c.offset;if(require("Lexical").$isRootOrShadowRoot(b))c=b.getChildAtIndex(c),null==c?b.append(a):c.insertBefore(a),a.selectNext();else{var f,d;require("Lexical").$isTextNode(b)?(f=b.getParentOrThrow(),d=b.getIndexWithinParent(),0<c&&(d+=1,b.splitText(c))):(f=b,d=c);var _n$$splitNode=require("Lexical").$splitNode(f,d);b=_n$$splitNode[1];b.insertBefore(a);b.selectStart();}}else require("Lexical").$isNodeSelection(b)||require("Lexical").DEPRECATED_$isGridSelection(b)?(b=b.getNodes(),b[b.length-
1].getTopLevelElementOrThrow().insertAfter(a)):require("Lexical").$getRoot().append(a),b=require("Lexical").$createParagraphNode(),a.insertAfter(b),b.select();return a.getLatest();};exports.$restoreEditorState=function(a,b){var c=new Map(),f=a._pendingEditorState;for(var _iterator2=b._nodeMap,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref3;if(_isArray2){if(_i2>=_iterator2.length)break;_ref3=_iterator2[_i2++];}else{_i2=_iterator2.next();if(_i2.done)break;_ref3=_i2.value;}var _ref4=_ref3;var d=_ref4[0];var e=_ref4[1];var h=require("LexicalSelection").$cloneWithProperties(e);require("Lexical").$isTextNode(h)&&(h.__text=e.__text);c.set(d,h);}f&&(f._nodeMap=c);a._dirtyType=2;a=b._selection;require("Lexical").$setSelection(null===a?null:a.clone());};exports.$wrapNodeInElement=function(a,b){b=b();a.replace(b);b.append(a);return b;};
exports.addClassNamesToElement=function(a){for(var _len=arguments.length,b=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){b[_key-1]=arguments[_key];}b.forEach(function(c){var _a$classList;"string"===typeof c&&(c=c.split(" ").filter(function(f){return""!==f;}),(_a$classList=a.classList).add.apply(_a$classList,c));});};exports.isHTMLAnchorElement=function(a){return t(a)&&"A"===a.tagName;};exports.isHTMLElement=t;exports.isMimeType=p;
exports.mediaFileReader=function(a,b){var c=a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();return new(require("Promise"))(function(f,d){var e=[],h=function h(){var _c$next=c.next(),m=_c$next.done,k=_c$next.value;if(m)return f(e);var l=new FileReader();l.addEventListener("error",d);l.addEventListener("load",function(){var r=l.result;"string"===typeof r&&e.push({file:k,result:r});h();});p(k,b)?l.readAsDataURL(k):h();};h();});};exports.mergeRegister=function(){for(var _len2=arguments.length,a=new Array(_len2),_key2=0;_key2<_len2;_key2++){a[_key2]=arguments[_key2];}return function(){a.forEach(function(b){return b();});};};
exports.registerNestedElementResolver=function(a,b,c,f){return a.registerNodeTransform(b,function(d){a:{var e=d.getChildren();for(var h=0;h<e.length;h++){if(e[h]instanceof b){e=null;break a;}}for(e=d;null!==e;){if(h=e,e=e.getParent(),e instanceof b){e={child:h,parent:e};break a;}}e=null;}if(null!==e){var _e=e,m=_e.child,k=_e.parent;if(m.is(d)){f(k,d);d=m.getNextSiblings();e=d.length;k.insertAfter(m);if(0!==e){h=c(k);m.insertAfter(h);for(var l=0;l<e;l++){h.append(d[l]);}}k.canBeEmpty()||0!==k.getChildrenSize()||k.remove();}}});};
exports.removeClassNamesFromElement=function(a){for(var _len3=arguments.length,b=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){b[_key3-1]=arguments[_key3];}b.forEach(function(c){var _a$classList2;"string"===typeof c&&(_a$classList2=a.classList).remove.apply(_a$classList2,c.split(" "));});};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("useLexicalEditable.prod",["LexicalComposerContext","react"],(function $module_useLexicalEditable_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";var c_react;var k=c_react||(c_react=require("react")),l="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?k.useLayoutEffect:k.useEffect;function m(a){var _b$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),c=_b$useLexicalComposer[0],e=k.useMemo(function(){return a(c);},[c,a]),d=k.useRef(e.initialValueFn()),_k$useState=k.useState(d.current),n=_k$useState[0],g=_k$useState[1];l(function(){var p=e.initialValueFn,q=e.subscribe,f=p();d.current!==f&&(d.current=f,g(f));return q(function(h){d.current=h;g(h);});},[e,a]);return n;}
function r(a){return{initialValueFn:function initialValueFn(){return a.isEditable();},subscribe:function subscribe(c){return a.registerEditableListener(c);}};}module.exports=function(){return m(r);};}),null);/*FB_PKG_DELIM*/
__d("MWBaseTheme",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={dark:b,light:a,type:"VARIABLES"};d={};f.empty=c;f.Provider=d}),66);
__d("MWCombineThemeConfigs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("MWTextWithEntities.bs",["CometLink.react","MAWArmadilloLink.react","MWMessageCellFocusTable.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,e,f,g){f===void 0&&(f=!1);return function(e,g){return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{role:"gridcell",children:f?h.jsx(c("MAWArmadilloLink.react"),{bypassMDS_DO_NOT_USE:!0,href:g.uri,target:b,testid:void 0,xstyle:a,children:e}):h.jsx(c("CometLink.react"),{href:g.uri,target:b,testid:void 0,xstyle:a,children:e})})})}}g.linkPlugin=a}),98);
__d("MWChatEmojiUtil.bs",["LSHotEmojiSize","LSIntEnum","bs_caml"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a!==void 0&&!c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL)))if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").MEDIUM)))return 56;else if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").LARGE)))return 96;else return 32;else return 32}g.transformHotEmojiSizeForWeb=a}),98);
__d("MWV2MessageRowActionsContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b={current:function(){}};c={current:function(){}};e={current:function(){}};f={current:function(){}};d={forwardMessage:b,openReactionsMenu:c,removeMessage:e,replyToMessage:f};var i=h.createContext(d);function a(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{children:b,value:a})}b={make:a};g.emptyValue=d;g.context=i;g.Provider=b}),98);
__d("useCometRouterIsChatEntity",["getCometEntityKey","recoverableViolation","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null){c("recoverableViolation")("Router state is not defined in `useCometRouterIsChatEntity`","work_comet_core");return!1}var b=c("getCometEntityKey")(a.main.route);if(b==null){c("recoverableViolation")("Entity keys are not defined for "+a.main.route.url,"work_comet_core");return!1}a=b.entity_type==="chat";b=b.section==="WORK_CHAT";return a||b}g["default"]=a}),98);
__d("MWChatReactionsAction.react",["fbt","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResourceForInteraction","LSIntEnum","MWChatColors.bs","MWLSLogMessageClick.bs","MWTooltip.react","MWV2MessageRowActionsContext.bs","ODS","emptyFunction","gkx","react","stylex","useCometRouterIsChatEntity"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useState,n={popoverLoading:{minHeight:"x1wiwyrm",minWidth:"x1q6reyq",$$css:!0}},o=i.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgStroke),cx:"11",cy:"11",r:"7",strokeWidth:"1.5px"}),i.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgStroke),d:"M8,13Q11,16,14,13",strokeWidth:"1.5px"}),i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),cx:"9",cy:"10",r:"1.2"}),i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),cx:"13",cy:"10",r:"1.2"})]});function a(a){var b=a.align;b=b===void 0?"middle":b;var e=a.closeActionsMenu,f=a.disableCustomReactions;f=f===void 0?!1:f;var g=a.hasReactionsV2,p=a.isBroadcastThread,q=a.isSecure;q=q===void 0?!1:q;var r=a.messageID,s=a.onVisibilityChange,t=a.selectedReaction,u=a.sendReaction,v=h._("__JHASH__czR8vxcW0mN__JHASH__");a=c("useCometRouterIsChatEntity")();a=c("gkx")("1224637")&&a;var w=m(function(){return!1}),x=w[0],y=w[1];w=k(d("MWV2MessageRowActionsContext.bs").context);var z=w.openReactionsMenu,A=j(function(a){if(c("gkx")("3417")){z.current=c("emptyFunction");return}},[z]);l(function(){return A},[A]);w=j(function(a){var b=t!==void 0&&g!==!0&&t===a;u(a,b);b||d("MWLSLogMessageClick.bs").logMessageClicked(r,d("LSIntEnum").ofNumber(21));return e()},[t,g,u,e,r]);var B=j(function(a){return a?s(a):y(function(){return!1})},[y,s]);return i.jsx(c("CometLazyPopoverTrigger.react"),{align:b==="end_"?"end":b,fallback:i.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:n.popoverLoading}),onVisibilityChange:B,popoverProps:{closeActionsMenu:e,disableCustomReactions:f,isBroadcastThread:p,isSecure:q,messageID:r,onClose:c("emptyFunction"),onSelect:w,selectedReaction:t,setShowEmojiPicker:y,showEmojiPicker:x},popoverResource:a&&c("gkx")("4433")?c("JSResourceForInteraction")("ChatGeminiAnimatedReactionsMenu").__setRef("MWChatReactionsAction.react"):c("JSResourceForInteraction")("MWChatReactionsMenu.react").__setRef("MWChatReactionsAction.react"),popoverType:x?"dialog":"menu",position:x?"below":"above",children:function(a,b,e,f,g,h){e=function(){b(),d("MWLSLogMessageClick.bs").logMessageClicked(r,d("LSIntEnum").ofNumber(63)),d("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")};z.current=e;return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:v,children:i.jsx(c("CometPressable.react"),{"aria-label":v,expanding:!0,onHoverIn:f,onHoverOut:g,onPress:e,onPressIn:h,overlayDisabled:!0,ref:a,role:"button",testid:void 0,children:i.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.action),children:i.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.icon),children:o})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageCellKeyCommands.bs",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.bs","bs_curry","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;var b=h.useContext(d("MWV2MessageRowActionsContext.bs").context),e=b.openReactionsMenu,f=h.useCallback(function(){return c("bs_curry")._1(e.current)},[e]);b=h.useContext(d("MWV2MessageRowActionsContext.bs").context);var g=b.replyToMessage,i=h.useCallback(function(){return c("bs_curry")._1(g.current)},[g]);b=h.useContext(d("MWV2MessageRowActionsContext.bs").context);var j=b.forwardMessage,k=h.useCallback(function(){return c("bs_curry")._1(j.current)},[j]);b=h.useContext(d("MWV2MessageRowActionsContext.bs").context);var l=b.removeMessage,m=h.useCallback(function(){return c("bs_curry")._1(l.current)},[l]);b=h.useMemo(function(){var a=[],b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","likeMessage",f);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","replyToMessage",i);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","forwardMessage",k);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","removeMessage",m);a.push(b);return a},[f,i,k,m]);return h.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.keyCommands=e}),98);
__d("MWPBaseMessageListRowActions.bs",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.children;a=a.outgoing;return h.jsx("div",{className:"x6s0dn4 x78zum5 x1ll7btr"+(a?" x15zctf7":" x1q0g3np"),role:"none",children:b})}i.displayName=i.name+" [from "+f.id+"]";e={make:i};function a(a){a=a.children;return h.jsx("div",{children:a})}a.displayName=a.name+" [from "+f.id+"]";d={make:a};var j={incoming:{paddingStart:"x1t2a60a",$$css:!0},moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},outgoing:{paddingEnd:"x1mpkggp",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1ll7btr",zIndex:"x1n327nk",$$css:!0}};function b(a){var b=a.children,d=a.hasReactions,e=a.outgoing;a=a.ariaHidden;a=a!==void 0?a:!1;return h.jsx("div",{"aria-hidden":a,className:c("stylex")(j.root,d?j.moveUpToAccountForReactions:!1,e?j.outgoing:j.incoming),children:h.jsx(i,{outgoing:e,children:b})})}b.displayName=b.name+" [from "+f.id+"]";a={make:b,styles:j};g.ActionsList=e;g.ActionsListItem=d;g.Container=a}),98);
__d("MDSContextualMenuIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[h.jsx("circle",{cx:"11",cy:"6",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"}),h.jsx("circle",{cx:"11",cy:"11",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"}),h.jsx("circle",{cx:"11",cy:"16",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ContextualActionsButton.bs",["fbt","CometDeferredPopoverTrigger.react","CometPressable.react","I64","JSResourceForInteraction","LSCommunityBitOffset","LSContactBitOffset.bs","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset.bs","MAWGating","MDSContextualMenuIcon.react","MWCMThreadTypes.react","MWLSFeatureLimitedStatus.bs","MWPActor.bs","MWPCanRemoveMessageGlobally.bs","MWTooltip.react","MWV2LogMessageClick.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","emptyFunction","gkx","qex","react","requireDeferred","useCometLazyDialog","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("react"),j=c("requireDeferred")("MWV2ContextualActionsMenuDeferred.react").__setRef("MWV2ContextualActionsButton.bs");function a(a){var b=a.canRemoveMessageGlobally,e=a.closeActionsMenu,f=a.extraActions,g=a.message,k=a.setMoreMenuOpen,l=a.showForwardActionInContextualMenu,m=a.showReplyActionInContextualMenu,n=a.thread,o=c("useReStore")(),p=h._("__JHASH__I1DdCdLzOkz__JHASH__");a=c("useCommunityFolder")(n);var q=d("MWPCanRemoveMessageGlobally.bs").make(n,g),r=d("MWCMThreadTypes.react").isJoinedCMThread(n.threadType),s=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(r)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(o.table("participants")),{hd:n.threadKey,tl:{hd:g.senderId,tl:0}});else return d("SortedAsyncIterable.bs").empty()},[o,JSON.stringify(n.threadKey)])),t=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(r)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(o.table("contacts")),{hd:g.senderId,tl:0});else return d("SortedAsyncIterable.bs").empty()},[JSON.stringify(g.senderId),o])),u=d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(83),n);a=a!=null?d("LSCommunityBitOffset").has(d("LSIntEnum").ofNumber(9),a):!1;var v=d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(93),n),w=d("LSMessagingThreadTypeUtil").isSecure(n.threadType),x=(!w||d("MAWGating").isFeatureLimitEnabled())&&d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(),y=!x&&c("gkx")("1840885"),z=d("MWPActor.bs").useActor();t=t!==void 0&&((t=d("LSContactBitOffset.bs").has(d("LSIntEnum").ofNumber(77),t))!=null?t:!1);var A=c("qex")._("898")===!0&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(106),n)&&!g.isUnsent,B=g.isUnsent;B=r?B?!1:q?!a&&t?!1:!0:u:w?!x&&(d("MAWGating").isUnsendGlobalEnabled()&&d("I64").equal(g.senderId,z)&&!g.isUnsent||d("MAWGating").isUnsendLocallyEnabled()):y;q=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWV2RemoveMessageDialog.bs").__setRef("MWV2ContextualActionsButton.bs"));var C=q[0];u=(a=s==null?void 0:s.isAdmin)!=null?a:!1;w=g.unsentTimestampMs;x=w!==void 0;y=d("MWCMThreadTypes.react").isJoinedCMThread(n.threadType)&&v&&!u&&!d("I64").equal(z,g.senderId)&&!x&&!t;q=d("MWCMThreadTypes.react").isJoinedCMThread(n.threadType)&&!d("I64").equal(z,g.senderId)&&!x;s=i.useCallback(function(){var a={message:g,onClose:c("emptyFunction"),thread:n};return C(a,c("emptyFunction"))},[g,C]);a=i.useContext(d("MWV2MessageRowActionsContext.bs").context);var D=a.removeMessage;B?D.current=s:D.current=c("emptyFunction");var E=i.useCallback(function(){if(c("gkx")("3417")){D.current=c("emptyFunction");return}},[D]);i.useEffect(function(){return E},[E]);w=i.useContext(d("MWV2MessageRowIsRowFocusedContext.bs").context);if(!(l||m||A||B||q||f!=null))return null;var F=w.setFocused;return i.jsx(c("CometDeferredPopoverTrigger.react"),{align:"middle",onVisibilityChange:function(a){k(function(){return a});return F(function(){return a})},popoverProps:{canRemoveMessageGlobally:b,closeActionsMenu:e,extraActions:f,message:g,showForwardActionInContextualMenu:l,showPinMessageActionInContextualMenu:A,showReplyActionInContextualMenu:m,showReportCommunityMessageToAdmin:y,showReportCommunityMessageToFacebook:q,showUnsendInContextualMenu:B},popoverResource:j,popoverType:"menu",position:"above",children:function(a,b){var e=function(){b();return d("MWV2LogMessageClick.bs").log(o,g,48)};return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:p,children:i.jsx(c("CometPressable.react"),{"aria-label":p,expanding:!0,onPress:e,overlayDisabled:!0,ref:a,testid:void 0,children:i.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:i.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:i.jsx(c("MDSContextualMenuIcon.react"),{})})})})})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ForwardMessageButton.bs",["fbt","LSBitFlag","LSIntEnum","LSMessagingThreadTypeUtil","MAWGating","MWChatForwardAction.bs","MWChatMessageId.bs","MWV2ForwardMessage.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_format","bs_caml_obj","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a,b){var e=c("useReStore")();return d("ReQLSubscription.bs").useFirstExn(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("threads")),{hd:b.threadKey,tl:0})},[e,JSON.stringify(b.threadKey)]))}function a(a){var b=a.message,e=c("useReStore")();e=j(e,b);var f=d("MAWGating").isForwardEnabled()&&d("LSMessagingThreadTypeUtil").isSecure(e.threadType),g=d("MAWGating").isCrossForwardEnabled();f=f?g?"cross_transport":"secure":g?"cross_transport":"open_";g=d("MWChatMessageId.bs").makeSent(c("bs_int64").to_string(b.threadKey),b.messageId,c("bs_int64").to_string(b.timestampMs));var k=d("MWV2ForwardMessage.bs").useForwardMessage(b);e=!d("LSMessagingThreadTypeUtil").isSecure(e.threadType);b=d("LSBitFlag").has(d("LSIntEnum").ofNumber(1),b.displayedContentTypes)&&!b.textHasLinks||d("LSBitFlag").has(d("LSIntEnum").ofNumber(16384),b.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(2),b.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(4),b.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(512),b.displayedContentTypes)||c("bs_caml_obj").caml_equal(b.stickerId,c("bs_caml_format").caml_int64_of_string("369239263222822"))||c("bs_caml_obj").caml_equal(b.stickerId,c("bs_caml_format").caml_int64_of_string("369239343222814"))||c("bs_caml_obj").caml_equal(b.stickerId,c("bs_caml_format").caml_int64_of_string("369239383222810"));e=e&&!b||a.dropForwardE2eeToggle===!0;return i.jsx(d("MWChatForwardAction.bs").make,{dropToggle:e,forwardDialogType:f,label:h._("__JHASH__GvPr2MwluxY__JHASH__"),messageID:g,onForward:k})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWV2MessageReactionHooks",["I64","MWPActor.bs","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";a={useSelectedReaction:function(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(a.threadKey,a.messageId,e)},[e,b,a.messageId,a.threadKey]);if(f!==void 0)return f.reaction},useSelectedReactionV2:function(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor})},[b,a.messageId,a.threadKey]);return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reaction_v2_types")).filter(function(a){return e?d("I64").equal(a.reactionFbid,e.reactionFbid):!1}).map(function(a){return a.reactionLiteral})},[b,e])}};g.MWV2MessageReactionHooks=a}),98);
__d("MWV2MessageReactionButton.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset.bs","MAWGating","MAWPSendOrRemoveReaction.bs","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWChatMessageId.bs","MWChatReactionsAction.react","MWLSFeatureLimitedStatus.bs","MWV2MessageReactionHooks","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.closeActionsMenu,e=a.message,f=a.onReactionsSendLogger,g=a.setReactionsMenuOpen;a=a.thread;var k=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(e),l=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReactionV2(e),m=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),n=d("MAWPSendOrRemoveReaction.bs").useSendOrRemoveReaction(e,m,"reaction_tray"),o=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited();o=(!m||d("MAWGating").isFeatureLimitEnabled())&&o;var p=d("I64").to_string(a.threadKey),q=d("I64").to_string(e.timestampMs),r=j(function(){return d("MWChatMessageId.bs").makeSent(p,e.messageId,q)},[p,e.messageId,q]),s=i(function(a,b){f&&f();return n(e.messageId,b?void 0:a,b?"remove_reaction":"reaction")},[n,e.messageId]),t=i(function(a){return g(function(){return a})},[g]),u=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType),v=u&&c("gkx")("8026")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),a),w=c("MWCMIsAnyCMThread")(a.threadType)&&!u&&c("gkx")("2640")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),a);a=d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(a.threadType)&&c("gkx")("6661");w=v||w||a;if(o)return null;else return h.jsx(c("MWChatReactionsAction.react"),{closeActionsMenu:b,disableCustomReactions:v,hasReactionsV2:w,isBroadcastThread:u,isSecure:m,messageID:r,onVisibilityChange:t,selectedReaction:w?l:k,sendReaction:s})}g["default"]=a}),98);
__d("MWV2OneToOneThreadBlockedContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext(!1);function a(){return h.useContext(i)}function b(a){var b=a.blocked;a=a.children;return h.createElement(i.Provider,{children:a,value:b})}c=b;g.context=i;g.useIsBlocked=a;g.make=c}),98);
__d("MDSReplyActionSvgIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("svg",{height:"22px",viewBox:"1 1 21 21",width:"22px",children:h.jsx("g",{className:"x148u3ch",fillRule:"evenodd",strokeWidth:"1",children:h.jsx("path",{d:"M10.8932368,14.7625445 C10.8932368,15.535432 10.0849567,15.996442 9.48116675,15.5677995 L4.03193175,11.696707 C3.49257425,11.313742 3.49287675,10.4694645 4.03193175,10.0864995 L9.48116675,6.2157095 C10.0849567,5.7867645 10.8932368,6.248077 10.8932368,7.020662 L10.8938418,9.0755445 C15.2129368,9.0755445 18.1517243,11.027577 18.1523293,15.7226795 C18.1523293,16.0820495 17.9036743,16.3349395 17.5273643,16.3349395 C17.2487618,16.3349395 17.0164418,16.1746145 16.8527893,15.680027 C16.1588543,13.584307 14.1063918,12.7049395 10.8938418,12.7049395 L10.8932368,14.7625445 Z"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageListIsRowModalContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){}var i=h.createContext(a);function b(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{children:b,value:a})}c={make:b};e=a;g.context=i;g.Provider=c;g.emptyValue=e}),98);
__d("MWV2ReplyButton.bs",["fbt","CometPressable.react","MDSReplyActionSvgIcon.react","MWPReplyContext.bs","MWTooltip.react","MWV2MessageListIsRowModalContext.bs","MWV2MessageRowActionsContext.bs","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(){}function a(a){var b=a.message;a=h._("__JHASH__xFCj85w6vra__JHASH__");var e=i.useContext(d("MWPReplyContext.bs").context),f=e.setReply,g=i.useContext(d("MWV2MessageListIsRowModalContext.bs").context),k=function(){c("bs_curry")._2(f,{messageId:b.messageId,offlineThreadingId:b.offlineThreadingId,sendStatusV2:b.sendStatusV2,timestampMs:b.timestampMs},b.threadKey);return c("bs_curry")._1(g,function(){return""})};e=i.useContext(d("MWV2MessageRowActionsContext.bs").context);var l=e.replyToMessage;l.current=k;var m=i.useCallback(function(){if(c("gkx")("3417")){l.current=j;return}},[l]);i.useEffect(function(){return m},[m]);return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:a,children:i.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:i.jsx(c("CometPressable.react"),{"aria-label":a,expanding:!0,onPress:function(){return k()},overlayDisabled:!0,testid:void 0,children:i.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:i.jsx(c("MDSReplyActionSvgIcon.react"),{})})})})})}a.displayName=a.name+" [from "+f.id+"]";b=24;e=a;f=b;a=j;b=e;g.minMessageHeight=f;g.noop=a;g.make=b}),98);
__d("MWMessageRowActions.bs",["I64","LSAuthorityLevel","LSBitFlag","LSContactBitOffset.bs","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset.bs","MAWGating","MAWMsg.bs","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWLSFeatureLimitedStatus.bs","MWPBaseMessageListRowActions.bs","MWTooltipGroup.react","MWV2ContextualActionsButton.bs","MWV2ForwardMessageButton.bs","MWV2MessageReactionButton.react","MWV2MessageRowActionsContext.bs","MWV2OneToOneThreadBlockedContext.bs","MWV2ReplyButton.bs","MWV2UseMessageForwardAction.bs","MessagingAttachmentType","ReQL","ReQLSuspense","cr:10871","emptyFunction","gkx","qex","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useState;function m(a){var b=c("useReStore")();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(a.threadKey)},[b,a.threadKey])}function n(a){var e=a.alwaysShowForwardForMediaMessages,f=a.canRemoveMessageGlobally,g=a.closeActionsMenu,l=a.dropForwardE2eeToggle,n=a.extraActions,o=a.interactedWith,p=a.message,q=a.onReactionsSendLogger,r=a.outgoing,s=a.setMoreMenuOpen;a=a.setReactionsMenuOpen;var t=m(p),u=d("MWV2OneToOneThreadBlockedContext.bs").useIsBlocked(),v=c("useReStore")(),w=t.threadKey,x=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(v.table("contacts")).getKeyRange(w)},[w,v]);x=x!==void 0?(x=d("LSContactBitOffset.bs").has(d("LSIntEnum").ofNumber(66),x))!=null?x:!1:!1;var y=p.ephemeralDurationInSec;y=y!==void 0?d("I64").gt(y,d("I64").zero):!1;var z=d("LSMessagingThreadTypeUtil").isSecure(t.threadType),A=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!z||d("MAWGating").isFeatureLimitEnabled()),B=d("I64").equal(p.displayedContentTypes,d("LSIntEnum").ofNumber(4096)),C=d("I64").equal(p.displayedContentTypes,d("LSIntEnum").ofNumber(1024)),D=!d("I64").equal(p.displayedContentTypes,d("LSIntEnum").ofNumber(1)),E=c("MWCMIsAnyCMThread")(t.threadType)&&d("I64").equal(p.sendStatusV2,d("LSIntEnum").ofNumber(4)),F=d("ReQLSuspense").useFirst(function(){return D?d("ReQL").fromTableAscending(v.table("attachments")).getKeyRange(p.threadKey,p.messageId):d("ReQL").empty()},[v,p.messageId,p.threadKey,D]);y=(z?d("MAWGating").isForwardEnabled()&&!y&&!B&&!C:!0)&&c("gkx")("1844772")&&!u&&!x&&!A&&!p.isUnsent&&!E&&!d("MAWMsg.bs").isPlaceholder(p)&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(103),t)&&d("I64").gt(p.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&(F!==void 0&&d("I64").equal(F.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA))&&(F.attachmentCta1Id!==void 0||F.attachmentCta2Id!==void 0||F.attachmentCta3Id!==void 0||F.defaultCtaId!==void 0)?F.isSharable:!0);B=!u&&!x&&!E&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(42),t)&&!p.isUnsent;C=d("MWCMThreadTypes.react").isBroadcastThread(t.threadType)&&c("gkx")("8026")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),t);A=c("MWCMIsAnyCMThread")(t.threadType)&&!d("MWCMThreadTypes.react").isBroadcastThread(t.threadType)&&c("gkx")("2551")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),t);F=d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(t.threadType)&&c("gkx")("6661")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),t);C=C||A||F;A=!u&&!x&&!p.isUnsent&&!E&&(d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(18),t)||C)&&(z?c("qex")._("1525")===!0:!0);F=B&&!e&&o;u=e&&y;x=o&&A;E=z&&d("I64").equal(p.sendStatusV2,d("LSIntEnum").ofNumber(5));C=d("MWV2UseMessageForwardAction.bs").useHook(t,p);e=j(d("MWV2MessageRowActionsContext.bs").context);var G=e.forwardMessage;y&&(G.current=C);var H=i(function(){if(c("gkx")("3417")){G.current=c("emptyFunction");return}},[G]);k(function(){return H},[H]);return h.jsxs(d("MWPBaseMessageListRowActions.bs").ActionsList.make,{outgoing:r,children:[u?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(d("MWV2ForwardMessageButton.bs").make,{dropForwardE2eeToggle:l,message:p})}):null,x?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(c("MWV2MessageReactionButton.react"),{closeActionsMenu:g,message:p,onReactionsSendLogger:q,setReactionsMenuOpen:a,thread:t})}):null,b("cr:10871")!=null&&E?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(b("cr:10871").make,{message:p})}):null,F?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(d("MWV2ReplyButton.bs").make,{message:p})}):null,o?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(d("MWV2ContextualActionsButton.bs").make,{canRemoveMessageGlobally:f,closeActionsMenu:g,extraActions:n,message:p,setMoreMenuOpen:s,showForwardActionInContextualMenu:!u&&y,showReplyActionInContextualMenu:!F&&B,thread:t})}):null]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.ariaHidden,e=a.canRemoveMessageGlobally,f=a.dropForwardE2eeToggle,g=a.extraActions,i=a.focused,j=a.hasReactions,k=a.hovered,m=a.message,o=a.onReactionsSendLogger;a=a.outgoing;var p=l(function(){return!1}),q=p[0];p=p[1];var r=l(function(){return!1}),s=r[0];r=r[1];var t=d("LSBitFlag").has(d("LSIntEnum").ofNumber(2),m.displayedContentTypes);k=k||i||s||q;return h.jsx(c("MWTooltipGroup.react"),{children:h.jsx(d("MWPBaseMessageListRowActions.bs").Container.make,{ariaHidden:(i=b)!=null?i:!1,hasReactions:j,outgoing:a,children:k||t?h.jsx(n,{alwaysShowForwardForMediaMessages:t,canRemoveMessageGlobally:(s=e)!=null?s:!0,closeActionsMenu:c("emptyFunction"),dropForwardE2eeToggle:f,extraActions:(q=g)!=null?q:null,interactedWith:k,message:m,onReactionsSendLogger:o,outgoing:a,setMoreMenuOpen:r,setReactionsMenuOpen:p}):null})})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.make=e}),98);
__d("MWPTransparentMessageBubble.bs",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=36;e=b+6|0;d=e+14|0;var i={bubble:{maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"xm7lytj",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",":after_borderTopColor":"xzackxk",":after_borderEndColor":"x1vvs6jl",":after_borderBottomColor":"x1p8yz0e",":after_borderStartColor":"x1e72984",":after_borderTopStartRadius":"x1qxsuse",":after_borderTopEndRadius":"x1pwr4jm",":after_borderBottomEndRadius":"xgt0i0e",":after_borderBottomStartRadius":"xhiudvi",":after_borderTopStyle":"x1ikrcl6",":after_borderEndStyle":"xrlr1mf",":after_borderBottomStyle":"x13m8g0b",":after_borderStartStyle":"x1wea3ti",":after_borderTopWidth":"x1pdxsal",":after_borderEndWidth":"xgyc039",":after_borderBottomWidth":"xza5l1d",":after_borderStartWidth":"xcavrb8",":after_bottom":"x1p4c0ny",":after_content":"x5l10my",":after_display":"xieozyd",":after_end":"x14rr3af",":after_pointerEvents":"x1kx6eu5",":after_position":"x1x824oc",":after_start":"x1fefmpr",":after_top":"x1a3valx",$$css:!0},incoming_connect_bot:{":after_borderBottomStartRadius":"x1fyu3th",$$css:!0},incoming_connect_top:{":after_borderTopStartRadius":"xe80118",$$css:!0},outgoing_connect_bot:{":after_borderBottomEndRadius":"x7yvbyb",$$css:!0},outgoing_connect_top:{":after_borderTopEndRadius":"x1chp5k1",$$css:!0},precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",":after_borderBottomEndRadius":"x1bxxhgu",":after_borderBottomStartRadius":"x1yn7maq",$$css:!0}};function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing;a=a.precedesXMA;return h.jsx("div",{className:c("stylex")(i.bubble,e?f?i.outgoing_connect_top:i.incoming_connect_top:!1,!a&&d?f?i.outgoing_connect_bot:i.incoming_connect_bot:!1,a?i.precedes_xma:!1),role:"none",children:b})}a.displayName=a.name+" [from "+f.id+"]";f=18;a=a;g.borderWidth=b;g.smallRadius=e;g.largeRadius=d;g.baseSize=f;g.make=a}),98);
__d("MWV2ChatBubble.bs",["MWPColorUtils.bs","MWPMessageIsReply.bs","MWPSolidMessageBubble.bs","MWPThreadTheme.bs","MWPTransparentMessageBubble.bs","MWUseInlineStyleforReply","bs_caml_splice_call","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={emphasis_ring:{backgroundColor:"xjbqb8w",borderTop:"xkaxx8j",borderEnd:"xif9i9b",borderBottom:"x1ueo1nx",borderStart:"x1jawzb3",display:"x78zum5",maxWidth:"x1hvl878",position:"x1n2onr6",":after_borderTopColor":"x18gol9d",":after_borderEndColor":"x1fy2a9x",":after_borderBottomColor":"xx8rwve",":after_borderStartColor":"xcgf5qo",":after_borderTopStartRadius":"x1re2sdf",":after_borderTopEndRadius":"x153aelg",":after_borderBottomEndRadius":"xmcu26r",":after_borderBottomStartRadius":"x1egkzb1",":after_borderTopStyle":"x1ikrcl6",":after_borderEndStyle":"xrlr1mf",":after_borderBottomStyle":"x13m8g0b",":after_borderStartStyle":"x1wea3ti",":after_borderTopWidth":"xmm20zi",":after_borderEndWidth":"x1e2mm14",":after_borderBottomWidth":"xozjuat",":after_borderStartWidth":"x19hdz91",":after_bottom":"x1zht7t",":after_content":"x5l10my",":after_display":"xieozyd",":after_end":"x8tsall",":after_pointerEvents":"x1kx6eu5",":after_position":"x1x824oc",":after_start":"xdkcqcq",":after_top":"xaic3fe",":after_zIndex":"x1ai82m1",":before_borderTopColor":"x1qr7w4a",":before_borderEndColor":"x1ncy427",":before_borderBottomColor":"x1rhx1n7",":before_borderStartColor":"xmqa6l6",":before_borderTopStartRadius":"xn7tiao",":before_borderTopEndRadius":"x14kh6e",":before_borderBottomEndRadius":"xlhwqg6",":before_borderBottomStartRadius":"x1ue140e",":before_borderTopStyle":"x183k7y4",":before_borderEndStyle":"x1uj30e5",":before_borderBottomStyle":"x1ud4nwh",":before_borderStartStyle":"x1i2jaea",":before_borderTopWidth":"x1rcj5n0",":before_borderEndWidth":"x1repur9",":before_borderBottomWidth":"x16kf9eg",":before_borderStartWidth":"x13qqqgl",":before_bottom":"x1k7te01",":before_content":"x1gftdam",":before_display":"x1m8qh1o",":before_end":"x1tqfvzf",":before_opacity":"x2e9uc7",":before_pointerEvents":"xob360l",":before_position":"x1te0kx0",":before_start":"xx38qm5",":before_top":"x1nfgzt4",":before_zIndex":"x1wl4osp",$$css:!0},emphasis_ring_before_xma:{borderBottom:"x112ta8",":after_borderBottom":"xc1oo7v",":after_borderBottomEndRadius":"x1bxxhgu",":after_borderBottomStartRadius":"x1yn7maq",":before_borderBottom":"x31l8rw",":before_borderBottomEndRadius":"xe8dl21",":before_borderBottomStartRadius":"xv9yadz",$$css:!0},emphasis_ring_connect_bottom_incoming:{":after_borderBottomStartRadius":"xdjm15t",":before_borderBottomStartRadius":"xgdbwlz",$$css:!0},emphasis_ring_connect_bottom_outgoing:{":after_borderBottomEndRadius":"x1dmanbz",":before_borderBottomEndRadius":"ximmp30",$$css:!0},emphasis_ring_connect_top_incoming:{":after_borderTopStartRadius":"xh4u4d4",":before_borderTopStartRadius":"x66tqvc",$$css:!0},emphasis_ring_connect_top_outgoing:{":after_borderTopEndRadius":"xlhwsbn",":before_borderTopEndRadius":"xvpvy2v",$$css:!0},emphasis_ring_xma:{borderTop:"x76ihet",width:"x1o2z316",":after_borderTop":"xmeydad",":after_borderTopEndRadius":"x9k7ksk",":after_borderTopStartRadius":"x15jwe59",":before_borderTop":"xw0djt0",":before_borderTopEndRadius":"x1quqxg3",":before_borderTopStartRadius":"xgdrrmm",$$css:!0}};function j(a,b){if(b)return{backgroundColor:d("MWPColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}}function k(a){var b=a.children,c=a.connectBottom,e=a.connectTop,f=a.outgoing,g=a.precedesXMA,i=a.threadTheme;a=a.xmaLayout;i=j(i,f);return h.jsx(d("MWPSolidMessageBubble.bs").make,{connectBottom:c,connectTop:e,outgoing:f,precedesXMA:g,style:i,xmaLayout:a,children:b})}k.displayName=k.name+" [from "+f.id+"]";b={make:k,useInlineStyles:j};function l(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.gradientColors,i=a.outgoing,j=a.precedesXMA;a=a.threadTheme;a=c("MWUseInlineStyleforReply")(a,g,i);return h.jsx(d("MWPSolidMessageBubble.bs").make,{connectBottom:e,connectTop:f,outgoing:i,precedesXMA:j,style:a,children:b})}l.displayName=l.name+" [from "+f.id+"]";e={make:l,useInlineStyles:c("MWUseInlineStyleforReply")};function m(a){var b=a.children,c=a.connectBottom,e=a.connectTop,f=a.outgoing;a=a.precedesXMA;return h.jsx(d("MWPTransparentMessageBubble.bs").make,{connectBottom:c,connectTop:e,outgoing:f,precedesXMA:a,children:b})}m.displayName=m.name+" [from "+f.id+"]";var n={make:m};function o(a){var b=a.children,d=a.hasXMA,e=a.isBeforeXMA,f=a.isOutgoing,g=a.shouldConnectBottom;a=a.shouldConnectTop;e=[i.emphasis_ring,e?i.emphasis_ring_before_xma:g?f?i.emphasis_ring_connect_bottom_outgoing:i.emphasis_ring_connect_bottom_incoming:!1,d?a?i.emphasis_ring_xma:!1:a?f?i.emphasis_ring_connect_top_outgoing:i.emphasis_ring_connect_top_incoming:!1];return h.jsx("div",{className:c("bs_caml_splice_call").spliceApply(c("stylex"),[e]),"data-testid":void 0,children:b})}o.displayName=o.name+" [from "+f.id+"]";f={make:o};function a(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.message,i=a.outgoing,j=a.precedesXMA,n=a.xmaLayout;n=n===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:n;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var p=d("MWPThreadTheme.bs").useHook(),q=p.gradientColors;p=p.threadTheme;g=c("MWPMessageIsReply.bs")(g);g=g?h.jsx(l,{connectBottom:e,connectTop:f,gradientColors:q,outgoing:i,precedesXMA:j,threadTheme:p,children:b}):i&&q.length>1?h.jsx(m,{connectBottom:e,connectTop:f,outgoing:i,precedesXMA:j,children:b}):h.jsx(k,{connectBottom:e,connectTop:f,outgoing:i,precedesXMA:j,threadTheme:p,xmaLayout:n,children:b});if(a)return h.jsx(o,{hasXMA:!1,isBeforeXMA:j,isOutgoing:i,shouldConnectBottom:e,shouldConnectTop:f,children:g});else return g}a=a;b=b;e=e;n=n;f=f;a=a;g.Solid=b;g.Reply=e;g.Transparent=n;g.EmphasisRing=f;g.make=a}),98);
__d("MWV2ChatErrorBubble.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withBackground:{backgroundColor:"xcrg951",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){a=a.isReply;return i.jsxs("div",{className:""+(a?" x1vjfegm":" xcrg951"),children:[a?null:i.jsx("div",{className:"x36qwtl xh8yej3 xcrg951"}),i.jsx(d("MWV2TombstonedMessage.bs").make,{xstyle:j.withBackground,children:h._("__JHASH__i7dsmazT6Cf__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ChatSeenHeadsRow.react",["fbt","CometGlimmer.react","CometImage.react","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MWLSThreadDisplayContext","MWPThreadTheme.bs","MWTooltip.react","MWTooltipGroup.react","MWV2MessageRowIsRowFocusedContext.bs","MercuryTimestamp","getFBTSafeGenderFromGenderConst","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useRef,l=5,m=c("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog.react").__setRef("MWV2ChatSeenHeadsRow.react"),n={heads:{display:"x78zum5",flexShrink:"x2lah0s",$$css:!0},img:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",paddingEnd:"x19um543",paddingStart:"x1m6msm",verticalAlign:"xxymvpz",width:"x6jxa94",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},overflow:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",color:"xi81zsa",fontSize:"x1ncwhqj",fontWeight:"x117nqv4",lineHeight:"x1hkbg2g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x150jy0e",paddingBottom:"x18d9i69",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},root:{display:"x78zum5",paddingBottom:"x1120s5i",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}};function o(a,b,d,e){if(!d)return[];d=Math.max(Math.floor(b-9),0);a=a.slice(d,b);var f="\n"+h._("__JHASH__8_D_WS90lqj__JHASH__",[h._param("Number of additional views",d,[0])]);a=i.jsxs("ul",{children:[a.reverse().map(function(a,b){return i.jsx("li",{children:a.name},String(b))}),d>0?i.jsx("li",{children:f},"overflow"):null]});return[i.jsx(c("MWTooltip.react"),{align:e==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:a,children:i.jsx("span",{className:"x1qhmfi1 x1lq5wgf xgqcy7u x30kzoy x9jhf4c xi81zsa x1ncwhqj x117nqv4 x1hkbg2g xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x150jy0e x18d9i69 x1e558r4 x2b8uid",children:h._("__JHASH__hpZlVXKj1CE__JHASH__",[h._param("the number of additional viewers",b,[0])])})},"overflow")]}function p(a){var b=a.displayContext,e=a.index;a=a.user;var f=a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",d("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))]);return i.jsx(c("MWTooltip.react"),{align:b==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:f,children:a.imageSrc===""?i.jsx(c("CometGlimmer.react"),{index:e,xstyle:n.img}):i.jsx(c("CometImage.react"),{alt:f,src:a.imageSrc,xstyle:n.img})})}p.displayName=p.name+" [from "+f.id+"]";function q(a,b){var c=a.length,d=c>l;c=Math.max(Math.floor(c-(d?l-1:l)),0);var e=a.slice(c);return[].concat(o(a,c,d,b),e.map(function(a,c){return i.jsx(p,{displayContext:b,index:c,user:a},a.id)}))}function a(a){var b=a.messageSeenBy,e=a.xstyle;a=d("MWPThreadTheme.bs").useHook();var f=j(d("MWV2MessageRowIsRowFocusedContext.bs").context),g=f.setFocused,l=f.setIsDialogOpened,o=b.length,p=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),r=k(null);return i.jsxs("div",{className:c("stylex")(n.root,d("MWPThreadTheme.bs").isGradient(a)?n.mask:!1),role:"none",children:[i.jsx("div",{className:"x1r8uery x1iyjqo2"}),i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{messageSeenBy:b,onClose:function(){}},dialogResource:m,onHide:function(){l(function(){return!1}),g(function(){return!0})},children:function(a){return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__JhvMDLpCFuF__JHASH__",[h._param("number of participants who have seen this message",String(o))]).toString(),onPress:function(){l(function(){return!0}),a()},overlayDisabled:!0,ref:r,xstyle:function(){return[n.heads,e]},children:i.jsx(c("MWTooltipGroup.react"),{children:q(b,p)})})}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageEndOfGroupContentTextOnly.react",["fbt","MWMessageDeliveryStatus","MWStatusText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={statusText:{paddingBottom:"xwib8y2",$$css:!0}};function k(a){var b=a.alignLeft;a=a.num;return i.jsx(c("MWStatusText.react"),{alignLeft:b,text:h._("__JHASH__SlWkB_YFGR6__JHASH__",[h._param("seenByNumber",String(a))]).toString(),xstyle:j.statusText})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.alignLeft;a=a.status;var e=d("MWMessageDeliveryStatus").getBroadcastStatusTitle(a);switch(a.type){case"NoneStatus":return null;case"Error":return i.jsx(c("MWStatusText.react"),{error:!0,text:e.toString(),xstyle:j.statusText});case"SingleSeenHead":return i.jsx(k,{num:1});case"MultipleSeenHeads":case"DeliveredAndRead":break;case"SeenCount":return i.jsx(k,{alignLeft:b,num:a.count});case"Loading":return i.jsx(c("MWStatusText.react"),{alignLeft:b,text:e.toString(),xstyle:j.statusText});case"RetriableError":return i.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:e.toString(),xstyle:j.statusText});default:return i.jsx(c("MWStatusText.react"),{text:e.toString(),xstyle:j.statusText})}return i.jsx(k,{num:a.heads.length})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageEndOfGroupContent.react",["MWMessageDeliveryStatus","MWPMessageListColumn.bs","MWV2ChatSeenHeadsRow.react","MWV2MessageEndOfGroupContentTextOnly.react","cr:415","cr:976","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={seenHeads:{marginTop:"x1gslohp",marginEnd:"xw3qccf",marginBottom:"xjpr12u",marginStart:"x1mh8g0r",$$css:!0},seenHeadsWithTextReceipts:{marginEnd:"x1h5jrl4",$$css:!0}};function a(a){var e=a.alignLeft,f=a.isOutgoing,g=a.isTextOnly,j=a.message,k=a.status;a=a.useTextBasedMessageReceipts;if(g===!0)return h.jsx(c("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:e,status:k});if(k.type==="MultipleSeenHeads")return h.jsx(d("MWPMessageListColumn.bs").Shrinkwrap,{children:h.jsx(c("MWV2ChatSeenHeadsRow.react"),{messageSeenBy:k.heads,xstyle:a?i.seenHeadsWithTextReceipts:i.seenHeads})});if(a&&k.type==="SingleSeenHead"&&b("cr:415")!=null)return h.jsx(b("cr:415"),{head:k.head,text:d("MWMessageDeliveryStatus").getSingleSeenHead(k.head)});return f&&a&&b("cr:976")!=null?h.jsx(b("cr:976"),{alignLeft:e,message:j,status:k}):null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2MessageEndOfGroupContent=a}),98);
__d("MWV2MessageRowSimple.bs",["FocusWithinHandler.react","MWMessageTableFocusTable.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children;a=a.domElementRef;return h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[1],{children:h.jsx("div",{ref:a,role:"row",children:h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[2],{children:h.jsx(c("FocusWithinHandler.react"),{children:function(a,e){return h.jsx("div",{className:c("stylex")(i.row,e?i.rowFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.bs").scopeID,role:"gridcell",tabIndex:0,children:b})}})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWPDateBreak.react",["BaseHeading.react","CometTimestamp.react","MWText.react","MWTheme.bs","formatDate","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.timestamp;var b=d("MWTheme.bs").useTheme();return h.jsxs(c("BaseHeading.react"),{testid:void 0,children:[h.jsx("div",{className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7",children:h.jsx(c("CometTimestamp.react"),{date:new Date(a)})}),h.jsx("div",{"aria-hidden":!0,className:"xjpr12u xr9ek0c x2b8uid"+(d("MWTheme.bs").isGradient(b)?" xcrg951":""),"data-scope":"date_break",children:h.jsx(c("MWText.react"),{color:"tertiary",type:"meta4",children:h.jsx("span",{className:"xk50ysn",children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminTextLayout.bs",["CometTextWithEntities.react","MWChatTextTransform.bs","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.cta;a=a.message;a=a.text;if(a!==void 0)if(b!==void 0)return h.jsxs(h.Fragment,{children:[h.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform.bs").epdTextTransforms})," ",c("bs_caml_option").valFromOption(b)]});else return h.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform.bs").epdTextTransforms});else if(b!==void 0)return c("bs_caml_option").valFromOption(b);else return null}b=a;e=b;g.make=e}),98);
__d("MWAdminMsgCtaLink.react",["CometLink.react","MWPColorUtils.bs","MWPThreadTheme.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);var f=d("MWPThreadTheme.bs").useHook();f=f.threadTheme.fallbackColor;return h.jsx(c("CometLink.react"),babelHelpers["extends"]({style:{color:d("MWPColorUtils.bs").int64ToHex(f)},weight:"bold",xstyle:e},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.bs",["CometLink.react","LSCustomUpdateMuteManagement","LSFactory","LSIntEnum","MWAdminTextLayout.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_format","bs_caml_option","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message,e=a.shouldMute,f=c("useReStore")();a=h.useMemo(function(){return d("ReQL.bs").take(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(f.table("admin_message_ctas")),function(a){return a.messageId===b.messageId}),1)},[f,b.messageId]);var g=d("ReQLSubscription.bs").useArray(a)[0].targetId;a=function(){var a=c("bs_int64").to_string(b.threadKey),i=c("bs_int64").to_string(c("bs_belt_Option").getExn(g)),j=e?d("LSIntEnum").ofNumber(0):d("LSIntEnum").ofNumber(1);return h.useCallback(function(){f.runInTransaction(function(b){return c("LSCustomUpdateMuteManagement")(c("bs_caml_format").caml_int64_of_string(a),c("bs_caml_format").caml_int64_of_string(i),j,c("LSFactory")(b))},"readwrite")},[f,a,j])};var i=b.adminMsgCtaTitle,j={message:b};a=i!==void 0?c("bs_caml_option").some(h.jsx(c("CometLink.react"),{color:"blueLink",onClick:a(),target:"_blank",children:i})):void 0;a!==void 0&&(j.cta=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},j))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.bs",["CometLink.react","LSFactory","LSIntEnum","LSUpdateBotSubscription","MWAdminTextLayout.bs","bs_caml_format","bs_caml_option","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message,e=a.shouldSubscribe,f=c("useReStore")();a=function(){var a=c("bs_int64").to_string(b.threadKey),g=e?d("LSIntEnum").ofNumber(0):d("LSIntEnum").ofNumber(1);return h.useCallback(function(){f.runInTransaction(function(b){return c("LSUpdateBotSubscription")(c("bs_caml_format").caml_int64_of_string(a),g,c("LSFactory")(b))},"readwrite")},[f,a,g])};var g=b.adminMsgCtaTitle,i={message:b};a=g!==void 0?c("bs_caml_option").some(h.jsx(c("CometLink.react"),{color:"blueLink",onClick:a(),target:"_blank",children:g})):void 0;a!==void 0&&(i.cta=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},i))}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResourceForInteraction","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f=h.useRef(null);return h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{isOptOut:b,targetId:e,threadKey:a},dialogResource:c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react",{"class":"fluid",name:"MWNotificationMessagesManageNotificationsDialog"}).__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs"),children:function(a){return c("bs_curry")._2(d,a,f)}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.bs",["CometPressable.react","CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isOptOut,e=a.targetId,f=a.threadKey,g=a.title;a=function(a,b){return h.jsx(c("CometPressable.react"),{onPress:function(){return c("bs_curry")._1(a)},children:h.jsx(c("CometTextWithEntities.react"),{text:g})})};return h.jsx(d("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs").make,{isOptOut:b,renderer:a,targetId:e,threadKey:f})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0);b=a;g["default"]=b}),98);
__d("MWV2AdminMsgCta.bs",["CometLazyDialogTrigger.react","CometLink.react","CurrentEnvironment","JSResource","JSResourceForInteraction","MDSLockSvgIcon.bs","MWAdminMsgCtaLink.react","MWAdminTextLayout.bs","MWInboxRouteBuilder.bs","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.bs","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.bs","MWNotificationMessageManageNotificationsAdminMsgCta.bs","MWPBumpEntityKey","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","bs_caml_option","bs_int64","cr:4069","react","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);h=function(){return a};return a}var i=d("react"),j=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgCta.bs"),k=b("cr:4069")==null?void 0:c("bs_caml_option").some(b("cr:4069")),l={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xo1l8bm",$$css:!0}};function a(a){a=a.message;var e=a.adminMsgCtaTitle,f={message:a};a=e!==void 0&&!(b("cr:4069")==null)?c("bs_caml_option").some(i.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:i.jsx(k.make,{threadKey:a.threadKey,title:e})})):void 0;a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}a.displayName=a.name+" [from "+f.id+"]";a={make:a,styles:l};l={adminTextCta:{display:"x1rg5ohu",fontWeight:"x1s688f",$$css:!0}};function e(a){var b=a.isOptOut,e=a.message,f=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=e.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("admin_message_ctas")),{hd:e.threadKey,tl:{hd:e.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[f,e]));var g=e.adminMsgCtaTitle,h={message:e};b=g!==void 0&&a!==void 0?c("bs_caml_option").some(i.jsx("div",{className:"x1rg5ohu x1s688f",children:i.jsx(d("MWNotificationMessageManageNotificationsAdminMsgCta.bs").make,{isOptOut:b,targetId:a.targetId,threadKey:e.threadKey,title:g})})):void 0;b!==void 0&&(h.cta=c("bs_caml_option").valFromOption(b));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},h))}e.displayName=e.name+" [from "+f.id+"]";e={make:e,styles:l};function m(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));if(a!==void 0){var f=a.title;if(f!==void 0){a=a.actionUrl;a=a!==void 0?c("bs_caml_option").some(i.jsx(c("CometLink.react"),{color:"blueLink",href:a,target:"_blank",children:f})):void 0}else a=void 0}else a=void 0;f={message:b};a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}m.displayName=m.name+" [from "+f.id+"]";l={make:m};function n(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));var f=c("useCometLazyDialog")(c("JSResource")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgCta.bs")),g=f[0];if(a!==void 0){f=a.title;a=f!==void 0?c("bs_caml_option").some(i.jsx(c("CometLink.react"),{color:"blueLink",onClick:function(){g({entryPoint:"ADMIN_TEXT",onClose:function(){},threadKey:b.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:c("bs_int64").to_string(b.threadKey)}})},children:f})):void 0}else a=void 0;f={message:b};a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}n.displayName=n.name+" [from "+f.id+"]";m={make:n};function o(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));var f=c("useCometLazyDialog")(c("JSResource")("MWServicesLegalLiabilityDisclaimer.react").__setRef("MWV2AdminMsgCta.bs")),g=f[0];if(a!==void 0){f=a.title;a=f!==void 0?c("bs_caml_option").some(i.jsx(c("CometLink.react"),{color:"blueLink",onClick:function(){return g({entryPoint:"ADMIN_TEXT",onClose:function(){},threadKey:b.threadKey},function(){})},children:f})):void 0}else a=void 0;f={message:b};a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}o.displayName=o.name+" [from "+f.id+"]";n={make:o};o={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0},lockIcon:{bottom:"x1o583il",display:"x1rg5ohu",position:"x1n2onr6",end:"x177n6bx",$$css:!0}};function p(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));if(a!==void 0){var f=a.title;a=f!==void 0?c("bs_caml_option").some(i.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{},dialogResource:j,children:function(a,b){return i.jsx(c("CometLink.react"),{onClick:a,ref:b,target:"_blank",children:f})}})})):void 0}else a=void 0;var g={message:b};a!==void 0&&(g.cta=c("bs_caml_option").valFromOption(a));return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"x1o583il x1rg5ohu x1n2onr6 x177n6bx",children:i.jsx(c("MDSLockSvgIcon.bs"),{color:"tertiary",size:16})}),i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},g))]})}p={make:p,styles:o};o={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0},lockIcon:{bottom:"x1o583il",display:"x1rg5ohu",position:"x1n2onr6",end:"x177n6bx",$$css:!0}};function q(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("mi_act_mapping_table")),{hd:b.threadKey,tl:0}),function(a){return c("bs_int64").to_string(a.jid)})},[e,JSON.stringify(b.threadKey)]));a=a!==void 0?c("CurrentEnvironment").instagramdotcom?c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):d("MWInboxRouteBuilder.bs").buildURL({thread_key:a}):(d("WALoggerDeferred").LOG(h(),c("bs_int64").to_string(b.threadKey)),d("MWInboxRouteBuilder.bs").buildHomeURL({}));var f=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));if(f!==void 0){f=f.title;a=f!==void 0?c("bs_caml_option").some(i.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:i.jsx(c("CometLink.react"),{href:a,target:"_self",children:f})})):void 0}else a=void 0;f={message:b};a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}q.displayName=q.name+" [from "+f.id+"]";q={make:q,styles:o};function r(a){var b=a.message;a=a.shouldSubscribe;return i.jsx(d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.bs").make,{message:b,shouldSubscribe:a})}r.displayName=r.name+" [from "+f.id+"]";o={make:r};function s(a){var b=a.message;a=a.shouldMute;return i.jsx(d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.bs").make,{message:b,shouldMute:a})}s.displayName=s.name+" [from "+f.id+"]";r={make:s};function t(a){var b=a.message,e=c("useReStore")();a=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgCta.bs"));var f=a[0];a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));var g=function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return f({onClose:function(){},threadKey:b.threadKey},function(){})};if(a!==void 0){a=a.title;g=a!==void 0?c("bs_caml_option").some(i.jsx(c("MWAdminMsgCtaLink.react"),{onClick:g,children:a})):void 0}else g=void 0;a={message:b};g!==void 0&&(a.cta=c("bs_caml_option").valFromOption(g));return i.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},a))}t.displayName=t.name+" [from "+f.id+"]";s={make:t};f=a;t=e;a=l;e=m;l=n;m=p;n=q;p=o;q=r;o=s;g.AdminMsgArmadilloEphemeralChangeDuration=f;g.AdminMsgNotificationMessageManageNotifications=t;g.AdminMsgWebUrl=a;g.AdminMsgP2bPrivacyDisclosure=e;g.AdminMsgServiceBookingLegalDisclaimer=l;g.AdminMsgE2EEDescription=m;g.AdminMsgCutoverRollback=n;g.AdminMsgInstantGameBotMessageSubscriptionManagement=p;g.AdminMsgInstantGameCustomUpdateMuteManagement=q;g.AdminMsgShowPinnedMessages=o}),98);
__d("MWV2ChatAdminMessage.bs",["MWAdminTextLayout.bs","MWText.react","MWV2AdminMsgCta.bs","bs_curry","cr:4082","cr:4084","cr:4093","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){if(a!==void 0)return a.isAdminMessage;else return!1}var j={container:{paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function k(a){var b=a.children,d=a.nextMessage;a=a.prevMessage;return h.jsx("div",{className:c("stylex")(j.container,i(a)?j.containerThatProceedsAdminMessage:!1,i(d)?j.containerThatPrecedesAdminMessage:!1),children:h.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu x1ekjcvx x2b8uid x13faqbe",children:b})})}k.displayName=k.name+" [from "+f.id+"]";e={make:k,styles:j};function a(a){var e=a.message,f=a.nextMessage;a=a.prevMessage;var g=!(b("cr:4082")==null)&&!(b("cr:4093")==null)?c("bs_curry")._3(b("cr:4082").buildLocalizedString,[],[],b("cr:4093").currentUserAddedDevice):"";g=e.text===g&&!(b("cr:4084")==null)?h.jsx(b("cr:4084").make,{}):null;var i=e.adminMsgCtaType,j,l=0;i!==void 0?i==="admin_msg_armadillo_ephemeral_change_duration"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgArmadilloEphemeralChangeDuration.make,{message:e}):i==="admin_msg_web_url"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgWebUrl.make,{message:e}):i==="admin_msg_p2b_privacy_disclosure"&&c("gkx")("2386")?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgP2bPrivacyDisclosure.make,{message:e}):i==="admin_notification_messages_opt_out"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgNotificationMessageManageNotifications.make,{isOptOut:!0,message:e}):i==="admin_notification_messages_opt_in"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgNotificationMessageManageNotifications.make,{isOptOut:!1,message:e}):i==="admin_msg_thread_level_cutover"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgE2EEDescription.make,{message:e}):i==="admin_msg_e2ee_thread"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgE2EEDescription.make,{message:e}):i==="admin_msg_cutover_rollback"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgCutoverRollback.make,{message:e}):i==="xmat_instant_game_bot_message_subscribe"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgInstantGameBotMessageSubscriptionManagement.make,{message:e,shouldSubscribe:!0}):i==="xmat_instant_game_bot_message_unsubscribe"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgInstantGameBotMessageSubscriptionManagement.make,{message:e,shouldSubscribe:!1}):i==="admin_msg_view_pin_msgs_v2"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgShowPinnedMessages.make,{message:e}):i==="xmat_instant_game_custom_update_message_mute"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgInstantGameCustomUpdateMuteManagement.make,{message:e,shouldMute:!0}):i==="xmat_instant_game_custom_update_message_unmute"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgInstantGameCustomUpdateMuteManagement.make,{message:e,shouldMute:!1}):i==="admin_message_service_booking_legal_disclaimer"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgServiceBookingLegalDisclaimer.make,{message:e}):l=1:l=1;l===1&&(j=h.jsxs("div",{children:[h.jsx(d("MWAdminTextLayout.bs").make,{message:e}),g]}));return h.jsx(k,{nextMessage:f,prevMessage:a,children:h.jsx(c("MWText.react"),{color:"tertiary",type:"meta4",children:j})})}a.displayName=a.name+" [from "+f.id+"]";f=a;a=e;e=f;g.Container=a;g.make=e}),98);
__d("MWV2MessageStartOfGroupContent.bs",["MWPDateBreak.react","MWPMessageListColumn.bs","MWV2ChatAdminMessage.bs","MWV2MessageRowSimple.bs","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){if(b!==void 0)return c("bs_int64").compare(c("bs_int64").abs(c("bs_caml_int64").sub(a.timestampMs,b.timestampMs)),[0,9e5])>0;else return!0}function j(a){var b=a.domElementRef,e=a.message;a=a.prevMessage;if(i(e,a))return h.jsx(d("MWV2MessageRowSimple.bs").make,{domElementRef:b,children:h.jsx(d("MWPMessageListColumn.bs").Shrinkwrap,{children:h.jsx(d("MWV2ChatAdminMessage.bs").Container.make,{nextMessage:e,prevMessage:a,children:h.jsx(c("MWPDateBreak.react"),{timestamp:c("bs_caml_int64").to_float(e.timestampMs)})})})});else return null}b={make:j};function a(a){var b=a.domElementRef,c=a.message;a=a.prevMessage;return h.jsx(j,{domElementRef:b,message:c,prevMessage:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=b;a=e;g.Datebreak=f;g.make=a}),98);
__d("MWChatGutterItem.bs",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWMessageDeliveryStatus","MWMessageDeliveryStatusIcons","MWTheme.bs","MWTooltip.react","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={icon:{display:"x78zum5",flexShrink:"x2lah0s",height:"x1v9usgg",marginEnd:"xw3qccf",marginStart:"xsgj6o6",userSelect:"x87ps6o",verticalAlign:"x11njtxf",width:"x6jxa94",$$css:!0},incoming:{flexDirection:"x15zctf7",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},noneStatus:{flexShrink:"x2lah0s",width:"x17z2i9w",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",$$css:!0},singleSeenHead:{marginEnd:"xw3qccf",marginStart:"xsgj6o6",$$css:!0}};function a(a){var b=a.errorMessage,e=a.status,f=a.incoming,g=a.hasRepliedToMessage,j=a.xstyle;a=a.id;f=f!==void 0?f:!1;g=g!==void 0?g:!1;j=j!==void 0?c("bs_caml_option").valFromOption(j):!1;a=a!==void 0?a:"";var k=d("MWTheme.bs").useTheme();k=d("MWTheme.bs").isGradient(k);var l=d("MWMessageDeliveryStatus").getStatusTitle(e),m=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=e.type==="Error"&&b!==void 0?b:l;var n;switch(e.type){case"NoneStatus":n=h.jsx("div",{className:"x2lah0s x17z2i9w"});break;case"SingleSeenHead":n=h.jsx(c("MWChatSingleSeenHead.react"),{altText:l,head:e.head,xstyle:i.singleSeenHead});break;case"DeliveredAndRead":n=h.jsx(c("MWMessageDeliveryStatusIcons").DeliveredAndReadIcon,{size:12,xstyle:i.icon});break;case"MultipleSeenHeads":case"SeenCount":case"Loading":case"RetriableError":n=null;break;default:var o;switch(e.type){case"Sending":o=h.jsx(c("MWMessageDeliveryStatusIcons").SendingIcon,{size:12,xstyle:i.icon});break;case"Sent":o=h.jsx(c("MWMessageDeliveryStatusIcons").SentIcon,{size:12,xstyle:i.icon});break;case"Delivered":o=h.jsx(c("MWMessageDeliveryStatusIcons").DeliveredIcon,{size:12,xstyle:i.icon});break;case"Error":o=h.jsx(c("MWMessageDeliveryStatusIcons").ErrorIcon,{size:12,title:b.toString(),xstyle:i.icon});break;default:o=null}n=h.jsx("div",{children:o})}l=b!==""?h.jsx(c("MWTooltip.react"),{align:function(){switch(c("bs_caml_obj").caml_equal(m,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",tooltip:b,children:n}):n;return h.jsx("div",{className:c("stylex")(i.root,k&&!g?i.mask:!1,f?i.incoming:!1,j),"data-testid":void 0,id:a,role:"none",children:l})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2MessageActionsVisibility.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.useRef(function(){})}g.useStopHoveringRef=a}),98);
__d("MWV2MessageTimestampTooltip.bs",["fbt","MWTooltip.react","MercuryTimestamp","bs_caml_int64","cr:1654","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var e=a.children,f=a.message,g=b("cr:1654")==null?void 0:b("cr:1654")(f.messageId);a=i.useMemo(function(){var a=f.unsentTimestampMs,b=f.isUnsent;return a!==void 0&&b?i.jsxs("div",{children:[i.jsx("div",{children:h._("__JHASH__L93MxMH-RPL__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(c("bs_caml_int64").to_float(f.timestampMs)))])}),i.jsx("div",{children:c("gkx")("1531920")?h._("__JHASH__6L85PWgp0uQ__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(c("bs_caml_int64").to_float(a)))]):h._("__JHASH__exEcskNfDMO__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(c("bs_caml_int64").to_float(a)))])})]}):i.jsxs("div",{children:[i.jsx("div",{children:!(g==null)&&g>0?"Send Latency: "+g.toString()+"ms":null}),i.jsx("div",{children:h._("__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(c("bs_caml_int64").to_float(f.timestampMs)))])})]})},[f]);return i.jsx(c("MWTooltip.react"),{align:"middle",position:"start",tooltip:a,children:e})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=e;g.make=f}),98);
__d("MAWEphemeralMessageTimer.bs",["fbt","CometScreenReaderText.react","MAWEphemeralConsts.bs","MWText.react","WATimeUtils","bs_caml_int32","bs_caml_int64","bs_curry","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){if(a<d("MAWEphemeralConsts.bs").oneMinuteInSeconds)return h._("__JHASH__hRyyGvVfwlZ__JHASH__",[h._param("seconds",String(a).concat("s"))]);else if(a<d("MAWEphemeralConsts.bs").oneHourInSeconds)return h._("__JHASH__ObtD_ZW4dqo__JHASH__",[h._param("minutes",String(c("bs_caml_int32").div(a,d("MAWEphemeralConsts.bs").oneMinuteInSeconds)).concat("m"))]);else if(a<d("MAWEphemeralConsts.bs").oneDayInSeconds)return h._("__JHASH__kfAHv6U0oM7__JHASH__",[h._param("hours",String(c("bs_caml_int32").div(a,d("MAWEphemeralConsts.bs").oneHourInSeconds)).concat("h"))]);else return h._("__JHASH__pQj617aM9Jj__JHASH__",[h._param("days",String(c("bs_caml_int32").div(a,d("MAWEphemeralConsts.bs").oneDayInSeconds)).concat("d"))])}function k(a){return h._("__JHASH__y-wqFg4O-A0__JHASH__",[h._param("time",a)])}function l(a,b){a=c("bs_caml_int64").to_int32(c("bs_caml_int64").sub(a,c("bs_caml_int64").of_float(d("WATimeUtils").unixTime())));if(b!==void 0&&a>c("bs_caml_int64").to_int32(b))return c("bs_caml_int64").to_int32(b);else return a}function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=i.useState(function(){return l(e,b)});var f=a[0],g=a[1];a=j(f);var h=k(a);i.useEffect(function(){f>0&&c("setTimeout")(function(){return c("bs_curry")._1(g,function(){return f-1|0})},d("MAWEphemeralConsts.bs").msPerSec)},[f,e]);return f>0?i.jsxs("div",{className:"x2b8uid xbkr7qi",children:[i.jsx(c("CometScreenReaderText.react"),{text:h}),i.jsx("div",{"aria-hidden":!0,children:i.jsx(c("MWText.react"),{type:"meta1",children:a})})]}):null}b=a;g.getScreenReaderText=k;g.getRemainingTimeInSec=l;g.make=b}),98);
__d("MWPUseLinkRendererFactory.bs",["LSIntEnum","MWPThreadCapabilitiesContext","MWTextWithEntities.bs","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=!1);var b=d("MWPThreadCapabilitiesContext").useHook(),e=c("gkx")("1886144")&&b(d("LSIntEnum").ofNumber(45));return function(b,c,f,g){return e?void 0:[f,d("MWTextWithEntities.bs").linkPlugin(b,g,c,a)]}}g.useHook=a}),98);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a===void 0)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("MWUseTextRenderers.bs",["CometCardedDialogLoadingState.re","CometEntryPointDialogTrigger.react","CometErrorBoundary.react","CometLink.react","GroupsCometJoinChatDialog.entrypoint","MWCMThreadTypes.react","MWChatTextFormatting","MWInboxCommunityThreadsRouteBuilder.bs","MWLSThread.bs","MWMessageCellFocusTable.bs","MWNavigation.bs","MWPUseLinkRendererFactory.bs","bs_belt_Option","bs_curry","bs_int64","qex","react","useCommunityFolder","useMWCMShouldGoToFullScreenChatHook","useMWPCombineTextRenderers"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={bold:{fontWeight:"x1s688f",$$css:!0},highlight:{backgroundColor:"xacajkf",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",paddingTop:"x1nn3v0j",paddingEnd:"x4uap5",paddingBottom:"x1120s5i",paddingStart:"xkhd6sd",$$css:!0},underline:{color:"x1heor9g",textDecoration:"x1bvjpef",$$css:!0}};function j(a){var b,e=a.folder,f=a.node,g=a.thread;a=d("MWNavigation.bs").useHook();var i=c("bs_curry")._1(a.openTabOrInbox,!0);a=c("bs_belt_Option").getWithDefault(g.hasPendingInvitation,!1);var j=c("useMWCMShouldGoToFullScreenChatHook")();b=(b=c("qex")._("873"))!=null?b:!1;return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("GroupsCometJoinChatDialog.entrypoint"),fallback:function(){return h.jsx(d("CometCardedDialogLoadingState.re").make,{})},otherProps:{invited:a,shouldGoToMessenger:j,shouldAutojoin:b},preloadParams:{groupID:c("bs_int64").to_string(e.fbGroupId),threadID:c("bs_int64").to_string(g.threadKey)},children:function(a){return h.jsx("span",{className:"x1s688f",role:"gridcell",children:h.jsx(c("CometLink.react"),{onClick:function(){if(d("MWCMThreadTypes.react").isUnjoinedCMThread(g.threadType))return c("bs_curry")._1(a);else return c("bs_curry")._2(i,{clientThreadKey:g.clientThreadKey,threadKey:g.threadKey,threadType:g.threadType},"mention")},children:f})})}},c("bs_int64").to_string(g.threadKey))})}j.displayName=j.name+" [from "+f.id+"]";b={make:j};function k(a){var b=a.folder,e=a.thread,f=c("bs_int64").to_string(b.folderId),g=c("bs_int64").to_string(e.threadKey);b=h.useCallback(function(a){return d("MWInboxCommunityThreadsRouteBuilder.bs").buildURL({folder_id:f,thread_key:g})},[f,g]);return h.jsx(d("MWNavigation.bs").Provider,{children:a.children,value:b})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.communityLinkFallback,e=a.node;a=a.threadKey;a=d("MWLSThread.bs").useThreadExn(a);var f=c("useCommunityFolder")(a);return f!=null?h.jsx(k,{folder:f,thread:a,children:h.jsx(j,{folder:f,node:e,thread:a})}):b}e={make:l};var m=["Command",function(a,b){return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{className:"x1s688f",role:"gridcell",children:a})})}],n=["CommunityChannel",function(a,b){var e=h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{className:"x1s688f",role:"gridcell",children:a})});return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return e},children:h.jsx(l,{communityLinkFallback:e,node:a,threadKey:b.threadKey})})}];function a(a,b){a=d("MWPUseLinkRendererFactory.bs").useHook();return c("useMWPCombineTextRenderers")([a([i.underline],"chat_message_regular_link","Link"),a([i.bold],"profile_link","Profile"),a([i.highlight],"highlight","Highlight"),m,n,["MessengerTextFormatting",d("MWChatTextFormatting").messageRenderer]])}f=b;b=e;e=m;var o=n;a=a;g.CommunityChannelLink=f;g.CommunityChannelLinkContainer=b;g.commandRenderer=e;g.communityChannelRenderer=o;g.useHook=a}),98);
__d("MWV2ChatEmoji.bs",["CometTextWithEntities.react","MWChatEmojiUtil.bs","MWChatTextTransform.bs","MWV2ChatBubble.bs","bs_curry","cr:2382","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var f=h.useMemo(function(){var a=c("qex")._("1546");a=a==null||a!=="dynamic"?32:d("MWChatEmojiUtil.bs").transformHotEmojiSizeForWeb(e.hotEmojiSize);return d("MWChatTextTransform.bs").epdTextTransformsWithOptions({size:a})},[e.hotEmojiSize]),g=e.text;if(g===void 0)return null;g=b("cr:2382")==null?g:c("bs_curry")._1(b("cr:2382").unvault,g);g=h.jsx(c("CometTextWithEntities.react"),{text:g,transforms:f,withParagraphs:!0});if(a)return h.jsx(d("MWV2ChatBubble.bs").EmphasisRing.make,{hasXMA:!1,isBeforeXMA:!1,isOutgoing:!1,shouldConnectBottom:!1,shouldConnectTop:!1,children:g});else return g}e=a;f=e;g.make=f}),98);
__d("MessageProfileRangeType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:"n",COMMUNITY_CHANNEL:"cc",PROFILE:"p",THREAD:"t",THREAD_ACTIVE:"a",SILENT:"s",THREAD_SHOUT:"ts"});f["default"]=a}),66);
__d("MessageProfileRangeType.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="c")return"cc";else return"n"}f.ofString=a}),66);
__d("MWV2ChatTextParserUtils.bs",["EmojiRenderer","EmoticonRenderer","LSContactTypeExact","LSIntEnum","MWChatTextFormatting","MWLSContactTypeExactUtils.bs","MessageProfileRangeType.bs","ReQL.bs","ReQLSuspense","XCometVanityURLControllerRouteBuilder","bs_caml","bs_caml_format","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),e=c("gkx")("1839834")?d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];b=b.concat(e).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var f={contents:0},g={contents:0};e=b.some(function(b){f.contents===b.offset?(f.contents=f.contents+b.length|0,g.contents=f.contents):g.contents=b.offset;var c=a.substring(f.contents,g.contents);f.contents=b.offset+b.length|0;return h.test(c)===!1});b=f.contents!==a.length&&!h.test(a.substring(g.contents));if(e)return!1;else return!b}function b(a){var b=c("getURLRanges")(a),e=[];a=d("MWChatTextFormatting").getFormattingRanges(a);b.forEach(function(a){a={entity:{__typename:"Link",uri:a.entity.url},length:a.length,offset:a.offset};e.push(a)});return e.concat(a)}function i(a){if(c("gkx")("1968579"))return"/t/"+a;else return"/messages/t/"+a}function j(a,b){try{a=d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(b),tl:0}))}catch(b){a=void 0}if(a===void 0)return i(b);var e=a.contactTypeExact;if(c("bs_caml").i64_eq(e,d("LSIntEnum").ofNumber(c("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils.bs").isIgContact(a))return i(b);e=a.secondaryName;if(e!==void 0)return"https://www.instagram.com/"+e+"/";else return i(b)}function e(a,b,e,f,g){b=b.split(",");var h=e.split(","),k=f.split(","),l=g.split(",");return b.reduce(function(b,e,f){var g=d("MessageProfileRangeType.bs").ofString(l[f]);g==="t"||g==="a"?b.push({entity:{__typename:"Profile",id:e,uri:i(e)},length:c("bs_caml_format").caml_int_of_string(h[f]),offset:c("bs_caml_format").caml_int_of_string(k[f])}):g==="p"?b.push({entity:{__typename:"Profile",id:e,uri:j(a,e)},length:c("bs_caml_format").caml_int_of_string(h[f]),offset:c("bs_caml_format").caml_int_of_string(k[f])}):g==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:c("bs_caml_format").caml_int64_of_string(e)},length:c("bs_caml_format").caml_int_of_string(h[f]),offset:c("bs_caml_format").caml_int_of_string(k[f])}):g==="s"&&b.push({entity:{__typename:"Command"},length:c("bs_caml_format").caml_int_of_string(h[f]),offset:c("bs_caml_format").caml_int_of_string(k[f])});return b},[])}g.utf16RegexSpaces=h;g.isEmojiOnlyMessage=a;g.findRanges=b;g.createURIForThread=i;g.createProfileURIForMention=j;g.findRangesForMentions=e}),98);
__d("MWV2ChatUnsentMessage.bs",["fbt","CometPressable.react","MWCMIsAnyCMThread","MWLSThread.bs","MWText.react","MWV2TombstonedMessage.bs","ReQL.bs","ReQLSubscription.bs","XCometGroupAdminActivitiesControllerRouteBuilder","bs_curry","bs_int64","cr:4898","react","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={linkText:{paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function k(a){var e=a.attachment,f=a.isSecureMessage;a=a.message;var g=h._("__JHASH__I-2GRtvMpnJ__JHASH__");a=b("cr:4898")==null?g:c("bs_curry")._1(b("cr:4898").useUnsendContentInSecureThread,a);if(f)f=a;else if(e!==void 0){a=e.descriptionText;f=a!==void 0?a:g}else f=g;return i.jsx(d("MWV2TombstonedMessage.bs").make,{ariaLabel:f,children:f})}k.displayName=k.name+" [from "+f.id+"]";e={make:k};function l(a){a=a.attachment;if(a!==void 0){a=a.descriptionText;a=a!==void 0?a:h._("__JHASH__HdJ22izQlT7__JHASH__")}else a=h._("__JHASH__HdJ22izQlT7__JHASH__");return i.jsx(d("MWV2TombstonedMessage.bs").make,{ariaLabel:a,children:a})}l.displayName=l.name+" [from "+f.id+"]";f={make:l};function m(a){var b=a.attachment;a=a.thread;a=c("useCommunityFolder")(a);if(b!==void 0){b=b.cta1Title;b=b!==void 0?b:h._("__JHASH__8jyfQXNgswL__JHASH__")}else b=h._("__JHASH__8jyfQXNgswL__JHASH__");if(a!==void 0)return i.jsx(c("CometPressable.react"),{linkProps:{url:"https://www.facebook.com"+c("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:c("bs_int64").to_string(a.fbGroupId)})},overlayDisabled:!0,xstyle:function(){return[j.linkText]},children:i.jsx(c("MWText.react"),{color:"blueLink",type:"meta2",children:b})});else return null}var n={make:m};function a(a){var b=a.isSecureMessage,e=a.message;a=a.outgoing;var f=c("useReStore")(),g=e.messageId,h=e.threadKey,j=d("MWLSThread.bs").useThread(h),n=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("attachments")),{hd:h,tl:{hd:g,tl:0}})},[f,g,JSON.stringify(h)]));if(n!==void 0){var o=n.cta1Type;o=o!==void 0?o==="xma_view_activity_log":!1}else o=!1;return i.jsxs(i.Fragment,{children:[a?i.jsx(l,{attachment:n}):i.jsx(k,{attachment:n,isSecureMessage:b,message:e}),j!==void 0&&o&&c("MWCMIsAnyCMThread")(j.threadType)?i.jsx(m,{attachment:n,thread:j}):null]})}a=a;e=e;f=f;n=n;a=a;g.IncomingUnsentMessage=e;g.OutgoingUnsentMessage=f;g.ActivityLogDetails=n;g.make=a}),98);
__d("MWPGating.bs",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("105")===!0}g.isDualColumnMessageListEnabled=a}),98);
__d("MWPBaseMessageListRowCountdown.bs",["MAWEphemeralMessageTimer.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",justifyContent:"xl56j7k",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",zIndex:"x1vjfegm",marginTop:"xr1yuqi",marginBottom:"x4ii5y1",$$css:!0}};function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp,f=a.hasReactions;a=a.ariaHidden;a=a!==void 0?a:!1;return h.jsx("div",{"aria-hidden":a,className:c("stylex")(i.root,f?i.moveUpToAccountForReactions:!1),children:h.jsx(d("MAWEphemeralMessageTimer.bs").make,{ephemeralDurationInSec:b,expirationTimestamp:e})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowCountdown.bs","MWPMessageIsReply.bs","MWPMessageListColumn.bs","MWPMessageParsingUtils.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.useCallback,k=i.useMemo;function a(a){var b=a.children,c=a.message;a=a.prevMessage;c=d("MWPMessageParsingUtils.bs").isStartOfGroup(c,a);return c?b():null}a.displayName=a.name+" [from "+f.id+"]";function l(a){return d("I64").equal(d("I64").and_(a.displayedContentTypes,d("LSIntEnum").ofNumber(2048)),d("I64").zero)}var m={container:{display:"x78zum5",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0},innerOutgoing:{flexDirection:"x15zctf7",$$css:!0}};function b(a){var b=a.children,e=a.hasReactions,f=a.message,g=a.outgoing,i=a.renderGutterItem,j=a.renderMessageActions;a=a.renderProfile;var k=c("MWPMessageIsReply.bs")(f),n=f.ephemeralExpirationTs,o=f.ephemeralDurationInSec,p=f.isUnsent,q=d("MWMessageDeliveryStatus").getFromSendStatus(f.sendStatusV2).type==="Sending";return h.jsxs("div",{className:"x78zum5",role:"none",children:[h.jsxs(c("MWPMessageListColumn.bs").Profile.make,{children:[g?null:a(),e?h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:18}):null]}),h.jsxs("div",{className:c("stylex")(m.inner,g?m.innerOutgoing:!1),"data-testid":void 0,role:"none",children:[h.jsx(c("MWPMessageListColumn.bs").Bubble.make,{makeSpaceForActions:l(f),paint:!g||k,children:b}),n!=null&&!p?h.jsx(c("MWPMessageListColumn.bs").Shrinkwrap,{children:h.jsx(d("MWPBaseMessageListRowCountdown.bs").make,{ephemeralDurationInSec:o,expirationTimestamp:n,hasReactions:e})}):null,l(f)?h.jsx(c("MWPMessageListColumn.bs").Shrinkwrap,{children:q?null:j()}):null,h.jsx(c("MWPMessageListColumn.bs").Grow.make,{children:h.jsx(c("MWPMessageListColumn.bs").HorizontalSpacer.make,{})})]}),h.jsxs(c("MWPMessageListColumn.bs").Shrinkwrap,{children:[i(),e?h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:18}):null]})]})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.children,c=a.message,e=a.nextMessage;a=a.showContent;c=d("MWPMessageParsingUtils.bs").isEndOfGroup(c,e);return c||a===!0?b():null}e.displayName=e.name+" [from "+f.id+"]";i={"mwp-reply-background-color":"var(--comment-footer-background)"};var n={"mwp-reply-background-color":"var(--comment-footer-background)"},o={dark:n,light:i,type:"VARIABLES"};function p(a){var b=a.children,e=a.domElementRef,f=a.role,g=a.setHovered,i=a.stopHoveringRef,l=a.theme,m=l===void 0?o:l,n=a.xstyle,p=j(function(){return g(function(){return!1})},[g]);return h.jsx(c("BaseThemeProvider.react"),{config:k(function(){return d("MWCombineThemeConfigs").combine(o,m)},[m]),children:function(a,d){return h.jsx("div",{className:c("stylex")(a,n),onMouseEnter:function(){i.current&&i.current(),g(function(){return!0}),i.current=p},onMouseLeave:function(){if(i.current===p){p();i.current=function(){};return}},ref:e,role:f,style:d,children:b})}})}p.displayName=p.name+" [from "+f.id+"]";g.MWPBaseMessageListRowBeforeContent=a;g.MWPBaseMessageListRowBody=b;g.MWPBaseMessageListRowFooter=e;g.MWPBaseMessageListRow=p}),98);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","LSIntEnum","LSMessageReplySourceTypeV2","MWPAccessibleEyebrowsText.react","MWPMessageAuthor.bs","MWPMessageIsReply.bs","MWPMessageListColumn.bs","cr:1597","cr:4725","qex","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},spaceBetween:{display:"x78zum5",justifyContent:"x1qughib",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",$$css:!0}};function k(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&d("LSIntEnum").toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){var e=a.alwaysRenderSenderName;e=e===void 0?!1:e;var f=a.isAnyCMThread;f=f===void 0?!1:f;var g=a.isFirstMessageInGroup,l=a.isGroupThread,m=a.message,n=a.outgoing,o=a.renderForwardSnippet,p=a.renderPinnedText,q=a.renderReplySnippet,r=a.renderSenderName,s=a.renderTextWrapper;a=a.renderTimestamp;var t=c("MWPMessageIsReply.bs")(m);o=k(m,o,q,n);q=i(d("MWPMessageAuthor.bs").ctx);q=q.nickname;q=g&&q!=null&&f&&c("qex")._("424")===!0;f=e||l&&g&&!n&&!t||q;e=a!=null?j.spaceBetween:!1;o!=null?l=h.jsx("div",{className:c("stylex")(j.header,n?j.alignEnd:!1),role:"none",children:h.jsx(c("MWPMessageListColumn.bs").WithGutters,{shrinkwrap:!0,children:o})}):b("cr:1597")==null?l=f?r(m):h.jsx(c("MWPAccessibleEyebrowsText.react"),{message:m,outgoing:n}):l=h.jsx(b("cr:1597"),{message:m,outgoing:n,renderPinnedText:p,renderTextWrapper:s,shouldRenderSenderName:f});t=o!=null?j.timestampWithSnippet:j.timestamp;q=h.jsx(h.Fragment,{children:b("cr:4725")!=null&&a!=null?h.jsx(b("cr:4725"),{message:m,renderText:s,renderTimestamp:a,xstyle:t}):null});if(g)return h.jsxs(c("BaseHeading.react"),{xstyle:e,children:[l,q]});else return l}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.bs",["fbt","BaseHeadingContextWrapper.react","CometPressable.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.bs","MWMessageCellKeyCommands.bs","MWMessageTableFocusTable.bs","MWPBaseMessageListRow.react","MWPGating.bs","MWPMessageAuthor.bs","MWV2MessageListIsRowModalContext.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","ReactDOMComet","StylexHelpers.bs","bs_caml_int64","bs_caml_option","bs_curry","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useCometUniqueID","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0}};function k(){}function l(a){var b=a.key;if(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End"){a.preventDefault();return}}var m=h._("__JHASH__U5V4JiyTDSI__JHASH__"),n=h._("__JHASH__GoIrDg5lzef__JHASH__"),o=h._("__JHASH__ctLNxPXr8we__JHASH__"),p=i.forwardRef(function(a,b){var d=a.text,e=a.xstyle,f=a.focusable,g=a.ariaLabel,h=a.onPress;a=c("useCometTheme")("invert");var k=a[1];g={"aria-label":g,children:i.jsx(c("MDSTextPairing.react"),{body:d,bodyColor:"primary",level:4}),focusable:f,onPress:function(){return h()},xstyle:function(){return[k,j.enterModalButton,e]}};d=b==null?void 0:c("bs_caml_option").some(b);d!==void 0&&(g.ref=c("bs_caml_option").valFromOption(d));return c("bs_curry")._1(a[0],{children:i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},g))})});b={make:p};function a(a){var b=a.children,e=a.domElementRef,f=a.isDialogOpened,g=a.isFocused,q=a.isModal,r=a.message,s=a.messageDomID,t=a.nextMessage,u=a.outgoing,v=a.prevMessage,w=a.setFocused,x=a.setHovered,y=a.setIsDialogOpened,z=a.stopHoveringRef;a=a.theme;var A=i.useContext(d("MWV2MessageListIsRowModalContext.bs").context),B=i.useRef(null),C=c("useCometUniqueID")(),D=i.useCallback(function(){c("bs_curry")._1(A,function(){return r.messageId}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(C,d("focusScopeQueries").tabbableScopeQuery)},0)},[A,r.messageId,C]),E=function(){c("bs_curry")._1(A,function(){return""});var a=B.current;if(!(a==null))return a.focus()},F=c("CometTimestamp.react").getTimestamp(c("useServerTime")(),new Date(c("bs_caml_int64").to_float(r.timestampMs))),G=d("MWPMessageAuthor.bs").useAuthorName(r);G=G[0];u=u?h._("__JHASH__g90cYI08lR4__JHASH__"):G!==void 0?G:h._("__JHASH__I4KHPAQ-RAf__JHASH__");var H=c("useCometUniqueID")(),I=i.jsx(c("CometScreenReaderText.react"),{id:H,text:h._("__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",F),h._param("Name of the author of the incoming message",u)])}),J=c("useCometUniqueID")(),K=i.useRef(null),L=d("MWPGating.bs").isDualColumnMessageListEnabled()||c("gkx")("5093"),M=c("gkx")("3598"),N=i.useRef(k),O=i.useRef(k),P=i.useRef(k),Q=i.useRef(k);G=i.useMemo(function(){return{isDialogOpened:f,setFocused:w,setIsDialogOpened:y}},[w,y,f]);F=i.useMemo(function(){return{forwardMessage:P,openReactionsMenu:N,removeMessage:Q,replyToMessage:O}},[N,O]);u={children:i.jsx(d("MWMessageTableFocusTable.bs").FocusTable[1],{children:i.jsx(c("FocusWithinHandler.react"),{onFocusChange:function(a){if(g!==a){c("bs_curry")._1(w,function(){return a});return c("bs_curry")._1(A,function(){if((a||f)&&q)return r.messageId;else return""})}},onFocusVisibleChange:function(b){g!==b&&c("bs_curry")._1(w,function(){return b});var a=K.current;if(b&&!(a==null)){c("setTimeout")(function(){try{return a.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(b){return a.scrollIntoView(!1)}},0);return}},children:function(a,e){a=i.jsx(d("MWMessageTableFocusTable.bs").FocusTable[2],{children:i.jsx("div",{className:c("stylex")(j.cell,q?j.cellModal:!1,e?j.cellFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.bs").scopeID,ref:B,role:"gridcell",tabIndex:0,children:i.jsx(c("FocusInertRegion.react"),{disabled:q,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:q?i.jsxs(i.Fragment,{children:[i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:C,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:l,children:i.jsxs("div",{"aria-describedby":s,"aria-labelledby":H,id:J,role:"dialog",children:[b,q?I:null,i.jsx(p,{ariaLabel:n,focusable:!0,onPress:E,text:h._("__JHASH__PEyi9JodUw1__JHASH__"),xstyle:j.enterModalButtonVisible})]})})}),d("ReactDOMComet").createPortal(i.jsx("div",{"aria-owns":J}),document.body)]}):i.jsxs(i.Fragment,{children:[b,L?null:i.jsx(p,{ariaLabel:m,focusable:!0,onPress:D,ref:K,text:o,xstyle:e?j.enterModalButtonVisible:d("StylexHelpers.bs").styles.visuallyHidden})]})})})});return i.jsxs(i.Fragment,{children:[i.jsx(d("MWMessageCellFocusTable.bs").keyCommands,{onEnter:q?void 0:D,onEscape:q?E:void 0,onSpace:q?void 0:D,children:M?i.jsx(d("MWMessageCellKeyCommands.bs").keyCommands,{message:r,children:a}):a}),L?i.jsx("div",{role:"gridcell",children:i.jsx(p,{ariaLabel:q?h._("__JHASH__C-7ahaHTUI7__JHASH__"):m,focusable:q,onPress:D,ref:K,text:q?h._("__JHASH__C-7ahaHTUI7__JHASH__"):o,xstyle:e&&!q?j.enterModalButtonVisible:d("StylexHelpers.bs").styles.visuallyHidden})}):null]})}})}),message:r,nextMessage:t,prevMessage:v,role:"row",setHovered:x,stopHoveringRef:z,xstyle:j.row};e!==void 0&&(u.domElementRef=c("bs_caml_option").valFromOption(e));a!==void 0&&(u.theme=c("bs_caml_option").valFromOption(a));return i.jsx(c("BaseHeadingContextWrapper.react"),{children:i.jsx(d("MWV2MessageRowIsRowFocusedContext.bs").Provider.make,{value:G,children:i.jsx(d("MWV2MessageRowActionsContext.bs").Provider.make,{value:F,children:i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRow,babelHelpers["extends"]({},u))})})})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=k;a=l;var q=m,r=n,s=o;b=b;e=e;g.noop=f;g.onKeyDown=a;g.enterModalLabel=q;g.exitModalLabel=r;g.enterLabel=s;g.ModalButton=b;g.make=e}),98);
__d("MWPMessageListText.bs",["BaseTheme.react","CometTextWithEntities.react","LSIntEnum","LSMessageReplySourceTypeV2","MWBaseTheme","MWChatTextTransform.bs","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={forwarded:{borderStartStyle:"x26u7qi",borderStartWidth:"x7g060r",fontSize:"x1nxh6w3",lineHeight:"x1sibtaa",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},forwardedIncoming:{borderStartColor:"xa7jiu",color:"x12scifz",$$css:!0},forwardedOutgoing:{borderStartColor:"x16b4vue",color:"xkxfvhb",$$css:!0},regular:{fontSize:"x6prxxf",lineHeight:"x1fc57z9",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0},regularIncoming:{color:"xzsf02u",$$css:!0},regularOutgoing:{color:"x14ctfv",$$css:!0}};e={"mw-blockquote-border-start-color":"var(--placeholder-text)"};var j={"mw-blockquote-border-start-color":"var(--placeholder-text)"},k={dark:j,light:e,type:"VARIABLES"};function a(a){if(a)return d("MWBaseTheme").empty;else return k}function b(a){var b=a.message,e=a.outgoing,f=a.ranges,g=a.renderers,j=a.text,l=a.transforms,m=a.xstyleForText;a=a.xstyleForForwarded;l=l!==void 0?l:d("MWChatTextTransform.bs").epdTextTransforms;m=m!==void 0?c("bs_caml_option").valFromOption(m):!1;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;b=c("bs_caml_obj").caml_equal(b.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));var n=e?d("MWBaseTheme").empty:k;if(j!==void 0)if(b){b={ranges:f,text:j,transforms:l,withParagraphs:!1};g!==void 0&&(b.renderers=c("bs_caml_option").valFromOption(g));a=h.jsx("blockquote",{className:c("stylex")(i.forwarded,e?i.forwardedOutgoing:i.forwardedIncoming,a),dir:"auto",children:h.jsx(c("CometTextWithEntities.react"),babelHelpers["extends"]({},b))})}else{b={ranges:f,text:j,transforms:l,withParagraphs:!1};g!==void 0&&(b.renderers=c("bs_caml_option").valFromOption(g));a=h.jsx("div",{className:c("stylex")(i.regular,e?i.regularOutgoing:i.regularIncoming,m),dir:"auto",role:"none",children:h.jsx(c("CometTextWithEntities.react"),babelHelpers["extends"]({},b))})}else a=null;return h.jsx(c("BaseTheme.react"),{config:n,role:"none",children:a})}b.displayName=b.name+" [from "+f.id+"]";j=b;e=k;f=a;b=j;g.ougtoingTheme=d("MWBaseTheme").empty;g.incomingTheme=e;g.getTheme=f;g.make=b}),98);
__d("MWPMessageSenderNameGroupHeading.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.isOutgoingMessage;a=a===void 0?!1:a;return h.jsx("div",{className:"xi81zsa x1ncwhqj x15smj1u x1k70j0n x1120s5i x53iox2"+(a?" x78zum5 x13a6bvl xe53cfu":""),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var g=a.done;a=a.value;return g?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",[0,73],d[1],f,f,[0,0],[0,0],f,f,[0,0]))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchBanners",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_fetch_activity_banners_queue",[0,72],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.seq([function(a){return c.localizeV2Async([0,2285622730],f).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async([0,1919524925],f).then(function(a){return d[5]=a})},function(a){return c.sp(b("LSIssueNewError"),f,[0,1545093],d[4],d[5],f)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"marketplace_server_mutation_cta",[0,279],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"ctm_ad_context",[0,235],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5436864742990701"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5046975135324826"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5048846461842440"}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useMWFilePDFDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4621251448002661"}),null);
__d("useMWFilePDFDataQuery$Parameters",["useMWFilePDFDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("useMWFilePDFDataQuery_facebookRelayOperation"),metadata:{},name:"useMWFilePDFDataQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQueryReference:{parameters:c("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters"),variables:{id:a.threadId,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.react").__setRef("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint")};g["default"]=a}),98);
__d("MWLSAdContextCtaParser.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=new Set(["ads_context"]);function a(){var a=h.useRef(null),b=c("useCometLazyDialog")(c("JSResource")("MWCTMAdContextDialog.react").__setRef("MWLSAdContextCtaParser.bs")),d=b[0];return function(b,c){var e=c.ctaType;if(e==="ads_context")return{_0:function(){return d({adId:c.ctaId,onClose:function(){},threadKey:b.banner.threadKey},function(){})},_1:a,TAG:1};else return{_0:void 0,TAG:3}}}g.adContextCta=b;g.useHook=a}),98);
__d("MWLSEnsureAdContextExists.bs",["LSFactory","LSRequestAdContextFromThreadKey","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useReStore")(),b=d("MWThreadKey.bs").useIdMemoizedExn();h.useEffect(function(){var d=a.runInTransaction(function(a){return c("LSRequestAdContextFromThreadKey")(b,c("LSFactory")(a))},"readwrite");c("promiseDone")(d)},[b,a])}g.useHook=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MessengerFilePreviewGenerationFalcoEvent.bs",["MessengerFilePreviewGenerationFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("MessengerFilePreviewGenerationFalcoEvent").log(a)}function b(a){c("MessengerFilePreviewGenerationFalcoEvent").logAsync(a)}function d(a){c("MessengerFilePreviewGenerationFalcoEvent").logImmediately(a)}function e(a){c("MessengerFilePreviewGenerationFalcoEvent").logCritical(a)}g.log=a;g.logAsync=b;g.logImmediately=d;g.logCritical=e}),98);
__d("MWFileViewerLogger.bs",["MessengerFilePreviewGenerationFalcoEvent.bs","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","gkx"],(function(a,b,c,d,e,f,g){"use strict";function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return c("bs_int64").to_string(c("bs_curry")._1(b))}var h=c("gkx")("1016");function i(a,b){if(h)return d("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){return{attachment_id:c("bs_caml_option").some(b.attachmentID),entry_point:b.entryPoint,event:a,filesize:c("bs_belt_Option").flatMap(b.attachment,function(a){return c("bs_belt_Option").map(a.filesize,c("bs_int64").to_string)}),filetype:c("bs_belt_Option").flatMap(b.attachment,function(a){return a.playableUrlMimeType}),is_rich_preview:b.isRichPreview,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:c("bs_int64").to_string(b.thread.threadKey),thread_type:c("bs_caml_int64").to_int32(b.thread.threadType)}})}function e(a){return i("file_viewer_click",a)}function f(a){return i("file_viewer_direct_download",a)}function j(a,b){if(h)return d("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){return{attachment_id:c("bs_caml_option").some(b.attachmentId),entry_point:c("bs_caml_option").nullable_to_opt(b.entryPoint),event:a,file_pages:c("bs_caml_option").nullable_to_opt(b.filePages),filesize:c("bs_caml_option").nullable_to_opt(b.filesize),filetype:c("bs_caml_option").nullable_to_opt(b.filetype),message_id:b.messageId,session_id:b.sessionId,target_id:c("bs_caml_option").nullable_to_opt(b.targetId),thread_id:c("bs_caml_option").some(b.threadId),thread_type:c("bs_caml_option").nullable_to_opt(b.threadType)}})}function k(a){return j("file_viewer_impression",a)}function l(a){return j("file_viewer_fallback",a)}function m(a){return j("file_viewer_download_from_header",a)}function n(a){return j("file_viewer_download_from_fallback",a)}function o(a){return j("file_viewer_open_forward_dialog",a)}function p(a){return j("file_viewer_forward",a)}function q(a){if(h)return d("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){return{attachment_id:c("bs_caml_option").some(a.attachmentId),entry_point:c("bs_caml_option").nullable_to_opt(a.entryPoint),event:"file_viewer_close",file_pages:c("bs_caml_option").nullable_to_opt(a.filePages),filesize:c("bs_caml_option").nullable_to_opt(a.filesize),filetype:c("bs_caml_option").nullable_to_opt(a.filetype),max_scroll_depth:c("bs_caml_option").nullable_to_opt(a.maxScrollDepth),message_id:a.messageId,session_duration:c("bs_caml_option").nullable_to_opt(a.sessionDuration),session_id:a.sessionId,thread_id:c("bs_caml_option").some(a.threadId),thread_type:c("bs_caml_option").nullable_to_opt(a.threadType)}})}b=b;e=e;f=f;k=k;l=l;m=m;n=n;o=o;p=p;q=q;g.generateSessionId=b;g.logFileViewerClick=e;g.logFileViewerDirectDownload=f;g.logFileViewerImpression=k;g.logFileViewerFallback=l;g.logFileViewerDownloadFromHeader=m;g.logFileViewerDownloadFromFallback=n;g.logFileViewerOpenForwardDialog=o;g.logFileViewerForward=p;g.logFileViewerClose=q}),98);
__d("MWChatHeaderDetailsSubtitleIcons.bs",["cr:1737008"],(function(a,b,c,d,e,f,g){"use strict";g.Muted=b("cr:1737008").Muted}),98);
__d("MWChatHeaderDetailsSubtitle.bs",["fbt","ix","CometMiddot.react","CometTintedIcon.react","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatHeaderDetailsSubtitleIcons.bs","MWLSThread.bs","MWThread_DEPRECATED.bs","MWTooltip.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=c("react");function a(a){var b=a.actorAttribution,e=a.isActiveNow,f=a.isMuted;a=a.isOngoingCall;var g=d("MWThread_DEPRECATED.bs").useIdExn();g=d("MWThread_DEPRECATED.bs").toThreadKey(g);g=d("MWLSThread.bs").useThread(g);var k,l=0;g!==void 0&&d("MWCMThreadTypes.react").isJoinedCMThread(g.threadType)?k=j.jsx(c("MWCMInboxHeaderCommunityGroupName.react"),{thread:g}):l=1;l===1&&(k=a?h._("__JHASH__440_c1t5rby__JHASH__"):e?h._("__JHASH__u26x21RxFUk__JHASH__"):b!==void 0?b:null);g=f&&k!==null?j.jsx(c("CometMiddot.react"),{}):null;l=f?j.jsx(c("MWTooltip.react"),{align:"start",position:"above",tooltip:h._("__JHASH__XpvJmcPfz_-__JHASH__"),children:j.jsx(c("CometTintedIcon.react"),{color:"secondary",icon:d("fbicon")._(i("636130"),12),testid:void 0})}):null;return j.jsxs(j.Fragment,{children:[k,g,l]})}function b(a){return h._("__JHASH__u26x21RxFUk__JHASH__")}function e(a){a=a.forceInlineDisplay;var b={align:"start",children:c("bs_curry")._1(d("MWChatHeaderDetailsSubtitleIcons.bs").Muted.icon),position:"above",tooltip:h._("__JHASH__XpvJmcPfz_-__JHASH__")};a!==void 0&&(b.forceInlineDisplay=a);return j.jsx(c("MWTooltip.react"),babelHelpers["extends"]({},b))}e.displayName=e.name+" [from "+f.id+"]";function k(a){return h._("__JHASH__440_c1t5rby__JHASH__")}f=a;a=b;b=e;e=k;g.make=f;g.activeNow=a;g.mutedIcon=b;g.ongoingCall=e}),34);
__d("MWChatRTCButtonIcons.bs",["cr:1755417"],(function(a,b,c,d,e,f,g){"use strict";g.$$Audio=b("cr:1755417").$$Audio,g.Video=b("cr:1755417").Video,g.Info=b("cr:1755417").Info}),98);
__d("TetraMWChatHeaderDetailsSubtitleIcons.bs",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("CometTintedIcon.react"),{color:"secondary",icon:d("fbicon")._(h("636130"),12),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";b={icon:a};g.Muted=b}),98);
__d("TetraMWChatRTCButtonIcons.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return h.jsxs("svg",{height:b,role:"presentation",viewBox:"-5 -5 30 30",width:b,children:[h.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648a15.9 15.9 0 011.713 1.147c.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:a}),h.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648.824.484 1.394.898 1.713 1.147.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:"none",stroke:a})]})}a.displayName=a.name+" [from "+f.id+"]";e={icon:a};function b(a,b,c){c=c!==void 0?c:!1;var d=c?"-3":"-5";return h.jsxs("svg",{height:b,role:"presentation",viewBox:d+" -5 30 30",width:b,children:[h.jsx("path",{d:"M19.492 4.112a.972.972 0 00-1.01.063l-3.052 2.12a.998.998 0 00-.43.822v5.766a1 1 0 00.43.823l3.051 2.12a.978.978 0 001.011.063.936.936 0 00.508-.829V4.94a.936.936 0 00-.508-.828zM10.996 18A3.008 3.008 0 0014 14.996V5.004A3.008 3.008 0 0010.996 2H3.004A3.008 3.008 0 000 5.004v9.992A3.008 3.008 0 003.004 18h7.992z",fill:a}),c?h.jsx("circle",{className:"x1xgahvj",cx:"24",cy:"10",r:"2"}):null]})}b.displayName=b.name+" [from "+f.id+"]";d={icon:b};function c(a,b){return h.jsx("svg",{height:"24px",name:"icon",role:"presentation",viewBox:"0 0 36 36",width:"24px",children:h.jsx("g",{transform:"translate(18,18)scale(1.2)translate(-18,-18)",children:h.jsx("path",{d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:a,stroke:a},"lens")})})}c.displayName=c.name+" [from "+f.id+"]";a={icon:c};g.$$Audio=e;g.Video=d;g.Info=a}),98);
__d("MWChatConnectionStatus.bs",["fbt","MWText.react","MqttState.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return i.jsx("div",{className:"x17zy6dr x1r4l5d8 x1lliihq xz9dl7a xsag5q8 x2b8uid",children:i.jsx(c("MWText.react"),{type:"meta4",children:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.connectionStatus;if(a===d("MqttState.bs").connected)return null;else if(a===d("MqttState.bs").disconnected)return j(h._("__JHASH__c91Lbfy37OX__JHASH__"));else if(a===d("MqttState.bs").connecting)return j(h._("__JHASH__t43xAFuvvRz__JHASH__"));else return null}b=a;g.renderStatus=j;g.make=b}),98);
__d("MWChatConnectionStatusCard.bs",["LSPlatformConnectionStatusProvider","MWChatConnectionStatus.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=h.useContext(d("LSPlatformConnectionStatusProvider").Context);return h.jsx(d("MWChatConnectionStatus.bs").make,{connectionStatus:a.status})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatEncryptedBackupsUpsellWrapper.react",["cr:5647","cr:5648","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=(c=b("cr:5647"))!=null?c:b("cr:5648");function a(a){a=a.children;var b=i==null?void 0:i();return(b=b)!=null?b:h.jsx(h.Fragment,{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPresenceStatusText.bs",["fbt","CometRelativeTimestamp.react","LSIntEnum","MAWGating","MWChatContactPresenceHook.bs","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","bs_int64","cr:4714","cr:4715","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__KJ9BpmLEozf__JHASH__");function k(a){var b=a.threadKey;a=c("bs_int64").to_string(b);var e=c("useReStore")(),f=d("MWPActor.bs").useActor();return d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:b,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,f)}),function(a){return a.contactId})},[e,f,a]))}function l(a){var b=a.contactId,e=a.renderNullState;a=a.renderWrapper;var f=d("MWChatContactPresenceHook.bs").useIsActive(b);b=d("MWChatContactPresenceHook.bs").useLastActiveTimestampMs(b);if(f)return c("bs_curry")._1(a,j);else if(b!==void 0)return c("bs_curry")._1(a,h._("__JHASH___H_8HkZmS8j__JHASH__",[h._param("time",i.jsx(c("CometRelativeTimestamp.react"),{date:new Date(b),format:"minimized"}))]));else return c("bs_curry")._1(e)}e={make:l};function m(a){var b=a.renderNullState,d=a.renderWrapper;a=a.thread;a=k(a);if(a.length!==1)return c("bs_curry")._1(b);a=a[0];return i.jsx(l,{contactId:a,renderNullState:b,renderWrapper:d})}m.displayName=m.name+" [from "+f.id+"]";f={PresenceText:e,make:m};function n(a){var b=a.renderNullState,e=a.renderWrapper;a=a.thread;a=k(a);a=d("MWChatContactPresenceHook.bs").useHasActiveContact(a);if(a)return c("bs_curry")._1(e,j);else return c("bs_curry")._1(b)}e={make:n};function o(a){return a}function p(){return null}function a(a){var e=a.thread,f=a.renderWrapper;a=a.renderNullState;f=f!==void 0?f:o;a=a!==void 0?a:p;var g=e.threadType;if(c("bs_caml").i64_eq(g,d("LSIntEnum").ofNumber(1))||c("bs_caml").i64_eq(g,d("LSIntEnum").ofNumber(15))&&d("MAWGating").isArmadillo())return b("cr:4715")==null?i.jsx(m,{renderNullState:a,renderWrapper:f,thread:e}):i.jsx(b("cr:4715"),{renderNullState:a,renderWrapper:f,thread:e});else if(c("bs_caml").i64_eq(g,d("LSIntEnum").ofNumber(2))||c("bs_caml").i64_eq(g,d("LSIntEnum").ofNumber(16))&&d("MAWGating").isArmadillo())return b("cr:4714")==null?i.jsx(n,{renderNullState:a,renderWrapper:f,thread:e}):i.jsx(b("cr:4714"),{renderNullState:a,renderWrapper:f,thread:e});else return null}a=a;f=f;e=e;var q=o,r=p;a=a;g.OneOnOnePresence=f;g.GroupPresence=e;g.defaultRenderWrapper=q;g.defaultRenderNullState=r;g.make=a}),98);
__d("LSContactVerificationBadge.react",["CometPageVerificationIcon.react","LSContactBitOffset.bs","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.contact,e=a.icon;a=a.size;b=d("LSContactBitOffset.bs").has(d("LSIntEnum").ofNumber(23),b);if(b===!0)if(e!=null)return h.jsx("span",{className:"xurb0ha",children:e});else if(a!=null)return h.jsx("span",{className:"xurb0ha",children:h.jsx(c("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSVerificationBadge.bs",["LSContactVerificationBadge.react","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","bs_caml_option","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.icon,e=a.size,f=a.thread,g=c("useReStore")(),i=d("MWPActor.bs").useActor();a=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").take(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("participants")),{hd:f.threadKey,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,i)}),function(a){var b=d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:a.contactId,tl:0}));return[a,b]}),2)},[g,JSON.stringify(f.threadKey),i]));var j=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:i,tl:0})},[g,i])),k=a.length;if(k!==1){if(k!==0)return null;if(j===void 0)return null;k=j}else{j=a[0];a=j[1];if(a===void 0)return null;k=a}return h.jsx(c("LSContactVerificationBadge.react"),{contact:k,icon:b!==void 0?c("bs_caml_option").valFromOption(b):void 0,size:e!==void 0?c("bs_caml_option").valFromOption(e):void 0})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWInboxHeaderDetails",["CometMiddot.react","CometPlaceholder.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSPresenceStatusText.bs","LSRtcCallState","LSThreadTitle.bs","LSVerificationBadge.bs","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatCalculateIsMutedFromExpireTime.bs","MWChatHeaderDetailsSubtitle.bs","MWLSContactTypeExactUtils.bs","MWSeparatorContainer.react","MWText.react","MWVerticalRhythm","MessengerMuteUtils.bs","ReQL","ReQLSuspense","cr:4703","cr:5610","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",minHeight:"xj9xw9b",$$css:!0},item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},middot:{paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",$$css:!0}};function a(a){var e=a.color,f=a.thread;a=a.threadNameSize;var g=c("useReStore")(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(f.threadKey).filter(d("MWLSContactTypeExactUtils.bs").isIgContact)},[g,f.threadKey]),k=(j==null?void 0:j.secondaryName)!=null&&(j==null?void 0:j.secondaryName)!==""!==""?j.secondaryName:null;j=d("MWCMThreadTypes.react").isJoinedCMThread(f.threadType);var l=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(f.threadType),m=d("MessengerMuteUtils.bs").calcMuteUntilMs(f),n=d("MWChatCalculateIsMutedFromExpireTime.bs").useHook(m);m=!d("I64").equal(f.ongoingCallState,d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL));var o=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(f.threadType),p=h.jsx("div",{className:"x1k2j06m x10ogl3i",children:h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:h.jsx(c("CometMiddot.react"),{})})}),q=h.jsx(d("LSThreadTitle.bs").make,{thread:f});return h.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b",children:[h.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:h.jsxs(c("MWText.react"),{align:"center",color:e,isSemanticHeading:!0,numberOfLines:1,testid:void 0,type:a,children:[q,h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("LSVerificationBadge.bs").make,{size:"small",thread:f})})]})}),o&&b("cr:5610")?h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:8}),h.jsx(c("MWText.react"),{align:"center",numberOfLines:1,type:"meta3",children:h.jsx(b("cr:5610"),{})})]}):l?b("cr:4703")!=null&&f.memberCount!=null?h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:8}),h.jsx(c("MWText.react"),{align:"center",numberOfLines:1,type:"meta3",children:h.jsx(b("cr:4703"),{count:d("I64").to_int32(f.memberCount)})})]}):null:j?h.jsx(c("MWCMInboxHeaderCommunityGroupName.react"),{renderWrapper:function(a){return h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:6}),h.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w","data-testid":void 0,children:h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:a})})]})},thread:f}):m?h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:6}),h.jsxs(c("MWSeparatorContainer.react"),{separator:p,xstyle:i.item,children:[k!=null?h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:k}):null,h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:h.jsx(c("MWChatHeaderDetailsSubtitle.bs").ongoingCall,{})}),n?h.jsx(c("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]})]}):h.jsx(d("LSPresenceStatusText.bs").make,{renderNullState:function(){return h.jsxs(c("MWSeparatorContainer.react"),{beforeContent:h.jsx(c("MWVerticalRhythm"),{height:6}),separator:p,xstyle:i.item,children:[k!=null?h.jsxs(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:[" ",k," "]}):null,n?h.jsx(c("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]})},renderWrapper:function(a){return h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:6}),h.jsxs(c("MWSeparatorContainer.react"),{separator:p,xstyle:i.item,children:[k!==null?h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:k}):null,h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:a}),n?h.jsx(c("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]})]})},thread:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSContactHref",["CurrentEnvironment","I64","MWLSContactTypeExactUtils.bs","XCometVanityURLControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.id,e=a.secondaryName;a=d("MWLSContactTypeExactUtils.bs").isIgContact(a);return e!=null&&a?"https://www.instagram.com/"+e:(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:d("I64").to_string(b)})}g["default"]=a}),98);
__d("LSContactLink.react",["CometLink.react","CometPressable.react","CurrentEnvironment","MWLSContactTypeExactUtils.bs","getLSContactHref","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={expanding:{display:"x78zum5",$$css:!0}};function a(a){var b=a.children,e=a.contact,f=a.isText;f=f===void 0?!0:f;var g=a.label;a=a.testid;a=c("getLSContactHref")(e);e=d("MWLSContactTypeExactUtils.bs").isIgContact(e);e=!c("CurrentEnvironment").facebookdotcom||e?"_blank":void 0;return f?h.jsx(c("CometLink.react"),{href:a,label:g,target:e,testid:void 0,children:b}):h.jsx(c("CometPressable.react"),{expanding:!0,label:g,linkProps:{target:e,url:a},overlayRadius:6,testid:void 0,xstyle:i.expanding,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderDetailsContainer.bs",["CometLazyDialogTrigger.react","CometPlaceholder.react","CometPressable.react","JSResourceForInteraction","LSContactLink.react","LSMessagingThreadTypeUtil","MDSRow.react","MDSRowItem.react","MWInboxHeaderDetails","MWThreadPicture.bs","MWUseAriaLabelForThread.bs","MWV2GetOtherUser.bs","ReQL.bs","ReQLSuspense","bs_caml_option","react","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={title:{maxWidth:"x193iq5w",$$css:!0}};function j(a){var b=a.children,e=a.thread,f=h.useRef(null),g=c("useReStore")();a=d("ReQLSuspense").useArray(function(){return d("ReQL.bs").take(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("participants")),{hd:e.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(g.table("contacts"))),8)},[e.threadKey]);a=d("MWV2GetOtherUser.bs").useOtherUser(e,a);var j=c("useCommunityFolder")(e),k=d("MWUseAriaLabelForThread.bs").useHook(e);if(a!==void 0){a=a[1];return h.jsx(c("LSContactLink.react"),{contact:a,isText:!1,label:a.name,children:b})}if(!d("LSMessagingThreadTypeUtil").isGroup(e.threadType))return b;a={onClose:function(){}};j!==void 0&&(a.folder=c("bs_caml_option").valFromOption(j));return h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:a,dialogResource:c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react",{"class":"fluid",name:"MWLSGroupMembershipDialog"}).__setRef("MWInboxHeaderDetailsContainer.bs"),children:function(a){return h.jsx(c("CometPressable.react"),{"aria-label":k,onPress:function(){return a()},overlayDisabled:!0,ref:f,xstyle:function(){return[i.title]},children:b})}})}j.displayName=j.name+" [from "+f.id+"]";b={make:j};var k={detailsContainer:{paddingStart:"x1h0ha7o",$$css:!0}};function a(a){var b=a.badgeSize;b=b===void 0?10:b;var e=a.color,f=a.isContainerPressable;f=f===void 0?!0:f;var g=a.photoSize;g=g===void 0?"s_40":g;var i=a.thread;a=a.threadNameSize;a=a===void 0?"headlineEmphasized3":a;b=h.jsx(c("MDSRowItem.react"),{children:h.jsx(d("MWThreadPicture.bs").make,{badgeSize:b,photoSize:g,thread:i,withAltText:!1})});g={thread:i,threadNameSize:a};e!==void 0&&(g.color=c("bs_caml_option").valFromOption(e));a=h.jsx(c("MDSRowItem.react"),{expanding:!0,xstyle:k.detailsContainer,children:h.jsx(c("MWInboxHeaderDetails"),babelHelpers["extends"]({},g))});return h.jsx(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:f?h.jsxs(j,{thread:i,children:[b,a]}):h.jsxs(h.Fragment,{children:[h.jsx(j,{thread:i,children:b}),a]})})})}a.displayName=a.name+" [from "+f.id+"]";e=b;f=a;g.ThreadPressable=e;g.make=f}),98);
__d("MWChatInThreadBanner.bs",["CometImageIcon_DEPRECATED.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSTextPairing.react","MWText.react","TetraButton.react","bs_belt_Option","bs_caml_option","bs_curry","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{backgroundColor:"xcrg951",position:"x1n2onr6",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},image:{marginEnd:"x11i5rnm",$$css:!0},infoLabel:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x4p5aij",paddingEnd:"x150jy0e",paddingBottom:"x1j85h84",paddingStart:"x1e558r4",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0},sheet:{borderBottom:"xdppsyt",$$css:!0},sheetInner:{paddingBottom:"x1a8lsjc",width:"xh8yej3",$$css:!0}};function j(a){var b=a.action;a=a.button;var d=a.ctaTitle;switch(b.TAG){case 0:return h.jsx(c("MDSRowItem.react"),{xstyle:i.grow,children:h.jsx(c("TetraButton.react"),{label:d,linkProps:{url:b._0},type:"secondary"})});case 1:var e=b._0,f={label:d,onPress:function(){return c("bs_curry")._1(e)},type:"secondary"};b._1!==void 0&&(f.ref=c("bs_caml_option").valFromOption(b._1));return h.jsx(c("MDSRowItem.react"),{xstyle:i.grow,children:h.jsx(c("TetraButton.react"),babelHelpers["extends"]({},f))});case 2:return h.jsx(c("MDSRowItem.react"),{xstyle:i.grow,children:c("bs_curry")._1(b._0,function(a,b,e,f,g,i,j){return h.jsx(c("TetraButton.react"),{label:d,onPress:function(){return c("bs_curry")._1(b)},ref:a,type:"secondary"})})});case 3:c("recoverableViolation")("In thread banner cta not implemented, CTA type: "+a.ctaType+" CTA Title: "+a.ctaTitle,"messenger_web_product");return null}}b={make:j};function a(a){var b=a.banner;a=a.ctaParser;var d=b.banner.iconUrl;d=d!==void 0?h.jsx(c("MDSRowItem.react"),{expanding:!1,children:h.jsx("div",{className:"x11i5rnm",children:h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:24,src:d,style:"circle"})})}):null;var e=h.jsx(c("MDSRowItem.react"),{expanding:!0,children:h.jsx(c("MDSTextPairing.react"),{body:c("bs_belt_Option").getWithDefault(b.banner.titleSectionOne,"")+c("bs_belt_Option").getWithDefault(b.banner.titleSectionTwo,""),bodyLineLimit:1,level:4,meta:b.banner.heading,metaLineLimit:1,metaLocation:"above"})}),f=b.banner.infoLabel;f=f!==void 0?h.jsx(c("MDSRowItem.react"),{children:h.jsx(c("MWText.react"),{type:"meta1",children:h.jsx("span",{className:"x1qhmfi1 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x6ikm8r x10wlt62 x4p5aij x150jy0e x1j85h84 x1e558r4 xlyipyv xuxw1ft",children:f})})}):null;var g=b.leftButton,k=b.rightButton,l,m=0,n;g!==void 0?k!==void 0?l=h.jsxs(c("MDSRow.react"),{paddingTop:8,spacing:4,children:[h.jsx(j,{action:c("bs_curry")._2(a,b,g),button:g}),h.jsx(j,{action:c("bs_curry")._2(a,b,k),button:k})]}):(n=g,m=1):k!==void 0?(n=k,m=1):l=null;m===1&&(l=h.jsx(c("MDSRow.react"),{paddingTop:8,children:h.jsx(j,{action:c("bs_curry")._2(a,b,n),button:n})}));var o=h.jsxs("div",{className:"x1a8lsjc xh8yej3",children:[h.jsxs(c("MDSRow.react"),{children:[d,e,f]}),l]});g=c("bs_belt_Option").map(b.bannerAction,c("bs_curry")._1(a,b));var p;if(g!==void 0)switch(g.TAG){case 0:p=h.jsx(c("CometPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:g._0},xstyle:function(){return[i.linkBanner]},children:o});break;case 1:var q=g._0;k={children:o,expanding:!0,onPress:function(){return c("bs_curry")._1(q)}};g._1!==void 0&&(k.ref=c("bs_caml_option").valFromOption(g._1));p=h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},k));break;case 2:p=c("bs_curry")._1(g._0,function(a,b,d,e,f,g,i){return h.jsx(c("CometPressable.react"),{expanding:!0,onPress:function(){return c("bs_curry")._1(b)},ref:a,children:o})});break;case 3:m=c("bs_belt_Option").getWithDefault(c("bs_belt_Option").map(b.bannerAction,function(a){return a.ctaType}),"");m!=="member_requests_view"&&c("recoverableViolation")("In thread banner cta not implemented: "+m,"messenger_web_product");p=o;break}else p=o;return h.jsx("div",{className:"xcrg951 x1n2onr6",children:h.jsx("div",{className:"xdppsyt",children:p})})}a.displayName=a.name+" [from "+f.id+"]";e=a;d=b;f=e;g.BannerButton=d;g.make=f}),98);
__d("MWLSEnsureInThreadBannerExists.bs",["LSFactory","LSFetchBanners","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useReStore")(),b=d("MWThreadKey.bs").useIdMemoizedExn();h.useEffect(function(){var d=a.runInTransaction(function(a){return c("LSFetchBanners")(b,c("LSFactory")(a))},"readwrite");c("promiseDone")(d)},[b,a])}g.useHook=a}),98);
__d("MWLSExecuteInThreadBannerCta.bs",["LSExecuteCTA","LSFactory","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useReStore")();return h.useCallback(function(b){var d=a.runInTransaction(function(a){return c("LSExecuteCTA")(b,c("LSFactory")(a))},"readwrite");c("promiseDone")(d)},[a])}g.useHook=a}),98);
__d("MWLSMarketplaceServerMutationCta.bs",["LSFactory","LSServerMutationCta","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useReStore")();return h.useCallback(function(b,d){var e=a.runInTransaction(function(a){return c("LSServerMutationCta")(b,d,c("LSFactory")(a))},"readwrite");c("promiseDone")(e)},[a])}g.useHook=a}),98);
__d("MWLSMarketplaceCtaParser.bs",["CometLazyPopoverTrigger.react","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint","JSResource","MWLSExecuteInThreadBannerCta.bs","MWLSMarketplaceServerMutationCta.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_curry","bs_int64","bs_js_dict","bs_js_json","react","recoverableViolation","useCometEntryPointDialog","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var i=new Set(b);e=new Set(b.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function j(){var a=c("useReStore")(),b=d("MWPActor.bs").useActor(),e=d("MWThreadKey.bs").useIdMemoizedExn(),f=h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:e,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,b)}),function(a){return a.contactId})},[JSON.stringify(b),e,a]);f=d("ReQLSubscription.bs").useFirst(f);if(f!==void 0)return c("bs_int64").to_string(f)}function a(){var a=d("MWLSExecuteInThreadBannerCta.bs").useHook(),b=d("MWLSMarketplaceServerMutationCta.bs").useHook(),e=j(),f=h.useRef(null),g=c("useCometLazyDialog")(c("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWLSMarketplaceCtaParser.bs")),k=g[0],l=d("MWThreadKey.bs").useIdMemoizedExn();g=c("bs_int64").to_string(l);var m=c("useCometEntryPointDialog")(c("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:g}),n=m[0];c("useCometEntryPointDialog")(c("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint"),{threadId:g});m=c("useCometEntryPointDialog")(c("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:g});var o=m[0];m=c("useCometEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:g});var p=m[0];return h.useMemo(function(){var g=function g(j,m){var q=m.ctaType;if(q==="marketplace_see_details"||q==="marketplace_banner_open_native"){var r=m.webviewUrl;if(r!==void 0)return{_0:r,TAG:0};r=m.deeplinkUrl;if(r!==void 0)return{_0:r,TAG:0};else{c("recoverableViolation")("Marketplace see details cta without url","messenger_web_product");return{_0:void 0,TAG:3}}}if(q==="marketplace_view_profile"){r=m.webviewUrl;if(r!==void 0)return{_0:r,TAG:0};r=m.deeplinkUrl;if(r!==void 0)return{_0:r,TAG:0};else{c("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product");return{_0:void 0,TAG:3}}}if(q==="marketplace_scaled_rate_seller")if(m.webviewUrl!=null)return{_0:m.webviewUrl,TAG:0};else return{_0:void 0,TAG:3};if(q==="marketplace_more_options"&&j.overflowMenuActions.length>0)return{_0:function(a){return h.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{ctaParser:function(a){return g(j,a)},menu:j.overflowMenuActions},popoverResource:c("JSResource")("MWLSMarketplacePopoverMenu.react").__setRef("MWLSMarketplaceCtaParser.bs"),children:a})},TAG:2};if(q==="marketplace_report_buyer"||q==="marketplace_report_seller")if(e!==void 0)return{_0:function(){return k({entryPoint:"REPORT_BUTTON",id:e,location:q==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(){})},_1:f,TAG:1};else{c("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product");return{_0:void 0,TAG:3}}if(q==="marketplace_mark_as_sold_with_txn_survey"||q==="marketplace_mark_as_sold_with_txn_survey_scaled")return{_0:function(){return c("bs_curry")._1(a,m.ctaId)},_1:void 0,TAG:1};if(i.has(q))return{_0:function(){return c("bs_curry")._1(a,m.ctaId)},_1:void 0,TAG:1};if(q!=="marketplace_server_mutation")if(q==="marketplace_label_chat")return{_0:function(){return n({threadID:c("bs_int64").to_string(l)},function(){return c("bs_curry")._1(a,m.ctaId)})},_1:void 0,TAG:1};else if(q==="marketplace_mark_as_paid")return{_0:function(){return o({threadID:c("bs_int64").to_string(l)},function(){return c("bs_curry")._1(a,m.ctaId)})},_1:void 0,TAG:1};else if(q==="marketplace_create_discount")return{_0:function(){d("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return p({threadID:c("bs_int64").to_string(l)},function(){return c("bs_curry")._1(a,m.ctaId)})},_1:void 0,TAG:1};else return{_0:void 0,TAG:3};r=m.actionContentBlob;var s=r!==void 0?c("bs_belt_Option").getExn(c("bs_js_json").decodeString(c("bs_belt_Option").getExn(c("bs_js_dict").get(c("bs_belt_Option").getExn(c("bs_js_json").decodeObject(JSON.parse(r))),"marketplace_cta_type")))):"";return{_0:function(){return c("bs_curry")._2(b,l,s)},_1:void 0,TAG:1}};return g},[a,b,e,k,p,n,o,l])}f=e;b=j;e=a;g.marketplaceCta=f;g.useOtherParticipantId=b;g.useHook=e}),98);
__d("MWLSInThreadBannerCtaParser.bs",["MWLSAdContextCtaParser.bs","MWLSMarketplaceCtaParser.bs","bs_curry"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSMarketplaceCtaParser.bs").useHook(),b=d("MWLSAdContextCtaParser.bs").useHook();return function(e,f){var g=f.ctaType;if(d("MWLSMarketplaceCtaParser.bs").marketplaceCta.has(g))return c("bs_curry")._2(a,e,f);else if(d("MWLSAdContextCtaParser.bs").adContextCta.has(g))return c("bs_curry")._2(b,e,f);else return{_0:void 0,TAG:3}}}g.useHook=a}),98);
__d("MWProactiveWarningNoticeInThreadBanner.react",["ix","CometIcon.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MWText.react","fbicon","react","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={chevron:{paddingTop:"x1nn3v0j",$$css:!0},container:{backgroundColor:"xcrg951",position:"x1n2onr6",$$css:!0},grow:{flexGrow:"x1iyjqo2",paddingTop:"x1yrsyyn",$$css:!0},image:{paddingTop:"x4p5aij",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0},sheet:{borderBottom:"xdppsyt",$$css:!0},sheetInner:{paddingBottom:"x1a8lsjc",width:"xh8yej3",$$css:!0}};function a(a){var b=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:a.context,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"}),e=b[0],f=function(){};return i.jsx("div",{className:"xcrg951 x1n2onr6",children:i.jsx("div",{className:"xdppsyt",children:i.jsx(c("CometPressable.react"),{expanding:!0,onPress:function(){e({flowCallbacks:{onClose:f}})},xstyle:j.linkBanner,children:i.jsx("div",{className:"x1a8lsjc xh8yej3",children:i.jsxs(c("MDSRow.react"),{children:[i.jsx(c("MDSRowItem.react"),{xstyle:j.image,children:i.jsx("div",{children:i.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("492713"),16),size:16})})}),i.jsx(c("MDSRowItem.react"),{xstyle:j.grow,children:i.jsx(c("MWText.react"),{type:"body3",children:a.label})}),i.jsx(c("MDSRowItem.react"),{xstyle:j.chevron,children:i.jsx(c("MWText.react"),{type:"body3",children:i.jsx("div",{children:i.jsx(c("CometIcon.react"),{disabled:!0,icon:d("fbicon")._(h("492547"),10),size:10})})})})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSInThreadBannerComponent.bs",["MWChatInThreadBanner.bs","MWLSEnsureAdContextExists.bs","MWLSEnsureInThreadBannerExists.bs","MWLSInThreadBanner.bs","MWLSInThreadBannerCtaParser.bs","MWLSThread.bs","MWProactiveWarningNoticeInThreadBanner.react","MWThreadKey.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:1066","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=b("cr:1066")==null?void 0:c("bs_caml_option").some(b("cr:1066"));var i=b("cr:1066")==null?function(a,b){}:b("cr:1066").useHook;function a(a){d("MWLSEnsureInThreadBannerExists.bs").useHook();d("MWLSEnsureAdContextExists.bs").useHook();var e=c("useReStore")(),f=d("MWThreadKey.bs").useIdMemoizedExn();a=h.useMemo(function(){return d("MWLSInThreadBanner.bs").getInThread(e,f)},[e,f]);a=d("ReQLSubscription.bs").useFirst(a);var g=d("MWLSInThreadBannerCtaParser.bs").useHook(),j=d("MWLSThread.bs").useThread(f),k=c("bs_curry")._2(i,!0,j);if(a===void 0)return null;var l=a.banner.bannerCtaType;if(l!==void 0){if(l==="ads_context")return h.jsx(d("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:g});l=1}else l=1;if(l===1){l=a.banner.cta1Type;var m=a.banner.cta2Type;if(l!==void 0&&m!==void 0){if(l==="proactive_warning_affirmative"||l==="proactive_warning_negative"||m==="proactive_warning_affirmative"||m==="proactive_warning_negative")if(!(b("cr:1066")==null)&&k!==void 0&&j!==void 0&&c("bs_caml").i64_gt(c("bs_belt_Option").getWithDefault(j.proactiveWarningDismissTime,c("bs_caml_int64").zero),c("bs_int64").zero))return h.jsx(c("MWProactiveWarningNoticeInThreadBanner.react"),{context:k.context,label:"See things you can do to stay safe"});else return null;l=2}else l=2;if(l===2)return h.jsx(d("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:g})}}f=a;a=e;e=i;f=f;g.canfetchProactiveWarningForTopBanner=a;g.useFetchProactiveWarningPaylod=e;g.make=f}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.bs",["fbt","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWPActor.bs","MWPForwardedContent.bs","MWPMessageHasAttachment.bs","MessagingAttachmentType","ReQL.bs","ReQLSubscription.bs","ServerTime","SortedAsyncIterable.bs","StylexHelpers.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","clearTimeout","promiseDone","react","setTimeout","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent.bs").useTitle(b,a);return h._("__JHASH__Q9FyIHvWIxM__JHASH__",[h._param("forward title",b)])}b={make:j};function k(a){var b=a.message,e=a.participant;a=a.sender;var f=d("MWPActor.bs").useActor();f=c("bs_caml").i64_eq(a.id,f);var g=c("bs_caml_obj").caml_equal(b.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));e=e!==void 0?e.nickname:void 0;if(e!==void 0)e=e;else{var k=a.firstName;e=k!==void 0?k:a.name}if(g)return i.jsx(j,{message:b,outgoing:f});k=b.replySnippet;if(k!==void 0)return h._("__JHASH__LPdQYmdaw5d__JHASH__",[h._param("reply snippet",k)]);else if(f)return h._("__JHASH__1b0bN0cduWX__JHASH__");else return h._("__JHASH__3ymXOGN3z8-__JHASH__",[h._param("name of sender",e)])}e={make:k};function l(a){return c("bs_caml").i64_eq(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function m(a){a=a.message;var b=c("useReStore")(),e=a.messageId,f=a.threadKey;a=d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("attachments")),{hd:f,tl:{hd:e,tl:0}})},[b,e,JSON.stringify(f)]));if(a.length!==1)if(a.length>1&&a.every(l))return i.jsx("div",{children:h._("__JHASH__mLcLGv6kQjM__JHASH__",[h._param("count of images, greater than or equal to 2",String(a.length))])});else return null;a=a[0];var g=a.attachmentType;if(c("bs_caml").i64_eq(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))||c("bs_caml").i64_eq(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))){var j=a.titleText;j=i.jsxs(i.Fragment,{children:[h._("__JHASH__CsGZwNmXaIO__JHASH__"),j!==void 0?h._("__JHASH__tk2ipgOtBcG__JHASH__",[h._param("title of image",j)]):null]})}else if(c("bs_caml").i64_eq(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))j=h._("__JHASH__0rNBSLJGEDI__JHASH__");else if(c("bs_caml").i64_eq(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO)))j=h._("__JHASH__456qLg2FzOf__JHASH__");else if(c("bs_caml").i64_eq(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER))){var k=a.accessibilitySummaryText;j=i.jsxs(i.Fragment,{children:[h._("__JHASH__0TMOPValyqo__JHASH__"),k!==void 0&&k!==""?h._("__JHASH__z9hWNeIESIs__JHASH__",[h._param("title of sticker",k)]):null]})}else if(c("bs_caml").i64_eq(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))j=h._("__JHASH__sBZdmUKngae__JHASH__");else if(c("bs_caml").i64_eq(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE))){k=a.filename;j=i.jsxs(i.Fragment,{children:[h._("__JHASH__3lrC4KV5Ban__JHASH__"),k!==void 0?h._("__JHASH__120leC-bvKi__JHASH__",[h._param("name of file",k)]):null]})}else j=h._("__JHASH__PpAv-1cm1Lu__JHASH__");return i.jsx("div",{children:j})}m.displayName=m.name+" [from "+f.id+"]";var n={make:m};function o(a){var b=a.message,e=a.participant,f=a.sender;a=a.thread;var g=i.useState(function(){return!1}),h=g[1];i.useEffect(function(){var a=c("setTimeout")(function(){return c("bs_curry")._1(h,function(){return!0})},100);return function(){c("clearTimeout")(a)}},[h]);if(g[0]){g=b.text;if(d("MWPMessageHasAttachment.bs").make(b)){var j=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);j=j?null:i.jsx(m,{message:b,thread:a})}else j=null;e=i.jsxs(i.Fragment,{children:[i.jsx("div",{children:i.jsx(k,{message:b,participant:e,sender:f,thread:a})}),g!==void 0?i.jsx("div",{children:g}):null,j]})}else e=null;return i.jsx("div",{"aria-live":"polite","aria-relevant":"additions",className:c("stylex")(d("StylexHelpers.bs").styles.visuallyHidden),role:"alert",children:e},b.messageId+"new_message_sr_announcement")}o.displayName=o.name+" [from "+f.id+"]";f={make:o};function p(a,b){var e=c("useReStore")(),f=d("MWPActor.bs").useActor(),g=i.useRef(d("ServerTime").getMillis());i.useEffect(function(){return d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("messages")),{hd:b.threadKey,tl:0}),function(d,f){switch(f.TAG){case 0:var h=f._0;if(c("bs_caml_int64").to_float(h.timestampMs)>g.current){g.current=c("bs_caml_int64").to_float(h.timestampMs);c("promiseDone")(window.Promise.all([e.table("contacts").get({hd:h.senderId,tl:0}),e.table("participants").get({hd:h.threadKey,tl:{hd:h.senderId,tl:0}})]),function(c){var d=c[0];if(d!==void 0)return a(h,d,b,c[1])});return}else return;case 1:case 2:return}})},[e,JSON.stringify(f),JSON.stringify(b.threadKey)])}function a(a){a=a.thread;var b=i.useState(function(){}),e=b[1];b=b[0];var f=i.useCallback(function(a,b,f,g){if(c("bs_caml").i64_eq(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return c("bs_curry")._1(e,function(){return c("bs_caml_option").some(i.jsx(i.Fragment,{children:i.jsx(o,{message:a,participant:g,sender:b,thread:f})}))})},[e]);p(f,a);if(b!==void 0)return c("bs_caml_option").valFromOption(b);else return null}a=a;b=b;e=e;var q=l;n=n;f=f;var r=p;a=a;g.ForwardTitle=b;g.Header=e;g.isImage=q;g.Attachment=n;g.Alert=f;g.useHook=r;g.make=a}),98);
__d("MWV2ChatRTCButtons.bs",["fbt","CometPressable.react","JSResource","LSContactBitOffset.bs","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadBitOffset.bs","MAWGating","MWChatContactPresenceHook.bs","MWChatIsMessageRequest.bs","MWChatRTCButtonIcons.bs","MWLSFeatureLimitedStatus.bs","MWPActor.bs","MWStartRTCCallUtils","MWTooltip.react","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","ODS","Promise","RTCCallState.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_null_undefined","emptyFunction","gkx","promiseDone","qex","react","useCometLazyDialog","useRTWebCometStartCallCallback","useReStore","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="startVideoCall",k="startVoiceCall",l="joinVideoChat";function m(a,e,f,g){var h=c("useReStore")(),j=c("useRTWebCometStartCallCallback")(),k=d("MWPActor.bs").useActor();return i.useCallback(function(){c("promiseDone")(b("Promise").all([d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(h.table("rtc_ongoing_calls_on_threads_v2")),{hd:a.threadKey,tl:0}),function(a){return a.ongoingCallServerInfoData})),d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(h.table("participants")),{hd:a.threadKey,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,k)}),function(a){return c("bs_int64").to_string(a.contactId)})),d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(h.table("mi_act_mapping_table")),{hd:a.threadKey,tl:0}),function(a){return a.jid}))]).then(function(h){var i=h[1],k=h[0];c("bs_curry")._1(e);j({existingCall:k!==void 0?{call_state:d("RTCCallState.bs").ofLsRtcCallState(a.ongoingCallState,a.threadType),initiator_fbid:null,server_info_data:c("bs_js_null_undefined").fromOption(c("bs_caml_option").valFromOption(k))}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),mediaType:f,thread:{e2eeThreadID:c("bs_belt_Option").map(h[2],function(a){return c("bs_int64").to_string(a)}),id:c("bs_int64").to_string(a.threadKey),secureOneToOneThreadPeerId:i!==void 0&&c("bs_caml").i64_eq(a.threadType,d("LSIntEnum").ofNumber(15))?c("bs_caml_option").some(c("bs_caml_option").valFromOption(i)):void 0,type:c("bs_caml_int64").to_int32(a.threadType)},trigger:g});return b("Promise").resolve()}))},[h,j,JSON.stringify(a.threadKey),a.ongoingCallState,g,e])}function n(a,e,f,g,h){var j=i.useRef(c("uuid")()).current;return i.useCallback(function(e){var g=c("bs_int64").to_string(a.threadKey),i=f==="video"?1:0;g="/call?threadid="+g+"&isvideocall="+i+"&funnel_id="+j;d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");d("MWStartRTCCallUtils").logCallAttemptViaLocalhost({funnelSessionId:j});c("promiseDone")(b("Promise").all([new(c("MessengerDesktopLocalServerRequest"))(g,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(a){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),h(e)}).setTimeoutHandler(function(){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),h(e)}).send()]))},[f,j,a.threadKey,h])}function o(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=i.useMemo(function(){return d("ReQL.bs").take(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,e)}),1)},[b,a.threadKey,JSON.stringify(e)]);f=d("ReQLSubscription.bs").useArray(f);return d("MWChatContactPresenceHook.bs").useHasActiveContact(f.map(function(a){return a.contactId}))}function p(a){var b=a.threadKey,e=c("useReStore")(),f=d("MWPActor.bs").useActor();a=d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:b,tl:0}),2),function(a){return c("bs_caml").i64_neq(a.contactId,f)}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:a.contactId,tl:0}))})},[e,JSON.stringify(b),JSON.stringify(f)]));var g;if(a.length!==1)g=!1;else{var h=a[0];g=h!==void 0?c("bs_caml").i64_eq(h.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE)):!1}if(!g)return[!0,!0];h=!0;g=!0;for(var j=0,k=a.length;j<k;++j){var l=a[j];if(l!==void 0){var m=c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSIntEnum").ofNumber(17),l),!0);l=c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSIntEnum").ofNumber(16),l),!0);h=h&&m;g=g&&l}}if(c("gkx")("1710932"))return[h,g];else return[!1,!1]}function q(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=c("bs_belt_Option").isSome(d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(b.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0})},[b,JSON.stringify(a.threadKey)]))),g=c("bs_belt_Option").isSome(d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:{hd:e,tl:0}})},[b,JSON.stringify(a.threadKey),JSON.stringify(e)]))),h=d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(25),a),j=d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(24),a),k=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),l=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!k||d("MAWGating").isFeatureLimitEnabled()),m=p(a),n=a.threadType;g=(c("bs_caml").i64_eq(n,d("LSIntEnum").ofNumber(2))||c("bs_caml").i64_eq(n,d("LSIntEnum").ofNumber(16)))&&g||c("bs_caml").i64_eq(n,d("LSIntEnum").ofNumber(1))||c("bs_caml").i64_eq(n,d("LSIntEnum").ofNumber(15))?[h,j]:[!1,!1];n=d("MWChatIsMessageRequest.bs").fn(a.folderName);h=!n&&f&&!l&&(!k||c("gkx")("5709"));if(h)return[m[0]&&g[0],m[1]&&g[1]];else return[!1,!1]}function r(a){var b=a.icon,d=a.label,e=a.onPress,f=a.overlayDisabled,g=a.renderContainer;a=a.testid;b={"aria-label":d,children:b,onPress:e,overlayDisabled:f,overlayRadius:"50%"};a!==void 0&&(b.testid=c("bs_caml_option").valFromOption(a));e=i.jsx(c("MWTooltip.react"),{align:"middle",position:function(){switch(c("gkx")("571")?"below":"above"){case"below":return"below";case"above":return"above";case"start":return"start";case"end_":return"end"}}(),tooltip:d,children:i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},b))});if(g!==void 0)return c("bs_curry")._1(g,e);else return e}e={make:r};function s(a){var b=a.startAudioCall,e=a.fill,f=a.overlayDisabled,g=a.renderContainer;a=a.size;e={icon:c("bs_curry")._2(d("MWChatRTCButtonIcons.bs").$$Audio.icon,e,a),label:h._("__JHASH__7OlJstElKZQ__JHASH__"),onPress:b,overlayDisabled:f,testid:k};g!==void 0&&(e.renderContainer=c("bs_caml_option").valFromOption(g));return i.jsx(r,babelHelpers["extends"]({},e))}s.displayName=s.name+" [from "+f.id+"]";var t={make:s};function u(a){var b=a.fill,e=a.isActive,f=a.overlayDisabled,g=a.renderContainer,k=a.size,l=a.startVideoCall;a=c("useCometLazyDialog")(c("JSResource")("RTWebStartCallUpsellDialog.react").__setRef("MWV2ChatRTCButtons.bs"));var m=a[0];a={icon:c("bs_curry")._3(d("MWChatRTCButtonIcons.bs").Video.icon,b,k,e),label:h._("__JHASH__BhmiwbAyMN2__JHASH__"),onPress:function(a){var b=c("qex")._("421")===!0;if(b)return m({onAcceptCall:function(){return c("bs_curry")._1(l,a)}},function(){});else return c("bs_curry")._1(l,a)},overlayDisabled:f,testid:j};g!==void 0&&(a.renderContainer=c("bs_caml_option").valFromOption(g));return i.jsx(r,babelHelpers["extends"]({},a))}u.displayName=u.name+" [from "+f.id+"]";var v={make:u};function w(a){var b=a.fill,e=a.ongoingCallState,f=a.overlayDisabled,g=a.renderContainer,j=a.size,k=a.startAudioCall;a=a.startVideoCall;if(c("bs_caml").i64_eq(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL)))return null;b={icon:c("bs_caml").i64_eq(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?c("bs_curry")._2(d("MWChatRTCButtonIcons.bs").$$Audio.icon,b,j):c("bs_caml").i64_eq(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?c("bs_curry")._3(d("MWChatRTCButtonIcons.bs").Video.icon,b,j):null,label:c("bs_caml").i64_eq(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?h._("__JHASH__Jezj_QnZwHq__JHASH__"):c("bs_caml").i64_eq(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?h._("__JHASH__LWBq4gDrf_a__JHASH__"):"",onPress:c("bs_caml").i64_eq(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?k:c("bs_caml").i64_eq(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?a:function(){},overlayDisabled:f,testid:l};g!==void 0&&(b.renderContainer=c("bs_caml_option").valFromOption(g));return i.jsx(r,babelHelpers["extends"]({},b))}w.displayName=w.name+" [from "+f.id+"]";f={make:w};function a(a){var b=d("MWStartRTCCallUtils").useShouldTryWithMessengerDesktop(),e=a.audioCallingSurface,f=a.fill,g=a.logAudio;g=g===void 0?c("emptyFunction"):g;var h=a.logVideo;h=h===void 0?c("emptyFunction"):h;var j=a.overlayDisabled;j=j===void 0?!1:j;var k=a.renderContainer,l=a.size;l=l===void 0?"26px":l;var p=a.thread;a=a.videoCallingSurface;var r=o(p),t=q(p),v=t[0];t=t[1];var x=m(p,h,"video",a),y=m(p,g,"audio",e);h=n(p,h,"video",a,x);a=n(p,g,"audio",e,y);g=b?h:x;e=b?a:y;if(!(v||t))return null;h=p.ongoingCallState;if(c("bs_caml").i64_neq(h,d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL))){x={fill:f,ongoingCallState:h,overlayDisabled:j,size:l,startAudioCall:e,startVideoCall:g};k!==void 0&&(x.renderContainer=c("bs_caml_option").valFromOption(k));return i.jsx(w,babelHelpers["extends"]({},x))}if(v){b={fill:f,overlayDisabled:j,size:l,startAudioCall:e};k!==void 0&&(b.renderContainer=c("bs_caml_option").valFromOption(k));a=i.jsx(s,babelHelpers["extends"]({},b))}else a=null;if(t){y={fill:f,isActive:r,overlayDisabled:j,size:l,startVideoCall:g};k!==void 0&&(y.renderContainer=c("bs_caml_option").valFromOption(k));p=i.jsx(u,babelHelpers["extends"]({},y))}else p=null;return i.jsxs(i.Fragment,{children:[a,p]})}a=a;var x=j,y=k,z=l;e=e;v=v;f=f;a=a;g.$$Audio=t;g.startVideoCallTestid=x;g.startVoiceCallTestid=y;g.joinVideoChatTestid=z;g.BaseButton=e;g.Video=v;g.JoinExistingChat=f;g.make=a}),98);
__d("MWV2HeaderMinimizeButton.bs",["fbt","CometPressable.react","MWTooltip.react","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color;a=a.onPress;var d=c("useSetAttributeRef")("data-prevent_chattab_focus","1"),e=h._("__JHASH__Sy-7_lHYMqE__JHASH__");return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:e,children:i.jsx(c("CometPressable.react"),{"aria-label":e,onPress:a,overlayRadius:"50%",ref:d,children:i.jsx("svg",{height:"26px",viewBox:"-4 -4 24 24",width:"26px",children:i.jsx("line",{stroke:b,strokeLinecap:"round",strokeWidth:"2",x1:"2",x2:"14",y1:"8",y2:"8"})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWV2HeaderSettingsButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","MDSRow.react","MWTooltip.react","ODS","cr:2580","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={icon:{marginStart:"x1i64zmx",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",minWidth:"xeuugli",$$css:!0}};function k(a){var b=a.color;a=a.size;a=a===void 0?"10px":a;return i.jsx("svg",{"aria-hidden":"true",className:"x1i64zmx",height:a,viewBox:"0 0 18 10",width:a,children:i.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:b,fillRule:"evenodd"})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var e=a.children,f=a.iconColor,g=a.tab;a=a.thread;var l=h._("__JHASH__FjEOIpwxx5G__JHASH__"),m=a.threadKey,n=a.threadType;return i.jsx(c("CometLazyPopoverTrigger.react"),{onVisibilityChange:function(a){b("cr:2580")&&a&&b("cr:2580")({threadKey:m,threadType:n},"open_thread_settings_menu","popup_chat_box")},popoverProps:{onClose:c("emptyFunction"),tab:g,thread:a},popoverResource:c("JSResourceForInteraction")("MWV2HeaderSettingsMenuForJSResource.react").__setRef("MWV2HeaderSettingsButton.bs"),position:"start",preloadTrigger:"button",children:function(a,b,g,h,m,n,o){return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:l,children:i.jsx(c("CometPressable.react"),{"aria-label":l,onHoverIn:h,onHoverOut:m,onPress:function(){b(),d("ODS").bumpEntityKey(3185,"mwchat_header","settings")},onPressIn:n,overlayRadius:5,ref:a,testid:void 0,xstyle:j.settingsButton,children:i.jsxs(c("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,verticalAlign:"center",children:[e,i.jsx(k,{color:f})]})})})}})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.make=e}),98);
__d("MWV2ChatTabHeader.bs",["LSMessagingThreadTypeUtil","MAWThreadCutover.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWInboxHeaderDetailsContainer.bs","MWPThreadTheme.bs","MWTooltipGroup.react","MWV2ChatRTCButtons.bs","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2HeaderMinimizeButton.bs","MWV2HeaderSettingsButton.bs","MWV2IsTabFocusedContext.bs","ODS","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","UseCurrentDisplayMode.bs","UseMWV2CloseTab","XCometGroupChatsThreadViewControllerRouteBuilder","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:5730","cr:5732","react","requireDeferred","useCommunityFolder","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWV2ChatTabHeader.bs"),j=c("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWV2ChatTabHeader.bs");function k(a){var b=a.color;a=a.thread;var e=h.useCallback(function(){d("ODS").bumpEntityKey(3185,"mwchat_header","audio"),j.onReady(function(a){return c("bs_curry")._1(a.logClick,{component:c("bs_curry")._1(d("RTWebLoggingComponentConvert.bs").converter.toJS,"audio_button"),surface:c("bs_curry")._1(d("RTWebLoggingSurfaceConvert.bs").converter.toJS,"chat_tab")})})},[]),f=h.useCallback(function(){d("ODS").bumpEntityKey(3185,"mwchat_header","video"),i.onReady(function(a){return c("bs_curry")._1(a.logClick,{component:c("bs_curry")._1(d("RTWebLoggingComponentConvert.bs").converter.toJS,"video_button"),surface:c("bs_curry")._1(d("RTWebLoggingSurfaceConvert.bs").converter.toJS,"chat_tab")})})},[]);return h.jsx(d("MWV2ChatRTCButtons.bs").make,{audioCallingSurface:"comet_chattab_audio_button",fill:b,logAudio:e,logVideo:f,thread:a,videoCallingSurface:"comet_chattab_video_button"})}k.displayName=k.name+" [from "+f.id+"]";e={make:k};function l(a){var b=c("useCurrentDisplayMode")(),e=d("MWV2IsTabFocusedContext.bs").useContext(),f=d("MWPThreadTheme.bs").useTop(),g=c("bs_caml").i64_gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs);g=g&&!e;a=d("LSMessagingThreadTypeUtil").isSecure(a.threadType)&&b===d("UseCurrentDisplayMode.bs").darkTheme&&e;b=g||a?"var(--always-white)":e?f:"var(--disabled-icon)";e=g?f:void 0;f=g||a?"white":void 0;return[b,f,e]}function a(a){var e=a.tab,f=a.thread,g=c("useCommunityFolder")(f),i=d("MWChatStateV2.bs").useDispatch(),j=d("UseMWV2CloseTab").useHook(f,e);a=l(f);var m=a[0],n=a[1];a=a[2];var o;if(b("cr:5732")==null||g===void 0)o=null;else{var p=b("cr:5730")==null?function(){}:function(){var a;return c("bs_curry")._1((a=b("cr:5730")).log,{action:a.tap,category_id:void 0,community_id:c("bs_int64").to_string(g.folderId),event:a.threadExpanded,group_id:c("bs_int64").to_string(g.fbGroupId),parent_surface:"entity_menu",source:a.expandButton,surface:a.chatsTab,thread_id:c("bs_int64").to_string(f.threadKey)})},q={url:c("XCometGroupChatsThreadViewControllerRouteBuilder").buildURL({idorvanity:c("bs_int64").to_string(g.fbGroupId),thread_id:c("bs_int64").to_string(f.threadKey)})};o=h.jsx(b("cr:5732").make,{color:m,link:q,onPress:p})}q=d("MAWThreadCutover.bs").useIsCutoverOpenThread(f.threadKey);if(q){p={isContainerPressable:!1,photoSize:"s_32",thread:f,threadNameSize:"headlineEmphasized4"};n!==void 0&&(p.color=c("bs_caml_option").valFromOption(n));q=h.jsx(d("MWInboxHeaderDetailsContainer.bs").make,babelHelpers["extends"]({},p))}else{p={isContainerPressable:!1,photoSize:"s_32",thread:f,threadNameSize:"headlineEmphasized4"};n!==void 0&&(p.color=c("bs_caml_option").valFromOption(n));q=h.jsx(d("MWV2HeaderSettingsButton.bs").make,{iconColor:m,tab:e,thread:f,children:h.jsx(d("MWInboxHeaderDetailsContainer.bs").make,babelHelpers["extends"]({},p))})}n={endContent:h.jsx(c("MWTooltipGroup.react"),{children:h.jsxs("div",{className:"x6s0dn4 x78zum5 xcud41i",children:[h.jsx(k,{color:m,thread:f}),h.jsx(d("MWV2HeaderMinimizeButton.bs").make,{color:m,onPress:function(){return c("bs_curry")._1(i,d("MWChatStateActions.bs").minimizeTab(Date.now(),e.tabId))}}),o,h.jsx(d("MWV2HeaderCloseButton.bs").make,{color:m,onPress:function(){return c("bs_curry")._1(j)},testid:void 0})]})}),startContent:q};a!==void 0&&(n.backgroundColor=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWV2HeaderContainer.bs").make,babelHelpers["extends"]({},n))}a.displayName=a.name+" [from "+f.id+"]";f=a;a=e;e=f;g.mExpandButton=b("cr:5732");g.mGroupsCometChatsEngagementLogger=b("cr:5730");g.RTCButtons=a;g.make=e}),98);
__d("MAWInThreadBannerNuxesWrapper.react",["nux:201","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=b("nux:201")==null?void 0:b("nux:201")("www_armadillo_disappearing_messages_banner");function a(a){return!a.isGroup&&h?h(a):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.react",["MAWInThreadBannerNuxesWrapper.react","cr:4360","cr:4958","gkx","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=(e=b("cr:4360"))!=null?e:h.Fragment;function a(a){var d;d=(d=c("qex")._("396"))!=null?d:!1;var e=c("gkx")("6139");d=!d&&!e;return h.jsxs(h.Fragment,{children:[d?h.jsx(i,{children:h.jsx(c("MAWInThreadBannerNuxesWrapper.react"),babelHelpers["extends"]({},a))}):null,b("cr:4958")&&h.jsx(b("cr:4958"),{thread:a.thread})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.bs",["LSMessagingThreadTypeUtil","MAWInThreadBannerNuxReqCondWrapper.react","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","bs_curry","cr:4042","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("cr:4042")==null?void 0:c("bs_caml_option").some(b("cr:4042"));function a(a){var e=a.thread;a=b("cr:4042")==null?function(){}:c("bs_curry")._1(i.useThreadJidCallback,e.threadKey);var f=d("LSMessagingThreadTypeUtil").isGroup(e.threadType),g=c("useReStore")(),j=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:e.threadKey,tl:0}),2)},[g,JSON.stringify(e.threadKey)])),k=d("MWPActor.bs").useActor(),l=h.useMemo(function(){if(d("LSMessagingThreadTypeUtil").isOneToOne(e.threadType))return c("bs_caml_option").undefined_to_opt(j.find(function(a){return c("bs_caml").i64_neq(a.id,k)}))},[JSON.stringify(k),j]);l=l!==void 0?l.name:void 0;return c("bs_curry")._1(c("MAWInThreadBannerNuxReqCondWrapper.react"),{thread:e,getThreadJid:a,isGroup:f,otherUserFullName:l})}e=a;f=e;g.make=f}),98);
__d("MWMessageListMediaPressableContainer.bs",["CometPressable.react","LSIntEnum","LSMediaUrl.bs","MWPThreadCapabilitiesContext","MessagingAttachmentType","bs_caml","bs_caml_option","bs_curry","cr:956","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("cr:956")==null?void 0:c("bs_caml_option").some(b("cr:956"));function a(a){var e=a.ariaLabel,f=a.attachment,g=a.children,j=a.linkProps_,k=a.onHoverIn,l=a.onPress,m=a.overlayDisabled;m=m===void 0?!1:m;var n=a.testid,o=a.xstyle;a=d("MWPThreadCapabilitiesContext").useHook();a=c("gkx")("1581")&&a(d("LSIntEnum").ofNumber(46));var p=c("bs_caml").i64_eq(f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)),q=c("bs_caml").i64_eq(f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO));if(!(b("cr:956")==null)&&(p||q)&&a){p={children:g,onPress:l,overlayDisabled:m,type_:q?{_0:void 0,TAG:0}:{_0:void 0,TAG:1},url:d("LSMediaUrl.bs").Attachment.previewUrl(f),xstyle:o};n!==void 0&&(p.testid=c("bs_caml_option").valFromOption(n));e!==void 0&&(p.ariaLabel=c("bs_caml_option").valFromOption(e));j!==void 0&&(p.linkProps_=c("bs_caml_option").valFromOption(j));return h.jsx(i.make,p)}a={children:g,onPress:function(){return c("bs_curry")._1(l)},overlayDisabled:m,xstyle:function(){return o}};e!==void 0&&(a["aria-label"]=c("bs_caml_option").valFromOption(e));j!==void 0&&(a.linkProps=c("bs_caml_option").valFromOption(j));n!==void 0&&(a.testid=c("bs_caml_option").valFromOption(n));k!==void 0&&(a.onHoverIn=c("bs_caml_option").valFromOption(k));return h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";e=a;f=e;g.make=f}),98);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWV2UseMediaViewerURL.bs",["LSIntEnum","MessagingAttachmentType","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","bs_caml","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.useMemo(function(){var b=c("bs_caml").i64_eq(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));if(b)return c("XCometMessengerPhotoControllerRouteBuilder").buildURL({fbid:a.attachmentFbid,message_id:a.messageId,photo_ids:void 0});else return c("XCometMessengerMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,message_id:a.messageId,thread_id:c("bs_int64").to_string(a.threadKey)})},[JSON.stringify(a.threadKey),JSON.stringify(a.attachmentType),JSON.stringify(a.messageId),a.attachmentFbid])}b=a;g.useHook=b}),98);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._("__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a,b){b===void 0&&(b=1024);if(a==null)return null;if(a===0)return i[j](0);var c=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,c);a=Math.round(a*100)/100;return i[c](a)}g["default"]=a}),98);
__d("MWV2ChatTabComposer.bs",["I64","LSAddMessengerContact","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","MWChatStateActions.bs","MWChatStateV2.bs","MWComposerGating.react","MWPActor.bs","ReQL.bs","SortedAsyncIterable.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.afterSendMessage,e=a.isPreviewThread,f=a.secureThreadToggle,g=f===void 0?!1:f,j=a.tab,k=a.thread,l=c("useReStore")(),m=d("MWChatStateV2.bs").useDispatch(),n=j.tabType.TAG===0?k.clientThreadKey:j.tabType._0.clientThreadKey,o=d("MWPActor.bs").useActor(),p=i(function(){var a=j.tabType;if(a.TAG===0)return m(d("MWChatStateActions.bs").lockInTab(Date.now(),j.tabId,{clientThreadKey:k.clientThreadKey,threadKey:k.threadKey,threadType:k.threadType}))},[m,j,k]);f=h.useCallback(function(){if(!d("LSMessagingThreadTypeUtil").isGroup(k.threadType))return p()},[p,k]);a=h.useCallback(function(){b==null?void 0:b();p();if(n!==void 0&&!d("I64").equal(k.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))var a=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(l.table("threads").index("clientThreadKey")),{hd:n,tl:0}),function(b,e){switch(e.TAG){case 0:case 1:break;case 2:return}b=e._0;if(d("I64").equal(b.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){a();return m(d("MWChatStateActions.bs").updateThreadKeyDescriptor(j.tabId,b.threadKey,b.clientThreadKey))}});if((d("LSMessagingThreadTypeUtil").isSecure(k.threadType)||g)&&d("LSMessagingThreadTypeUtil").isOneToOne(k.threadType)){c("promiseDone")(l.runInTransaction(function(a){return d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(l.table("participants")),{hd:k.threadKey,tl:0}),function(a){return a.contactId}),function(a){return!d("I64").equal(a,o)})).then(function(b){if(b!==void 0)return c("LSAddMessengerContact")(b,c("LSFactory")(a))})},"readwrite"));return}},[k,j,m,JSON.stringify(n),b,l,o]);return h.jsx(d("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:a,isPreviewThread:e,onSendEmptyMessage:f,thread:k})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2InThreadBanner.bs",["CometErrorBoundary.react","LSMessagingThreadTypeUtil","MWLSInThreadBannerComponent.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.thread;if(d("LSMessagingThreadTypeUtil").isSecure(a.threadType)||d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType))return null;else return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:h.jsx(d("MWLSInThreadBannerComponent.bs").make,{})})}b=a;e=b;g.make=e}),98);
__d("MWV2ChatTab.react",["CometErrorBoundary.react","CometTransientDialogProvider.react","FBLogger","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset.bs","MAWInThreadBannerNuxReqCondWrapper.bs","MWChatConnectionStatusCard.bs","MWChatEncryptedBackupsUpsellWrapper.react","MWChatStateV2.bs","MWFallbackWithTimeout.react","MWOpenAndSecureThreadView.bs","MWPNewMessageAnnouncementForScreenReaders.bs","MWPThreadIsPage.bs","MWPThreadTheme.bs","MWPVisibleMessageContext.bs","MWSelectedThreadOptionsIdContext.bs","MWThreadKey.bs","MWThreadListGlimmer.react","MWV2ChatTabComposer.bs","MWV2ChatTabHeader.bs","MWV2ComposerHasContentContext.bs","MWV2EnsureThatChatTabExists.bs","MWV2ErrorComposer.bs","MWV2FileDropzone.bs","MWV2InThreadBanner.bs","MWV2TabContainer.bs","ReQL","ReQLSuspense","cr:1113","emptyFunction","gkx","react","useCometPlaceholderImpl","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useRef,k=(e=b("cr:1113"))!=null?e:c("emptyFunction");function l(a){var b=a.tab;a=a.thread;var e=a.themeFbid,f=a.threadKey,g=a.threadType;k({threadKey:f,threadType:g});var i=c("useCometPlaceholderImpl"),l=!d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(56),a);g=d("LSMessagingThreadTypeUtil").isSecure(g);var m=j({jumpToMostRecentMessage:function(){}}),n=d("MWChatStateV2.bs").useState(function(a){return a.focusedTabId});n=n.focusedTabId;n=h.jsxs(h.Fragment,{children:[b.tabId!==n?null:h.jsx(d("MWPNewMessageAnnouncementForScreenReaders.bs").make,{thread:a}),g?h.jsx(d("MAWInThreadBannerNuxReqCondWrapper.bs").make,{thread:a}):null,h.jsx(d("MWChatConnectionStatusCard.bs").make,{}),h.jsx(d("MWV2InThreadBanner.bs").make,{thread:a}),h.jsxs(d("MWV2FileDropzone.bs").make,{isMediaOnly:l,thread:a,children:[h.jsx(i,{fallback:h.jsx(c("MWFallbackWithTimeout.react"),{message:"MWV2ChatTab thread suspense timeout",children:h.jsx(c("MWThreadListGlimmer.react"),{})}),unstable_onSuspense:function(a){return c("FBLogger")("messenger_web_product","thread_suspense").warn("MWV2ChatTab thread suspense: %s",a)},children:h.jsx(c("MWOpenAndSecureThreadView.bs"),{entryPoint:"popup_chat_box",messageListRef:m,thread:a})}),h.jsx(i,{fallback:h.jsx(c("MWFallbackWithTimeout.react"),{message:"MWV2ChatTab composer suspense timeout",children:h.jsx(c("MWThreadListGlimmer.react"),{})}),unstable_onSuspense:function(a){return c("FBLogger")("messenger_web_product","composer_suspense").warn("MWV2ChatTab composer suspense: %s",a)},children:h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return h.jsx(d("MWV2ErrorComposer.bs").make,{})},children:h.jsx(d("MWV2ChatTabComposer.bs").make,{afterSendMessage:function(){var a;(a=m.current)==null?void 0:a.jumpToMostRecentMessage()},isPreviewThread:!1,tab:b,thread:a})})})]})]});return h.jsx(d("MWPThreadTheme.bs").make,{themeFbid:e,children:h.jsx(d("MWPThreadIsPage.bs").make,{threadKey:f,children:h.jsx(d("MWThreadKey.bs").make,{id:f,children:h.jsx(d("MWSelectedThreadOptionsIdContext.bs").make,{threadId:f,children:h.jsx(d("MWPVisibleMessageContext.bs").MWPVisibleMessageContextProvider,{children:h.jsx(c("CometTransientDialogProvider.react"),{children:h.jsx(d("MWV2ComposerHasContentContext.bs").make,{children:h.jsxs(d("MWV2TabContainer.bs").make,{tab:b,thread:a,children:[h.jsx(i,{fallback:h.jsx(c("MWFallbackWithTimeout.react"),{message:"MWV2ChatTab header suspense timeout",children:h.jsx(c("MWThreadListGlimmer.react"),{})}),unstable_onSuspense:function(a){return c("FBLogger")("messenger_web_product","header_suspense").warn("MWV2ChatTab header suspense: %s",a)},children:h.jsx(d("MWV2ChatTabHeader.bs").make,{tab:b,thread:a})}),g?h.jsx(c("MWChatEncryptedBackupsUpsellWrapper.react"),{children:n}):n]})})})},f)})})})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.tab;a=a.threadKeyDescriptor;var e=c("useReStore")(),f=a.clientThreadKey,g=a.threadKey;d("MWV2EnsureThatChatTabExists.bs").useHook(g,a.threadType);a=d("ReQLSuspense").useFirst(i(function(){return d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(g)},[e,JSON.stringify(g)]));var j=d("ReQLSuspense").useFirst(i(function(){if(f!=null)return d("ReQL").fromTableAscending(e.table("threads").index("clientThreadKey")).getKeyRange(f);else return d("ReQL").empty()},[e,JSON.stringify(f)]));a=(a=a)!=null?a:j;if(a!=null)return h.jsx(l,{tab:b,thread:a});else return null}a.displayName=a.name+" [from "+f.id+"]";b=c("gkx")("473")?h.memo(a):a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("LSDeleteReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(8).fetch([[[a[0],a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.actorId,a[2])&&b.i64.eq([0,0],[0,0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],f,a[7],a[8],a[9],a[10],f,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],[0,0])?c.loopAsync(d[2],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[4],d[7]=d[4].get("offline_attachment_id"),d[4],d[8]=d[4].get("attachment_type"),d[4],d[9]=d[4].get("filename"),d[4],d[10]=d[4].get("filesize"),d[4],d[11]=d[4].get("attachment_index"),d[4],d[12]=d[4].get("has_media"),d[4],d[13]=d[4].get("has_xma"),d[4],d[14]=d[4].get("playable_url"),d[4],d[15]=d[4].get("playable_url_mime_type"),d[4],d[16]=d[4].get("playable_duration_ms"),d[4],d[17]=d[4].get("preview_url"),d[4],d[18]=d[4].get("preview_url_mime_type"),d[4],d[19]=d[4].get("mini_preview"),d[4],d[20]=d[4].get("preview_width"),d[4],d[21]=d[4].get("preview_height"),d[4],d[22]=d[4].get("xma_layout_type"),d[4],d[23]=d[4].get("xmas_template_type"),d[4],d[24]=d[4].get("cta1_title"),d[4],d[25]=d[4].get("cta2_title"),d[4],d[26]=d[4].get("cta3_title"),d[4],d[27]=d[4].get("image_url"),d[4],d[28]=d[4].get("action_url"),d[4],d[29]=d[4].get("title_text"),d[4],d[30]=d[4].get("subtitle_text"),d[4],d[31]=d[4].get("description_text"),d[4],d[32]=d[4].get("source_text"),d[4],d[33]=d[4].get("original_file_hash"),d[4],d[34]=d[4].get("sound_bite_client_sound_key"),d[4],d[35]=d[4].get("sound_bite_visual"),d[4],d[36]=d[4].get("ephemeral_media_state"),d[4],c.ftr(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,[0,20])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[17],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:[0,20]}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],[0,0])?c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],f)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticUpsertReaction",["LSCancelTaskByQueueName","LSDeleteReaction","LSIssueNewTask","LSUpsertReaction"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[19]=b.syncGroup,c.i64.neq(d[19],f)?d[18]=d[19]:d[18]=[0,1],d[0]=d[18])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("timestamp_ms",a[1]),d[2].set("message_id",a[2]),d[2].set("actor_id",a[3]),d[2].set("reaction",a[4]),d[2].set("reaction_style",f),d[2].set("sync_group",d[0]),d[3]=c.createArray(),d[4]=(d[3].push("reaction"),d[3]),d[5]=d[2].get("message_id"),d[2],d[6]=(d[3].push(d[5]),d[3]),d[7]=c.toJSON(d[3]),c.sp(b("LSCancelTaskByQueueName"),d[7],[0,29])},function(e){return a[4]===""?c.seq([function(d){return c.sp(b("LSDeleteReaction"),a[0],a[2],a[3])},function(a){return d[8]=f}]):c.seq([function(e){return a[4]==="\u2764\ufe0f"||a[4]==="\u2764\ufe0f"?d[18]="\u2764":d[18]=a[4],c.sp(b("LSUpsertReaction"),a[0],a[1],a[2],a[3],d[18],[0,20])},function(a){return d[8]=f}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=[0,1]:(b=a.item,d[19]=b.syncGroup,c.i64.neq(d[19],f)?d[18]=d[19]:d[18]=[0,1],d[9]=d[18])})},function(e){return d[11]=new c.Map(),d[11].set("thread_key",a[0]),d[11].set("timestamp_ms",a[1]),d[11].set("message_id",a[2]),d[11].set("actor_id",a[3]),d[11].set("reaction",a[4]),d[11].set("reaction_style",f),d[11].set("sync_group",d[9]),d[12]=c.createArray(),d[13]=(d[12].push("reaction"),d[12]),d[14]=d[11].get("message_id"),d[11],d[15]=(d[12].push(d[14]),d[12]),d[16]=c.toJSON(d[12]),d[17]=c.toJSON(d[11]),c.sp(b("LSIssueNewTask"),d[16],[0,29],d[17],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticUpsertReactionV2",["LSCancelTaskByQueueName","LSDeleteReaction","LSIssueNewTask","LSUpdateOrInsertReactionV2","LSUpsertReaction"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return c.i64.eq(a[8],[0,2])?(d[12]=new c.Map(),d[12].set("thread_id",a[1]),d[12].set("message_id",a[2]),d[12].set("message_timestamp",a[3]),d[12].set("actor_id",a[0]),d[12].set("reaction_fbid",a[4]),d[12].set("reaction_style",a[7]),d[12].set("operation",a[8]),d[12].set("viewer_is_reactor",a[6]),d[12].set("current_count",a[5]),d[12].set("reaction_literal",a[9]),d[13]=c.createArray(),d[14]=(d[13].push("reaction_v2"),d[13]),d[15]=d[12].get("message_id"),d[12],d[16]=(d[13].push(d[15]),d[13]),d[17]=c.toJSON(d[13]),c.sp(b("LSCancelTaskByQueueName"),d[17],[0,604])):c.resolve()},function(e){return c.i64.eq(a[8],[0,2])?d[0]=c.i64.add(a[5],[-1,4294967295]):d[0]=c.i64.add(a[5],[0,1]),c.i64.eq(a[8],[0,2])?d[1]=!1:d[1]=!0,d[2]=c.i64.of_float(Date.now()),c.sp(b("LSUpdateOrInsertReactionV2"),a[1],a[2],a[4],a[9],d[0],[0,20],d[1],[0,0],d[2])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[3]=f:(b=a.item,d[3]=b.threadType)})},function(e){return c.i64.neq(d[3],[0,23])?c.i64.eq(a[8],[0,2])?c.sp(b("LSDeleteReaction"),a[1],a[2],a[0]):a[9]!==f?(a[9]==="\u2764\ufe0f"||a[9]==="\u2764\ufe0f"?d[12]="\u2764":d[12]=a[9],d[13]=c.i64.of_float(Date.now()),c.sp(b("LSUpsertReaction"),a[1],a[3],a[2],a[0],d[12],[0,20])):c.resolve():c.resolve()},function(e){return d[5]=new c.Map(),d[5].set("thread_id",a[1]),d[5].set("message_id",a[2]),d[5].set("message_timestamp",a[3]),d[5].set("actor_id",a[0]),d[5].set("reaction_fbid",a[4]),d[5].set("reaction_style",a[7]),d[5].set("current_count",a[5]),d[5].set("viewer_is_reactor",a[6]),d[5].set("operation",a[8]),d[5].set("reaction_literal",a[9]),d[6]=c.createArray(),d[7]=(d[6].push("reaction_v2"),d[6]),d[8]=d[5].get("message_id"),d[5],d[9]=(d[6].push(d[8]),d[6]),d[10]=c.toJSON(d[6]),d[11]=c.toJSON(d[5]),c.sp(b("LSIssueNewTask"),d[10],[0,604],d[11],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?[0,1]:[0,3]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6039543986133858"}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation","GroupsCometDelayCheckBlockedUsers.relayprovider","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","StoriesRing.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdminActivityLogItemSeeDetailsDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider:b("GroupsCometDelayCheckBlockedUsers.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__StoriesRingrelayprovider:b("StoriesRing.relayprovider")}}};e.exports=a}),null);
__d("MWCommunityMessagingNUXQuickPromotionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6236665646364985"}),null);
__d("MWCommunityMessagingNUXQuickPromotionQuery$Parameters",["MWCommunityMessagingNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCommunityMessagingNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWCommunityMessagingNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometPhotoGrid.react",["CometAspectRatioContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){return a<2&&b%3===2}function a(a){var b=a.spacing,d=b===void 0?"narrow":b;b=a.uniformGrid;var e=b===void 0?!1:b;b=babelHelpers.objectWithoutPropertiesLoose(a,["spacing","uniformGrid"]);a=h.Children.toArray(b.children);var f=a.length;return h.jsx("div",{className:"x78zum5 x1q0g3np x1a02dak"+(d==="wide"?" x1198e8h xj3m2qm x1huwwth x1uirj4r":""+(d==="narrow"?" x1kgmq87 xwrv7xz xmgb6t1 x8182xy":"")),children:h.Children.map(a,function(a,b){return h.jsx("div",{className:"x9f619"+((!e&&i(b,f)?" x4pfjvb":" x1yu6fn4"+(d==="narrow"?"":""+(d==="wide"?"":"")))+(d==="narrow"?" x1nn3v0j xg83lxy x1120s5i x1h0ha7o":""+(d==="wide"?" xyqdw3p x10ogl3i xg8j3zb x1k2j06m":""))),children:h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:1,children:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.routeProps;var c=a.adminActivityID,e=a.groupID;a=a.isManagementActivityLogTargetProfilePlus;c={UFI2CommentsProvider_commentsKey:"GroupsCometAdminActivityLogItem",adminActivityID:c,displayCommentsContextEnableComment:null,displayCommentsContextIsAdPreview:null,displayCommentsContextIsAggregatedShare:null,displayCommentsContextIsStorySet:null,displayCommentsFeedbackContext:null,feedbackSource:0,feedLocation:"GROUP_ADMIN_TO_MEMBER_FEEDBACK",focusCommentID:null,groupID:e,isManagementActivityLogTargetProfilePlus:a,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_admin_to_member_feedback",scale:d("WebPixelRatio").get(),useDefaultActor:!1};return{queries:{queryReference:{parameters:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters"),variables:c}}}},root:c("JSResourceForInteraction")("GroupsCometAdminActivityLogItemSeeDetailsDialog.react").__setRef("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")};g["default"]=a}),98);
__d("MWTooltipGroup.react",["cr:11874"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11874")}),98);
__d("MWCommunityMessagingNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWCommunityMessagingNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{extraProps:{folderId:a.folderId,isFolderRoute:a.isFolderRoute},queries:{queryRef:{parameters:c("MWCommunityMessagingNUXQuickPromotionQuery$Parameters"),variables:{isFolderRoute:a.isFolderRoute}}}}},root:c("JSResourceForInteraction")("MWCommunityMessagingNUXQuickPromotion.react").__setRef("MWCommunityMessagingNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("MWChatComposerIcons.bs",["cr:1755987"],(function(a,b,c,d,e,f,g){"use strict";g.Gif=(a=b("cr:1755987")).Gif;g.Sticker=a.Sticker;g.Photo=a.Photo;g.MoreActions=a.MoreActions;g.Emoji=a.Emoji;g.PaperclipSVG=a.PaperclipSVG;g.Paperclip=a.Paperclip;g.Pin=a.Pin;g.Camera=a.Camera;g.Microphone=a.Microphone;g.Poll=a.Poll;g.Currency=a.Currency}),98);
__d("MWChatChatButtonColorConstants.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={fillGrey:{fill:"xsrhx6k",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};g.styles=a}),98);
__d("TetraMWChatComposerIcons.bs",["ix","MWIcon.react","bs_caml_option","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={fillGrey:{fill:"xsrhx6k",$$css:!0},icon:{display:"x1lliihq",transitionDuration:"x1k90msu",transitionProperty:"x13hzchw",transitionTimingFunction:"x1qfuztq",$$css:!0},notRotated:{transform:"x7p49u4",$$css:!0},rotated:{transform:"x1158fpu",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};function a(a){var b=a.fill,d=a.size;a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;return i.jsx("svg",{className:c("stylex")(j.icon,j.fillGrey,a),height:String(d)+"px",viewBox:"0 0 16 16",width:String(d)+"px",x:"0px",y:"0px",children:i.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:b,fillRule:"nonzero"})})}a.displayName=a.name+" [from "+f.id+"]";a={make:a};function b(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?null:a;return i.jsx("svg",{className:c("stylex")(j.icon,j.fillGrey,a),height:String(d)+"px",viewBox:"0 0 17 16",width:String(d)+"px",x:"0px",y:"0px",children:i.jsxs("g",{fillRule:"evenodd",children:[i.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),i.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),i.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),i.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:b}),i.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:b,fillRule:"nonzero"})]})})}b.displayName=b.name+" [from "+f.id+"]";b={make:b};function e(a){var b=a.fill,d=a.size;a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;var e=b===void 0?"xsrhx6k":void 0,f=b===void 0?"x1dmfqyo":void 0;return i.jsx("svg",{className:c("stylex")(j.icon,a),height:String(d)+"px",viewBox:"0 -1 17 17",width:String(d)+"px",children:i.jsxs("g",{fill:"none",fillRule:"evenodd",children:[i.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:b}),i.jsx("circle",{className:e,cx:"8.5",cy:"4.5",fill:b,r:"1.5"}),i.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:b}),i.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:b,strokeLinecap:"round",strokeLinejoin:"round"})]})})}e.displayName=e.name+" [from "+f.id+"]";e={make:e};function k(a){var b=a.fill,c=a.isRotated;a=a.size;return i.jsx("svg",{className:"x1lliihq x1k90msu x13hzchw x1qfuztq xsrhx6k"+(c?" x1158fpu":" x7p49u4"),height:String(a)+"px",viewBox:"0 0 24 24",width:String(a)+"px",children:i.jsxs("g",{fillRule:"evenodd",children:[i.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),i.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:b})]})})}k.displayName=k.name+" [from "+f.id+"]";k={make:k};function l(a){var b=a.fill,d=a.size;a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;var e=b===void 0?"xsrhx6k":void 0;return i.jsx("svg",{className:c("stylex")(j.icon,a),height:String(d)+"px",viewBox:"0 0 38 38",width:String(d)+"px",children:i.jsx("g",{fill:"none",fillRule:"evenodd",children:i.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:i.jsx("g",{transform:"translate(709.000000, 314.000000)",children:i.jsx("g",{children:i.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:b})})})})})})}l.displayName=l.name+" [from "+f.id+"]";l={make:l};function m(a){var b=a.fill,d=a.size;a=a.xstyle;a!==void 0&&c("bs_caml_option").valFromOption(a);a=b===void 0?"xsrhx6k":void 0;return i.jsx("svg",{fill:"none",height:String(d)+"px",viewBox:"3 2 20 20",width:String(d)+"px",children:i.jsx("path",{className:a,clipRule:"evenodd",d:"M14.307 7.485a5.102 5.102 0 017.205 7.223l-.01.01-4.717 4.583a1 1 0 01-1.394-1.434l4.711-4.578a3.102 3.102 0 00-4.39-4.38l-.018.016-8.094 7.71c-.802.81-.8 2.12.008 2.929.65.65 1.705.65 2.356 0l.01-.01 7.216-7.011a.64.64 0 00-.91-.901l-4.297 4.296a1 1 0 11-1.414-1.415l4.298-4.295A2.64 2.64 0 0118.6 13.96l-.01.011-7.219 7.012a3.666 3.666 0 01-5.178-.005 4.078 4.078 0 010-5.765l.017-.017 8.096-7.711z",fill:b,fillRule:"evenodd"})})}m.displayName=m.name+" [from "+f.id+"]";m={make:m};function n(a){return i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("528566"),20)})}n.displayName=n.name+" [from "+f.id+"]";n={make:n};function o(a){return i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("481942"),20)})}o.displayName=o.name+" [from "+f.id+"]";o={make:o};function p(a){return i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("550096"),20)})}p.displayName=p.name+" [from "+f.id+"]";p={make:p};function q(a){return i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("624149"),20)})}q.displayName=q.name+" [from "+f.id+"]";q={make:q};function r(a){return i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("577048"),20)})}r.displayName=r.name+" [from "+f.id+"]";r={make:r};function s(a){return i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("480625"),20)})}s.displayName=s.name+" [from "+f.id+"]";f={make:s};g.Gif=a;g.Sticker=b;g.Photo=e;g.MoreActions=k;g.Emoji=l;g.PaperclipSVG=m;g.Paperclip=n;g.Pin=o;g.Camera=p;g.Microphone=q;g.Poll=r;g.Currency=f}),98);
__d("WorkXMAContentContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext();function a(){return i.Provider}function b(){return h.useContext(i)}g.xmaContentContext=i;g.getProvider=a;g.useHook=b}),98);
__d("MWChatPollFacepile.bs",["fbt","ix","CometImage.react","CometPressable.react","CometTintedIcon.react","JSResource","MWTooltip.react","MWTooltipGroup.react","MWV2MessageRowIsRowFocusedContext.bs","WorkXMAContentContext.bs","bs_belt_Option","bs_caml_option","bs_curry","fbicon","react","stylex","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={contact:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},contactGapNegative:{marginStart:"xrzrlj5",$$css:!0},contactGapNormal:{marginStart:"xsgj6o6",$$css:!0},contactLarge:{height:"x10w6t97",width:"x1td3qas",$$css:!0},contactMedium:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},contactSmall:{height:"x1v9usgg",width:"x6jxa94",$$css:!0},contactWithBoarder:{borderTop:"xifua3y",borderEnd:"x4l9i0w",borderBottom:"xuf84vp",borderStart:"x1bf0f5m",$$css:!0},overflow:{backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"xk50ysn",lineHeight:"x1u7k74",marginStart:"xrzrlj5",paddingTop:"x1nn3v0j",paddingEnd:"x1sxyh0",paddingBottom:"x1120s5i",paddingStart:"xurb0ha",$$css:!0},overflowOverlay:{alignItems:"x6s0dn4",backgroundColor:"xdit8p8",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",opacity:"x1us6l5c",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},photoWrap:{display:"x1rg5ohu",position:"x1n2onr6",$$css:!0},root:{display:"x78zum5",$$css:!0},rootReversed:{flexDirection:"x15zctf7",$$css:!0}};function l(a){var b=a.align,d=a.children,e=a.position;a=a.tooltip;if(a!==void 0)return j.jsx(c("MWTooltip.react"),{align:function(){switch(b){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:function(){switch(e){case"below":return"below";case"above":return"above";case"start":return"start";case"end_":return"end"}}(),tooltip:c("bs_caml_option").valFromOption(a),children:d});else return d}b={make:l};function a(a){var b=a.gap,e=a.direction,f=a.limit,g=a.contactWithBorder,m=a.overflowStyle,n=a.contacts,o=a.countOverride,p=a.optionId,q=a.size,r=b!==void 0?b:"normal",s=e!==void 0?e:"normal",t=f!==void 0?f:2,u=g!==void 0?g:!0,v=m!==void 0?m:"showTotalCount",w=n.length>t;if(w&&v==="showTotalCount"){a=n.slice(0,-t|0).reverse().filter(function(a){return a.name!==void 0}).map(function(a){a=a.name;if(a!==void 0)return a;else return""});b=a.length===0?void 0:c("bs_caml_option").some(j.jsx("ul",{children:a.map(function(a,b){return j.jsx("li",{children:a},String(b))})}));e=j.jsx(l,{align:"middle",position:"above",tooltip:b,children:j.jsx("div",{className:"x1vtvx1t x1rcc7c0 xbtbmw4 x1lie4ck x16hxpj1 xi81zsa x1nxh6w3 xk50ysn x1u7k74 xrzrlj5 x1nn3v0j x1sxyh0 x1120s5i xurb0ha",children:"+"+String((o!==void 0?o:n.length)-2|0)})})}else e=null;f=j.jsxs(c("MWTooltipGroup.react"),{children:[e,n.slice(-(w?t:1e3)|0).reverse().map(function(a,b){return j.jsxs("div",{className:c("stylex")(k.photoWrap,r==="normal"?k.contactGapNormal:k.contactGapNegative,q==="medium"?k.contactMedium:q==="small"?k.contactSmall:k.contactLarge),children:[j.jsx(l,{align:"middle",position:"above",tooltip:c("bs_belt_Option").map(a.name,function(a){return a}),children:j.jsx(c("CometImage.react"),{src:a.profile_picture_url,xstyle:[k.contact,q==="medium"?k.contactMedium:q==="small"?k.contactSmall:k.contactLarge,u?k.contactWithBoarder:!1]})}),w&&v==="overlayLastPhoto"&&b===(t-1|0)?j.jsx("div",{className:"x6s0dn4 xdit8p8 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ey2m1c x78zum5 xds687c xl56j7k x1us6l5c x6ikm8r x10wlt62 x10l6tqk x17qophe x13vifvy x1vjfegm",children:j.jsx(c("CometTintedIcon.react"),{color:"white",icon:d("fbicon")._(i("484386"),16)})}):null]},String(b))})]});var x=d("WorkXMAContentContext.bs").useHook();g=j.useContext(d("MWV2MessageRowIsRowFocusedContext.bs").context);var y=g.setIsDialogOpened,z=g.setFocused;if(p!==void 0&&x!==void 0){m=c("useCometLazyDialog")(c("JSResource")("ChatLSGeminiChatPollFacepileDialog.react").__setRef("MWChatPollFacepile.bs"));var A=m[0];return j.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__WPE2y-osfy7__JHASH__").toString(),onPress:function(){c("bs_curry")._1(y,function(){return!0});return A({onHide:function(){c("bs_curry")._1(y,function(){return!1});return c("bs_curry")._1(z,function(){return!0})},optionId:p,pollId:x},function(){})},overlayDisabled:!0,xstyle:function(){return[k.root,s==="reversed"?k.rootReversed:!1]},children:f})}return j.jsx("div",{className:c("stylex")(k.root,s==="reversed"?k.rootReversed:!1),children:f})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.ConditionalTooltip=b;g.make=e}),98);
__d("MWInboxInfoPanelContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext({footerContentRef:{current:null},isExpanded:void 0,isOnMemberRequestsPageRef:{current:!1},pushMemberRequestsPage:function(){},setIsExpanded:function(){},setPushMemberRequestsPage:function(a){},setShouldNavToMemberRequests:function(){},shouldNavToMemberRequests:!1});function a(a){var b=a.children,c=a.isExpanded,d=a.setIsExpanded,e=h.useRef(!1),f=e.current,g=h.useRef(function(){}),j=g.current,k=h.useRef(!1),l=h.useRef(null);a=h.useMemo(function(){return{footerContentRef:l,isExpanded:c,isOnMemberRequestsPageRef:k,pushMemberRequestsPage:j,setIsExpanded:d,setPushMemberRequestsPage:function(a){g.current=a},setShouldNavToMemberRequests:function(a){e.current=a},shouldNavToMemberRequests:f}},[c,d,f,j,k]);return h.createElement(i.Provider,{children:b,value:a})}b=a;g.context=i;g.make=b}),98);
__d("MWMessageRequestSharedTexts.bs",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return h._("__JHASH__U0QsQTXo_Q6__JHASH__",[h._param("FBFullName",a)])}function b(a){return h._("__JHASH__ftbQaI1YVpP__JHASH__",[h._param("name",a)])}function c(a){return h._("__JHASH__9ycmorSoeEo__JHASH__",[h._param("FBShortName",a)])}g.getFBUserInfoTextMessage=a;g.getDefaultInfoTextFooter=b;g.getDeclineUserDialogText=c}),98);
__d("MWV2ComposerFileButton.bs",["fbt","CometFileSelector.react","CometPressable.react","MWChatComposerIcons.bs","MWTooltip.react","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k=h._("__JHASH__irWVZkNfl97__JHASH__");function l(a){return i.useCallback(function(b){b=Array.from(b);if(b.length>0)return c("bs_curry")._1(a,b)},[a])}function a(a){var b=a.color,e=a.disabled,f=a.onAttachmentsAdded;a=a.supportedFileTypes;f=l(f);f={children:function(a){return i.jsx(c("MWTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:k,children:i.jsx(c("CometPressable.react"),{"aria-label":k,disabled:e,onPress:function(){return c("bs_curry")._1(a)},overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").Photo.make,{fill:e?void 0:b,size:20})})})},multiple:!0,onFilesSelected:f};a!==void 0&&(f.accept=c("bs_caml_option").valFromOption(a));return i.jsx(c("CometFileSelector.react"),babelHelpers["extends"]({},f))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.label=k;g.useOnFilesSelected=l;g.make=b}),98);
__d("MWV2ComposerGifButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSShape","MWChatComposerIcons.bs","MWTooltip.react","bs_caml_format","bs_caml_int64","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k=h._("__JHASH__J6q-Bfr0oTE__JHASH__");function l(a,b,c,e){return d("LSShape").ofRecord({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:b,preview_url:a,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:c})}function m(a){return i.useCallback(function(b){var d=c("bs_caml_format").caml_int64_of_string(b.platformFBID),e=b.source.url;return c("bs_curry").app(a,[void 0,void 0,void 0,void 0,d,e,l(e,c("bs_caml_int64").of_int32(b.source.height),c("bs_caml_int64").of_int32(b.source.width)),void 0,void 0,void 0,void 0])},[a])}function a(a){var b=a.color,e=a.disabled,f=a.isSecureThread;a=a.onSendMessage;a=m(a);return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{isSecureThread:f,onSelect:c("bs_curry").__1(a),testid:"mw_gif_picker"},popoverResource:c("JSResource")("MWChatAnimatedImageFlyout.react").__setRef("MWV2ComposerGifButton.bs"),position:"above",children:function(a,f,g,h,l,m,n){return i.jsx(c("MWTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:k,children:i.jsx(c("CometPressable.react"),{"aria-label":k,disabled:e,onHoverIn:c("bs_curry").__1(h),onHoverOut:function(){return c("bs_curry")._1(l)},onPress:function(){return c("bs_curry")._1(f)},onPressIn:c("bs_curry").__1(m),overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").Gif.make,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.label=k;g.useOnGifSelect=m;g.make=b}),98);
__d("MWV2ComposerStickerButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSShape","MWChatComposerIcons.bs","MWTooltip.react","bs_belt_Option","bs_caml_format","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},flyoutRoot:{width:"x1fepime",$$css:!0}},k=h._("__JHASH__430IPCMJAf3__JHASH__");function l(a,b,c,e){return d("LSShape").ofRecord({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:b,preview_url:a,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:c})}function m(a,b){return i.useCallback(function(d,e,f){e=f.animated_uri;e=c("bs_belt_Option").isSome(e)?e:f.uri;if(b)return c("bs_curry").app(a,[void 0,void 0,c("bs_caml_format").caml_int64_of_string(d),void 0,void 0,c("bs_belt_Option").getExn(e),void 0,void 0,void 0,void 0,void 0]);else return c("bs_curry").app(a,[void 0,void 0,c("bs_caml_format").caml_int64_of_string(d),void 0,void 0,void 0,l(e,[0,128],[0,128]),void 0,void 0,void 0,void 0])},[a,b])}function a(a){var b=a.color,e=a.disabled,f=a.onSendMessage;a=a.useSecureSend;f=m(f,a);return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,onVisibilityChange:function(a){},popoverProps:{className:"x1fepime",onClose:function(){},onStickerSelect:f,shouldHideDefaultPacks:a},popoverResource:c("JSResource")("MWChatStickersFlyout.react").__setRef("MWV2ComposerStickerButton.bs"),position:"above",children:function(a,f,g,h,l,m,n){return i.jsx(c("MWTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:k,children:i.jsx(c("CometPressable.react"),{"aria-label":k,disabled:e,onHoverIn:c("bs_curry").__1(h),onHoverOut:function(){return c("bs_curry")._1(l)},onPress:function(){return c("bs_curry")._1(f)},onPressIn:c("bs_curry").__1(m),overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").Sticker.make,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.label=k;g.useOnStickerSelect=m;g.make=b}),98);
__d("MWV2UseAreThreadContactsDualSendEligible.bs",["LSContactViewerRelationship","LSInt64.bs","LSIntEnum","LSMessagingThreadTypeUtil","LSWhatsAppConnectStatus","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_int64","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b,e,f){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:b,tl:0}),d("ReQL.bs").fromTableAscending(a.table("contacts"))),function(a){return a[1]}),function(a){if(a!==void 0&&c("bs_caml").i64_neq(a.id,f))if(d("LSMessagingThreadTypeUtil").isOneToOne(e))return c("bs_caml").i64_gt(c("bs_caml_int64").and_(a.waConnectStatus,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_DST_ELIGIBLE)),d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE));else if(c("bs_caml").i64_gt(c("bs_caml_int64").and_(a.waConnectStatus,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_GDST_ELIGIBLE)),d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)))if(c("bs_int64").equal(a.contactViewerRelationship,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").FACEBOOK_FRIEND)))return!0;else return c("bs_int64").equal(a.contactViewerRelationship,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER));else return!1;else return!1}),function(a){return a})}function a(a,b,c,e){return d("ReQL.bs").toArray(i(a,c,e,b))}function b(a,b){var e=c("useReStore")(),f=d("MWPActor.bs").useActor();return d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").take(i(e,a,b,f),2)},[e,d("LSInt64.bs").string(a),d("LSInt64.bs").string(b)])).length}e=a;f=b;g.getEligibleContacts=e;g.useThreadEligiblity=f}),98);
__d("MWCommunityMessagingNUXDialog.react",["MWCommunityMessagingNUXQuickPromotionContainer.entrypoint","react","react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react"),{entryPoint:b("MWCommunityMessagingNUXQuickPromotionContainer.entrypoint"),entryPointParams:{folderId:a.folderId,isFolderRoute:a.isFolderRoute||!1},props:{}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWArmadilloLinkContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=e(!1);function a(a){a=a.children;return h.jsx(j.Provider,{value:!0,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.MAWArmadilloLinkProvider=a;g.useMAWArmadilloLink=b}),98);
__d("MAWArmadilloLink.react",["CometLink.react","MAWArmadilloLinkContext.react","cr:820","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.bypassMDS_DO_NOT_USE;e=e===void 0?!1:e;var f=a.children,g=a.color;a.testid;a=babelHelpers.objectWithoutPropertiesLoose(a,["bypassMDS_DO_NOT_USE","children","color","testid"]);var i=d("MAWArmadilloLinkContext.react").useMAWArmadilloLink();if(i&&c("gkx")("3164")){i={disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]};return b("cr:820")!=null&&!e?h.jsx(b("cr:820"),babelHelpers["extends"]({},a,i,{children:f})):h.jsx(c("CometLink.react"),babelHelpers["extends"]({},a,i,{color:g,children:f}))}return f}g["default"]=a}),98);
__d("FBLikeSvgIcon.react",["react","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.alt,d=a.className,e=a.color;a=a.size;a=a===void 0?20:a;var f=b!=null,g=c("useCometUniqueID")();return h.jsxs("svg",{"aria-hidden":f?void 0:!0,"aria-labelledby":f?g:void 0,className:d,height:a,viewBox:"0 0 16 16",width:a,children:[f&&h.jsx("title",{id:g,children:b}),h.jsx("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z",fill:e}),h.jsx("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z",fill:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLikeSvgIcon.react",["cr:1798"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1798")}),98);
__d("MessageReactionOperation",[],(function(a,b,c,d,e,f){a=Object.freeze({ADD:1,REMOVE:2});f["default"]=a}),66);
__d("MessageReactionStyle",[],(function(a,b,c,d,e,f){a=Object.freeze({BASIC_SUPER_REACT_ANIMATION:1});f["default"]=a}),66);
__d("useMWPSendOrUnsendReaction",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSOptimisticUpsertReaction","LSOptimisticUpsertReactionV2","LSThreadBitOffset.bs","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWLSThread.bs","MWPActor.bs","MessageReactionOperation","MessageReactionStyle","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticUpsertReactionV2")(b,e.threadKey,e.messageId,e.timestampMs,f,g,!0,d("LSIntEnum").ofNumber(c("MessageReactionStyle").BASIC_SUPER_REACT_ANIMATION),d("LSIntEnum").ofNumber(c("MessageReactionOperation").ADD),void 0,c("LSFactory")(a))},"readwrite"))}function i(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){yield a.runInTransaction(function(a){return c("LSOptimisticUpsertReactionV2")(b,e.threadKey,e.messageId,e.timestampMs,g,f,!1,d("LSIntEnum").ofNumber(c("MessageReactionStyle").BASIC_SUPER_REACT_ANIMATION),d("LSIntEnum").ofNumber(c("MessageReactionOperation").REMOVE),void 0,c("LSFactory")(a))},"readwrite")});return j.apply(this,arguments)}function k(a,b,e,f){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("reactions_v2")).getKeyRange(e.threadKey,e.messageId,f)).then(function(c){c!==void 0?h(a,b,e,f,c.count):h(a,b,e,f,d("I64").zero)}))}function a(a){var e,f,g,h=c("useReStore")(),j=d("MWPActor.bs").useActor();e=(e=d("MWLSThread.bs").useThread(a.threadKey,function(a){return d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&c("gkx")("8026")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),a)}))!=null?e:!1;f=(f=d("MWLSThread.bs").useThread(a.threadKey,function(a){return c("MWCMIsAnyCMThread")(a.threadType)&&!d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&c("gkx")("2640")&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),a)}))!=null?f:!1;g=(g=d("MWLSThread.bs").useThread(a.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(a.threadType)&&d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(139),a)&&c("gkx")("6661")}))!=null?g:!1;var l=e||f||g;return d("Int64Hooks").useCallbackInt64(function(e){if(l){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(h.table("reaction_v2_types")).filter(function(a){return a.reactionLiteral===e})).then(function(e){if(e!==void 0){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(h.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor})).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){if(b===void 0)return k(h,j,a,e.reactionFbid);var c=d("I64").equal(b.reactionFbid,e.reactionFbid);yield i(h,j,a,b.count,b.reactionFbid);if(!c)return k(h,j,a,e.reactionFbid)});return function(a){return c.apply(this,arguments)}}()));return}}));return}c("promiseDone")(h.runInTransaction(function(b){return c("LSOptimisticUpsertReaction")(a.threadKey,d("I64").of_float(Date.now()),a.messageId,j,e,c("LSFactory")(b))},"readwrite"))},[h,a,j,l])}g["default"]=a}),98);
__d("MAWPSendOrRemoveReaction.bs",["MWPActor.bs","bs_int64","cr:2220","react","requireDeferred","useMWPSendOrUnsendReaction","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("MWLogMessageAction.bs").__setRef("MAWPSendOrRemoveReaction.bs");function a(a,e,f){var g,j=c("useReStore")(),k=d("MWPActor.bs").useActor(),l=(g=b("cr:2220")==null?void 0:b("cr:2220").useSendOrRemoveReaction(a.threadKey,c("bs_int64").to_string(a.senderId)))!=null?g:null,m=c("useMWPSendOrUnsendReaction")(a);return h.useMemo(function(){return function(b,c,d){if(e&&l!==null)l(b,c);else{m((b=c)!=null?b:"")}i.onReady(function(b){return b.log(j,a.messageId,a.threadKey,f,d,void 0,void 0,void 0,a.senderId,void 0,k,void 0)})}},[JSON.stringify(a.threadKey),e,l,m,f])}g.useSendOrRemoveReaction=a}),98);
__d("MessengerColors",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=!1);var c=100/(a.length-1);b=b?a.slice():a.slice().reverse();a=b.map(function(a,b){return a+" "+b*c+"%"}).join(",");return"radial-gradient(circle at center 75%, "+a+")"}function b(a,b,c){var d={};if(a){b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;if(a.length&&a.length>0)if(a.length===1)d.backgroundColor=a[0];else if(a.length===2)d.backgroundImage="linear-gradient("+a[0]+", "+a[1]+")";else{var e=a.length,f=100/(e-1);e=a.map(function(a,b){return a+" "+b*f+"%"}).join(", ");d.backgroundImage="linear-gradient("+e+")"}}else b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;return d}f.makeRadialGradient=a;f.makeLinearGradient=b}),66);
__d("MessengerCustomColorUtils.bs",["cssVar","CurrentUser"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(c("CurrentUser").isWorkUser())return"#373e4c";else return"#0099ff"}function a(a){a=a.solid_color;if(a==null)return i();else return a}g.defaultColor=i;g.customColorOrBlue=a}),98);
__d("MessengerHotLikeIconSVGM4React.bs",["cx","CurrentUser","MessengerColors","MessengerCustomColorUtils.bs","MessengerEnvironment","gkx","react","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return i.jsx("path",{d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:a})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.color;a=j(a);if(c("MessengerEnvironment").messengerui&&!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))return i.jsx("svg",{className:"_7oal",width:"36px",height:"36px",viewBox:"0 1 36 36",children:a});else return i.jsx("svg",{width:"32px",height:"32px",viewBox:"0 0 36 36",children:a})}function b(a){a=a.thread;var b=i.useState(function(){return c("uniqueID")()});b=b[0];var e=j("black");return i.jsxs(i.Fragment,{children:[i.jsxs("svg",{viewBox:"0 0 36 36",style:{height:"100%",position:"absolute",width:"100%"},children:[i.jsxs("mask",{id:b,children:[i.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),e]}),i.jsx("rect",{className:"_8rsr",width:"100%",height:"100%",mask:"url(#"+b+")",fill:"white"})]}),i.jsx("div",{style:babelHelpers["extends"]({},d("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,d("MessengerCustomColorUtils.bs").defaultColor()),{backgroundAttachment:"fixed",height:"95%",margin:"auto",width:"95%"})})]})}b.displayName=b.name+" [from "+f.id+"]";e=a;h=b;g.pathHotLike=j;g.make=e;g.makeWithGradient=h}),98);
__d("StylexHelpers.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};g.styles=a}),98);
__d("MessengerHotLikeSVGReact.bs",["cssVar","cx","fbt","CurrentUser","MWLikeSvgIcon.react","MessengerEnvironment","bs_belt_Option","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=j._("__JHASH__fqLNX_G5Htn__JHASH__");function a(a){var b=a.className;a=a.color;var d,e=0;a==null||a===""?e=1:d=a;e===1&&(d=c("CurrentUser").isWorkUser()?"#373e4c":c("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");return k.jsx("div",{className:c("joinClasses")(c("bs_belt_Option").getWithDefault(b,""),"_1i1j"),"data-testid":void 0,children:k.jsx(c("MWLikeSvgIcon.react"),{alt:l,color:d,size:"100%"})})}a.displayName=a.name+" [from "+f.id+"]";b="transparent";e=a;g.cTRANSPARENT=b;g.make=e}),98);
__d("MercuryLocalIDs",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return"root:"+h(a)}function h(a){a=a!=null?a:Date.now();var b=c("randomInt")(0,4294967295);b=("0000000000000000000000"+b.toString(2)).slice(-22);a=a.toString(2)+b;return i(a.slice(-63))}function i(a){var b="";a=a;while(a!="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}g.generateThreadID=a;g.generateOfflineThreadingID=h}),98);
__d("Popup",["isTruthy"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){var f=[];c("isTruthy")(b)&&f.push("width="+b);c("isTruthy")(d)&&f.push("height="+d);var g=document.body;if(g!=null&&b!=null&&b!==0&&d!=null&&d!==0){var h="screenX"in window?window.screenX:window.screenLeft,i="screenY"in window?window.screenY:window.screenTop,j="outerWidth"in window?window.outerWidth:g.clientWidth;g="outerHeight"in window?window.outerHeight:g.clientHeight-22;h=Math.floor(h+(j-b)/2);j=Math.floor(i+(g-d)/2.5);f.push("left="+h);f.push("top="+j)}f.push("scrollbars");return window.open(a,e!=null&&e!==""?e:"_blank",f.join(","))}g.open=a}),98);
__d("StickerConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120});f["default"]=a}),66);
__d("Sticker.react",["cx","fbt","Arbiter","CurrentUser","JSResource","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeSVGReact.bs","PaddedStickerConfig","StickerConstants","clearInterval","emptyFunction","getElementPosition","gkx","joinClasses","lazyLoadComponent","nullthrows","react","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").Suspense,l=c("lazyLoadComponent")(c("JSResource")("StickerPopoverImage.react").__setRef("Sticker.react")),m=c("lazyLoadComponent")(c("JSResource")("GeoPopover.react").__setRef("Sticker.react")),n=83;a=5e3;var o=10,p={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.__stopIntervalID=null,c.$1=!1,c.$2=j.createRef(),c.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},c.toggleAnimation=function(){c.isAnimating()?c.stopAnimation():c.startAnimation()},c.incrementFrameIndex=function(){c.shouldStopAnimating()?c.stopAnimation():c.setState({index:c.state.index+1})},c.onStickerClick=function(){if(!c.$3(c.props.packID))return;c.props.onStickerClick&&c.props.onStickerClick(c.props.packID,c.props.stickerID)},c.mouseLeft=function(){c.setState({isHovered:!1})},c.mouseEntered=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusSelected=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusUnselected=function(){c.setState({isHovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=!0;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this.__stopIntervalID=null;(this.props.animationTrigger===p.LOAD_AND_HOVER||this.props.animationTrigger===p.ANIMATE_FOREVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount&&this.props.frameCount>1){var b=c("Arbiter").subscribe(this.props.subscribedThreadID,function(b,c){a.isScrolledIntoView(c.scrollTop,c.viewHeight,c.top)});this.setState({unsubscribeID:b})}};e.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&c("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&c("clearInterval")(this.__stopIntervalID)};e.isAnimating=function(){return!!this.__stopIntervalID};e.getWidth=function(){var a;return Math.floor((a=this.props.sourceWidth)!=null?a:0)};e.getHeight=function(){var a;return Math.floor((a=this.props.sourceHeight)!=null?a:0)};e.preloadSprite=function(){var a=this,b=new window.Image();b.onload=function(){a.$1&&!a.state.hasAnimated&&(a.setState({hasAnimated:!0}),a.__stopIntervalID=c("setIntervalAcrossTransitions")(a.incrementFrameIndex,a.props.frameRate))};c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?b.src=this.props.paddedSpriteURI:b.src=this.props.spriteURI};e.isScrolledIntoView=function(a,b,d){var e=c("getElementPosition")(this.$2.current);d=a+e.y-d;b=a+b;e=d+e.height;this.props.frameCount&&this.props.frameCount>1&&!this.state.hasAnimated&&e-o<=b&&d+o>=a&&this.startAnimation()};e.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))};e.stopAnimation=function(){this.setState({index:0}),c("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null};e.shouldStopAnimating=function(){var a;if(!this.props.frameCount)return!0;var b=this.state.index%this.props.frameCount;if(this.props.animationTrigger===p.ANIMATE_FOREVER)return!1;a=(a=this.props.frameRate)!=null?a:n;if(!(b===0&&this.state.index*a>this.props.animationTime))return!1;return this.props.animationTrigger===p.CLICK?!0:!this.state.isHovered};e.getStyle=function(){var a,b=0,d=this.props.spriteURI;a=(a=this.props.scale)!=null?a:1;var e=this.getHeight()*a;a=this.getWidth()*a;if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){d=this.props.paddedSpriteURI;var f=240/Math.min(e,a);b=Math.floor(parseInt(c("StickerConstants").SPRITE_PADDING,10)/f)}f=this.props.frameCount?this.state.index%this.props.frameCount:0;var g=this.props.framesPerRow?f%this.props.framesPerRow*(a+b*2)+b:0;f=this.props.framesPerRow?Math.floor(f/this.props.framesPerRow)*(e+b*2)+b:0;var h=this.props.frameCount&&this.props.frameCount>1&&this.props.animationTrigger===p.CLICK||this.$3(this.props.packID);h=this.props.forceCursorPointer||h?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI||!d||!this.props.framesPerRow||!this.props.framesPerCol)return{backgroundImage:this.$4()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:a+"px "+e+"px",cursor:h,height:e,width:a};else return{backgroundSize:(a+b*2)*this.props.framesPerRow+"px "+(e+b*2)*this.props.framesPerCol+"px",backgroundImage:"url("+d.toString()+")",backgroundPosition:-g+"px "+-f+"px",cursor:h,height:e,width:a,imageRendering:"-webkit-optimize-contrast"}};e.$3=function(a){return a&&a!=c("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=c("StickerConstants").GRAVEYARD_PACK_ID};e.getAriaLabel=function(){var a;return i._("__JHASH__XuqBXexse6H__JHASH__",[i._param("pack name",(a=this.props.packName)!=null?a:""),i._param("sticker name",this.props.accessibilityLabel)])};e.render=function(){var a,b;this.props.animationTrigger===p.CLICK&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===p.HOVER||this.props.animationTrigger===p.LOAD_AND_HOVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&(b=!0);var e=a?this.toggleAnimation:null;this.props.packID&&(e=this.onStickerClick);var f=this.props.className,g=null;this.$4()&&(f=c("joinClasses")(f,"_576q"),(!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))&&this.props.thread!=null?g=j.jsx(d("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,{thread:this.props.thread}):g=j.jsx(d("MessengerHotLikeSVGReact.bs").make,{color:this.props.customColor}));f=j.jsx("div",{"aria-label":this.getAriaLabel(),className:f,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:e,onFocus:this.tabFocusSelected,onMouseEnter:b?this.mouseEntered:null,onMouseLeave:b?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,ref:this.$2,children:g});return this.props.enablePopoverIfPassesGK&&c("gkx")("4316")?j.jsx(m,{content:j.jsx(k,{fallback:"Loading...",children:j.jsx(l,{stickerID:c("nullthrows")(this.props.stickerID)})}),heading:"",isSticky:!1,children:f}):f};e.$4=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1};return b}(j.Component);b.defaultProps={animationTime:a,accessibilityLabel:"",forceCursorPointer:!1,frameRate:n,onStickerClick:c("emptyFunction"),packID:null,packName:"",tabIndex:0};g["default"]=b}),98);
__d("XCometMessengerPhotoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_photo/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComHelpContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/help/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[]}),void 0);b=a;g["default"]=b}),98);
__d("XP2PVerificationDialogBaseControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/p2p/verify/dialog/",Object.freeze({is_sender_flow:!1}),void 0);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("CometStickerPickerFlyoutTagSelectorRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6992742624133199"}),null);
__d("CometStickerPickerFlyoutTagSelectorRootQuery$Parameters",["CometStickerPickerFlyoutTagSelectorRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometStickerPickerFlyoutTagSelectorRootQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerFlyoutTagSelectorRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFIReactionsMenu_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIReactionsMenu_feedback",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_use_group_custom_reactions_beta",plural:!1,selections:[{args:null,documentName:"CometUFIReactionsMenu_feedback",fragmentName:"CometUFIReactionsMenuDynamicBeta_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_cannot_use_group_custom_reactions_beta",plural:!1,selections:[{args:null,documentName:"CometUFIReactionsMenu_feedback__cannot_use_group_custom_reactions_beta",fragmentName:"CometUFIReactionsMenuClassic_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIShareActionLinkMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5778679532227753"}),null);
__d("CometUFIShareActionLinkMenuQuery$Parameters",["CometUFIShareActionLinkMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometUFIShareActionLinkMenuQuery_facebookRelayOperation"),metadata:{},name:"CometUFIShareActionLinkMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometContextualMessage.react",["fbt","ix","CometIcon.react","CometRow.react","CometRowItem.react","FbtResultBase","TetraTextPairing.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={closeButton:{marginEnd:"xcud41i",marginTop:"x9otpla",$$css:!0},icon:{marginTop:"x1rdy4ex",$$css:!0},root:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"x1l90r2v",paddingStart:"x1e558r4",$$css:!0}},l={highlight:{backgroundColor:"xwnonoy",$$css:!0},"highlight-bg":{backgroundColor:"xfmpgtx",$$css:!0},primary:{backgroundColor:"x1jx94hy",$$css:!0},secondary:{backgroundColor:"xlhe6ec",$$css:!0}};function a(a,b){var e=a.addOnPrimary,f=a.addOnSecondary,g=a.body,m=a.headline,n=a.headlineLineLimit,o=a.icon,p=a.level;p=p===void 0?3:p;var q=a.meta,r=a.testid;r=a.type;r=r===void 0?"primary":r;var s=a.onClose!=null?a.onClose:null;a=a.headlineAriaLabel!=null?a.headlineAriaLabel:typeof m==="string"||m instanceof c("FbtResultBase")?m:null;return j.jsxs("div",{className:c("stylex")(k.root,l[r]),"data-testid":void 0,ref:b,children:[j.jsxs(c("CometRow.react"),{verticalAlign:"center",children:[o!=null?j.jsx(c("CometRowItem.react"),{verticalAlign:"top",children:j.jsx("div",{className:"x1rdy4ex",children:o})}):null,j.jsx(c("CometRowItem.react"),{expanding:!0,children:j.jsx(c("TetraTextPairing.react"),{body:g,bodyColor:r==="highlight"?"white":"secondary",headline:m,headlineColor:r==="highlight"?"white":"primary",headlineLineLimit:(b=n)!=null?b:2,level:p})}),s!=null?j.jsx(c("CometRowItem.react"),{verticalAlign:"top",children:j.jsx("div",{className:"xcud41i x9otpla",children:j.jsx(c("CometIcon.react"),{"aria-label":a!=null?h._("__JHASH__jdA38No1bHZ__JHASH__",[h._param("card name",a)]):h._("__JHASH__PfdWOKkgwGk__JHASH__"),color:r==="highlight"?"white":"secondary",icon:d("fbicon")._(i("478232"),16),onPress:s,size:16,testid:void 0})})}):null]}),e,f,q!=null&&j.jsx(c("CometRow.react"),{paddingTop:12,children:j.jsx(c("CometRowItem.react"),{children:j.jsx(c("TetraTextPairing.react"),{level:p,meta:q})})})]})}a.displayName=a.name+" [from "+f.id+"]";b=j.forwardRef(a);g["default"]=b}),98);
__d("KeyframesAsyncSession",["Promise","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("FBKeyframesLoggedSession").__setRef("KeyframesAsyncSession");a=function(){function a(b){var d=this;this.$3=function(){var b=a.timestamp();c("promiseDone")(d.$1,function(a){return a.error(b)})};this.$1=h.load().then(function(a){return new a(b)});this.$2=this.$1.then(function(a){return a.getPerformanceLogIfEnabled()})}a.timestamp=function(){return{value:Date.now()}};var d=a.prototype;d.scheduleDecode=function(d,e){var f=d.then(function(){return a.timestamp()}),g=d.then(function(){return e}).then(function(){return a.timestamp()}),h=e.then(function(a){return a&&a.pluginsLoader!=null&&a.pluginsLoader.getPluginTable instanceof Function?a.pluginsLoader.getPluginTable():[]});d=b("Promise").all([this.$1,f]).then(function(a){var c=a[0];a=a[1];c=c.startDecode(a);return b("Promise").all([c,g,h])});c("promiseDone")(d,function(a){var b=a[0],c=a[1];a=a[2];return b(c,a)},this.$3)};d.maybeGetPerformanceLog=function(){return this.$2};return a}();g["default"]=a}),98);
__d("KeyframesDownloadTracker",["NetworkStatus","Promise","XHRRequest","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=2,i=250;function a(a){return new(b("Promise"))(function(b,d){var e=0,f,g=function f(){e++,new(c("XHRRequest"))(a).setMethod("GET").setResponseType("arraybuffer").setErrorHandler(function(a){var b=e<=h;b?c("setTimeout")(f,i):d(a)}).setAbortHandler(function(a){d(a)}).setResponseHandler(function(a){b(a)}).send()};if(c("NetworkStatus").isOnline())g();else{var j=function(a){a=a.online;a&&(g(),f.remove())};f=c("NetworkStatus").onChange(j)}})}g["default"]=a}),98);
__d("KeyframesDecodedAssetRequest",["KeyframesDownloadTracker","Promise","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("KeyframesAssetDecoder").__setRef("KeyframesDecodedAssetRequest"),i=c("requireDeferred")("KeyframesRenderer").__setRef("KeyframesDecodedAssetRequest");function j(a){return!a||typeof a!=="string"?b("Promise").reject("Request: invalid uri "+a):c("KeyframesDownloadTracker")(a)}a=function(){function a(a,d){var e=this;this.$1=!1;a=b("Promise").all([typeof a==="string"?j(a):a,h.load()]);this.$2=a.then(function(a){var b=a[0];a=a[1];return a.fromDocumentBytes(b)});d.scheduleDecode(a,this.$2);c("promiseDone")(this.$2,function(){return e.$1=!0},function(){return e.$1=!0})}var d=a.prototype;d.isDone=function(){return this.$1};d.getAsset=function(){return this.$2};d.getRenderer=function(a){return b("Promise").all([this.$2,i.load(),a.maybeGetPerformanceLog()]).then(function(a){var b=a[0],c=a[1];a=a[2];return new c(b,a)})};return a}();g["default"]=a}),98);
__d("Keyframes",["Bootloader","KeyframesAsyncSession","KeyframesDecodedAssetRequest","KeyframesDownloadTracker","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h={},i={};function j(a,d){if(!a||typeof a!=="string")return b("Promise").reject("Request: invalid uri "+a);var e=h[a];if(e)return e;e=c("KeyframesDownloadTracker")(a);d===!0&&(h[a]=e);return e}function a(a,b){b=new(c("KeyframesAsyncSession"))(b);i[a]||(i[a]=new(c("KeyframesDecodedAssetRequest"))(a,b));return i[a].getRenderer(b)}function d(a){i[a]||j(a,!0),c("Bootloader").loadModules(["KeyframesRenderer","FBKeyframesLoggedSession","KeyframesAssetDecoder"],function(){},"Keyframes")}function e(a,d){if(!i[a]){d=new(c("KeyframesAsyncSession"))(d);i[a]=new(c("KeyframesDecodedAssetRequest"))(a,d)}return b("Promise").all([i[a].getAsset()]).then(c("emptyFunction"))}function f(a,b){b=new(c("KeyframesAsyncSession"))(b);return new(c("KeyframesDecodedAssetRequest"))(a,b).getRenderer(b)}function k(a,b){b=new(c("KeyframesAsyncSession"))(b);return new(c("KeyframesDecodedAssetRequest"))(a,b).getAsset()}function l(a){return!!(i[a]&&i[a].isDone())}function m(){i={},h={}}g.requestRenderer=a;g.preload=d;g.load=e;g.requestRendererFromBytes=f;g.loadFromBytes=k;g.hasLoaded=l;g.clearCache=m}),98);
__d("KeyframesVersionLogger",["BanzaiLogger","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="KeyframesFramePerfLoggerConfig",i={appid:256281040558,isemployee:c("CurrentUser").isEmployee()?1:0},j={USE_LEGACY:"keyframes2_used",USE_MODERN:"keyframes3_used"};function k(a,b){c("BanzaiLogger").log(h,babelHelpers["extends"]({},i,{name:a,extras:(a=b)!=null?a:void 0}))}a={logLegacy:function(a){k(j.USE_LEGACY,a)},logModern:function(a){k(j.USE_MODERN,a)}};g.KeyframesVersionLogger=a}),98);
__d("KeyframesLegacy_DO_NOT_USE.react",["FBLogger","Keyframes","KeyframesVersionLogger","createCancelableFunction","gkx","promiseDone","react","testID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.width;a=a.height;b={width:b||0,height:a||0};return h.jsx("div",{style:b})}i.displayName=i.name+" [from "+f.id+"]";function j(a){var b=a.width;a=a.height;return h.jsx(i,{width:b,height:a})}j.displayName=j.name+" [from "+f.id+"]";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:!1,renderer:null},c.$6=function(a){c.setState({renderer:a,error:!1}),c.props.onLoad&&c.props.onLoad(a)},c.$7=function(a){c.props.onLoadError&&c.props.onLoadError(),c.setState({renderer:null,error:!0})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.seekToProgress=function(a){this.state.renderer&&this.state.renderer.seekToProgress(a)};e.componentDidMount=function(){this.$4(this.props.source)};e.componentWillUnmount=function(){this.state.renderer&&this.state.renderer.pause(),this.$2&&this.$2.cancel(),this.$3&&this.$3.cancel()};e.componentDidUpdate=function(a,b){if(this.props.source!==a.source||this.props.projectName!==a.projectName||this.props.assetName!=null&&a.assetName!=null&&this.props.assetName!==a.assetName||a.assetID!=null&&this.props.assetID!=null&&this.props.assetID!==a.assetID)this.$4(this.props.source);else{var c=this.state.renderer;c!==b.renderer?this.$5(b.renderer,c):c&&((a.width!==this.props.width||a.height!==this.props.height)&&(c.resetDimensions(),this.props.width&&c.setWidth(this.props.width),this.props.height&&c.setHeight(this.props.height)),a.muted!==this.props.muted&&(this.props.muted?c.mute():c.unMute()),a.startAt!==this.props.startAt&&a.endAt!==this.props.endAt&&c.setStartAndEndAt(this.props.startAt,this.props.endAt),a.startAt!==this.props.startAt&&c.setStartAt(this.props.startAt),a.endAt!==this.props.endAt&&c.setEndAt(this.props.endAt),a.repeatCount!==this.props.repeatCount&&c.repeatCount(this.props.repeatCount),a.onError!==this.props.onError&&c.onError(this.props.onError),a.onRepeatEnd!==this.props.onRepeatEnd&&c.onRepeatEnd(this.props.onRepeatEnd),a.onProgress!==this.props.onProgress&&c.onProgress(this.props.onProgress),a.initialProgress!==this.props.initialProgress&&c.seekToProgress(this.props.initialProgress),a.playing!==this.props.playing&&(this.props.playing?c.play():(c.pause(),this.props.resetOnPause&&c.repeatCount(this.props.repeatCount).seekToProgress(this.props.initialProgress))),c.redrawIfNeeded())}};e.$5=function(a,b){if(!this.$1)return;b&&(b.onError(this.props.onError).onRepeatEnd(this.props.onRepeatEnd).onProgress(this.props.onProgress).setStartAt(this.props.startAt).setEndAt(this.props.endAt).repeatCount(this.props.repeatCount),this.props.width&&b.setWidth(this.props.width),this.props.height&&b.setHeight(this.props.height),this.props.initialProgress&&b.seekToProgress(this.props.initialProgress),this.props.muted?b.mute():b.unMute(),this.props.playing?b.play():b.pause(),b.redrawIfNeeded());if(a&&b)if(!c("gkx")("7347")||c("gkx")("7092"))this.$1.replaceChild(b.getElement(),a.getElement());else{var d=a.getElement(),e=b.getElement();if(d!=null&&e!=null&&this.$1!=null)try{this.$1.replaceChild(e,d)}catch(a){c("FBLogger")("keyframes-www").catching(a).warn("Caught error when replacing renderers: ",a.toString()),e.replaceWith(d)}else{var f;d&&((f=this.$1)==null?void 0:f.removeChild(d));e&&((f=this.$1)==null?void 0:f.appendChild(e))}}else a&&this.$1.removeChild(a.getElement()),b&&this.$1.appendChild(b.getElement());d=this.props.canvasRef;if(d){e=(f=b==null?void 0:b.getElement())!=null?f:null;typeof d==="function"?d(e):d.current=e}};e.$8=function(a){return a instanceof ArrayBuffer?d("Keyframes").requestRendererFromBytes(a,this.$9()):d("Keyframes").requestRenderer(a,this.$9())};e.$4=function(a){this.$2&&this.$2.cancel(),this.$3&&this.$3.cancel(),!a?this.$7():(d("KeyframesVersionLogger").KeyframesVersionLogger.logLegacy(this.$10()),this.$2=c("createCancelableFunction")(this.$6),this.$3=c("createCancelableFunction")(this.$7),c("promiseDone")(this.$8(a),this.$2,this.$3))};e.$10=function(){var a=this.$9(),b=a.projectName,c=a.assetID;a=a.assetName;a=(c=(c=c)!=null?c:a)!=null?c:"__FIXME__missing_react_asset_name";return b+"-"+a};e.$9=function(){return this.props.assetID?{projectName:this.props.projectName,assetID:this.props.assetID}:{projectName:this.props.projectName,assetName:this.props.assetName||"__FIXME__missing_react_asset_name"}};e.render=function(){var a=this,b=this.props,d=b.className,e=b.height,f=b.style,g=b.width,k=b.ariaLabel;b=b.role;g=this.state.renderer?null:this.state.error?this.props.errorPlaceholder||h.jsx(j,{width:g,height:e}):this.props.placeholder||h.jsx(i,{width:g,height:e});e=this.props.mutator&&this.state.renderer&&h.cloneElement(this.props.mutator,{__renderer:this.state.renderer});return h.jsxs("div",babelHelpers["extends"]({className:d},c("testID")(this.props.testid),{ref:function(b){return a.$1=b},style:babelHelpers["extends"]({display:"inline-block",lineHeight:0,fontSize:0},f),"aria-label":k,role:b,children:[g,e]}))};return b}(h.Component);a.defaultProps={initialProgress:0,resetOnPause:!1,playing:!0,repeatCount:Infinity,startAt:0,endAt:1};g["default"]=a}),98);
__d("ViewportAwareKeyframes.react",["KeyframesLegacy_DO_NOT_USE.react","clearTimeout","react","setTimeout","stylex","useLayoutEffect_SAFE_FOR_SSR","useVisibilityObserver","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useRef,k=b.useState,l={root:{display:"x3nfvp2",$$css:!0}};function a(a){var b=a.className,d=a.delay,e=d===void 0?0:d;d=a.height;var f=a.onAnimationCancel,g=a.onAnimationStart_SAFE_FOR_SSR,m=a.onDelayEnd,n=a.onDelayStart,o=a.onRepeatEnd,p=a.playing,q=p===void 0?"onvisible":p;p=a.style;var r=a.width,s=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","delay","height","onAnimationCancel","onAnimationStart_SAFE_FOR_SSR","onDelayEnd","onDelayStart","onRepeatEnd","playing","style","width","xstyle"]);var t=k(q),u=t[0],v=t[1],w=j(!1);t=k(!1);var x=t[0],y=t[1],z=j(null),A=j(!1);t=k(!1);var B=t[0],C=t[1],D=j(0);function E(a){o&&o(a),a===0&&(w.current=!0,A.current=!1,y(!1))}function F(){z.current!==null&&(c("clearTimeout")(z.current),z.current=null)}function G(){f&&f(),D.current+=1,F()}t=c("useVisibilityObserver")({onHidden:function(a){a=a.hiddenReason;a!=="COMPONENT_UNMOUNTED"&&(C(!1),A.current=!1,w.current||G(),w.current=!1,y(!1))},onVisible:function(){C(!0)}});c("useLayoutEffect_SAFE_FOR_SSR")(function(){if(B){if(x||w.current||A.current)return;e<=0?["always","onvisible"].includes(u)&&(g&&g(),y(!0)):(v("never"),n&&n(),z.current=c("setTimeout")(function(){m&&m(),g&&g(),y(!0),v(q),A.current=!0},e))}else F()},[e,x,B,g,m,n,u,q]);var H=i(function(){return c("uuid")()},[]);return h.jsx("div",{className:c("stylex")([l.root,s]),ref:t,children:h.jsx(c("KeyframesLegacy_DO_NOT_USE.react"),babelHelpers["extends"]({className:b,height:d,onRepeatEnd:E,playing:(u==="onvisible"||u==="always")&&x,style:p,width:r},a),H+"-"+D.current)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLRandomElementWrapper",["Random","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[[1,0],[1,1],[0,1],[0,2],[1,2],[2,2],[2,1],[1,1]],j=Math.floor(Date.now()/(1e3*60*60*24));b=function(a){var b;return(b={},b[a]=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(HTMLSpanElement)),b)[a]};e=function(){return String.fromCharCode(97+c("Random").random()*25)};d=j%10+5;var k=Array(d).fill().map(e).join("");d=Array(d).fill().map(e).join("");var l=k+"-"+d;window.customElements&&window.customElements.define(l,b(k),{"extends":"span"});function a(a){var b=a.children,c=a.elementTag,d=a.useClassStyles;d=d===void 0?!1:d;a=a.useInlineStyles;a=a===void 0?!1:a;b=b;var e=i[j%i.length],f=a?{display:"inline"}:null,g=d?"x9f619 xt0psk2 xjb2p0i x1qlqyl8 x15bjb6t":null;c==="div"&&!d&&!a&&(g="x9f619 xt0psk2 xjb2p0i x1qlqyl8 x15bjb6t");c==="randomSpan"?window.customElements?d=l:d="span":d=c;a=e[1];for(c=0;c<a;c++)b=h.jsx(d,{className:g,style:f,children:b});b=h.jsx(d,{children:b});c=e[0];for(a=0;a<c;a++)b=h.jsx(d,{className:g,style:f,children:b});return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIdorvanity",["CometRouteParams","CometRouteURL"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("CometRouteParams").useRouteParams(),b=a.group_idorvanity,c=a.id;a=a.idorvanity;var e=d("CometRouteURL").useRouteURLPath();if(typeof a==="string")return a;else if(c!=null&&String(c)!==""&&!h.includes(e))return String(c);else if(typeof b==="string")return b;return null}var h=["/profile.php"];g["default"]=a}),98);
__d("OptimisticLoadingTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({PENDING:"PENDING",SHOW_ANIMATION:"SHOW_ANIMATION",SHOW_LOADER:"SHOW_LOADER",SHOW_POST_PREVIEW:"SHOW_POST_PREVIEW",SHOW_PROGRESS_BAR:"SHOW_PROGRESS_BAR"});f["default"]=a}),66);
__d("useThrottledComet",["CometThrottle","react","useLayoutEffect_SAFE_FOR_SSR","useStable"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a,b){b===void 0&&(b=100);var d=i(a);c("useLayoutEffect_SAFE_FOR_SSR")(function(){d.current=a},[a]);var e=c("useStable")(function(){return c("CometThrottle")(function(){var a=arguments;return d.current==null?void 0:d.current.apply(d,a)},b)});h(function(){return function(){e.cancel()}},[]);return e}g["default"]=a}),98);
__d("CometLexicalContentEditableCommands",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";a=d("Lexical").createCommand();g.COMET_LEXICAL_ARIA_COMMAND=a}),98);
__d("useCometLexicalDragAndDrop",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b){var c=b.onDragEnter,d=b.onDragLeave,e=b.onDragOver,f=b.onDrop,g=b.onPaste;h(function(){if(a!=null)return a.registerRootListener(function(a,b){b!=null&&(c&&b.removeEventListener("dragenter",c),d&&b.removeEventListener("dragleave",d),e&&b.removeEventListener("dragover",e),f&&b.removeEventListener("drop",f,!0),g&&b.removeEventListener("paste",g,!0)),a!==null&&(c&&a.addEventListener("dragenter",c),d&&a.addEventListener("dragleave",d),e&&a.addEventListener("dragover",e),f&&a.addEventListener("drop",f,!0),g&&a.addEventListener("paste",g,!0))})},[a,c,d,e,f,g])}g["default"]=a}),98);
__d("useCometLexicalFileDragAndDrop",["react","useCometLexicalDragAndDrop"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a){var b=a.editor,d=a.isMimeTypeAcceptable,e=a.onHover,f=e===void 0?function(){}:e;e=a.onSubmit;var g=e===void 0?function(){}:e,j=i(0),k=h(function(a){return Array.from(a).filter(d)},[d]);a=h(function(a){j.current++;var b=a.dataTransfer;if(b==null)return f([],!0);b=k(b.items);b.length>0&&a.preventDefault();return f(b,!0)},[k,f]);e=h(function(a){j.current--;if(j.current===0)return f([],!1)},[f]);var l=h(function(a){var b=a.dataTransfer;if(b==null)return f([],!0);b=k(b.items);b.length>0&&a.preventDefault();return f(b,!0)},[k,f]),m=h(function(a,b){b=k(b.items);b=b.map(function(a){return a.getAsFile()}).filter(Boolean);if(b.length>0){a.stopPropagation();a.preventDefault();return g(b)}else return g([])},[k,g]),n=h(function(a){var b=a.dataTransfer;j.current=0;f([],!1);if(b!=null)return m(a,b);else return g([])},[m,f,g]),o=h(function(a){var b=a.clipboardData;if(b==null)return g([]);var c=b.types;c=c.includes("text/plain")&&c.includes("text/html")||c.includes("text/rtf");return c?g([]):m(a,b)},[m,g]);c("useCometLexicalDragAndDrop")(b,{onDragEnter:a,onDragLeave:e,onDragOver:l,onDrop:n,onPaste:o})}g["default"]=a}),98);
__d("useCometLexicalEmptyListeners",["LexicalText","react","useLayoutEffect_SAFE_FOR_SSR","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useMemo,j=e.useState;function a(a){var b=j(function(){var b=!0;a(function(a){b=a})();return b}()),d=b[0],e=b[1];c("useLayoutEffect_SAFE_FOR_SSR")(function(){return a(function(a){return e(a)})},[a]);return d}function b(a){var b=i(function(){return new Set()},[]),e=c("useUnsafeRef_DEPRECATED")(a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing()))),f=h(function(a){var c=Array.from(b);for(var d=0;d<c.length;d++)c[d](a)},[b]),g=h(function(){var b=a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing()));e.current!==b&&(e.current=b,f(b))},[a,f]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){return a.registerUpdateListener(g)},[a,g]);return h(function(a){b.add(a);a(e.current);return function(){b["delete"](a)}},[b])}g.useCometLexicalIsEmpty=a;g.useCometLexicalEmptyListeners=b}),98);
__d("CometLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometLexicalEntityTextNode does not implement getEntity","ufi2")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.CometLexicalEntityTextNode=h;g.isCometLexicalEntityTextNode=a}),98);
__d("CometLexicalDelightNode",["CometLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"delight"};a.clone=function(b){return new a(b.__text,b.__styles,b.__campaignID,b.__delightAsset,b.__key)};a.importJSON=function(a){return i(a.text,a.styles,a.campaignID,a.delightAsset)};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{campaignID:this.__campaignID,delightAsset:this.__delightAsset,styles:this.__styles,type:"delight"})};function a(a,c,d,e,f){a=b.call(this,a,f)||this;a.__entityType="TextDelightCampaign";a.__styles=c;a.__campaignID=d;a.__delightAsset=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);var c=this.__delightAsset.id,d=this.__styles,e=d.color;d=d["font-weight"];c!=null&&a.setAttribute("data-delight-asset",c);a.setAttribute("data-delight","true");e!=null&&d!=null&&(a.style.color=e,a.style.fontWeight=d);return a};c.getEntity=function(){return{__UFI__:!0,id:this.__campaignID,isWeak:!1,type:this.__entityType}};c.canInsertTextBefore=function(){return!1};c.canInsertTextAfter=function(){return!1};return a}(d("CometLexicalEntityTextNode").CometLexicalEntityTextNode);function i(a,b,c,d){return new h(a,b,c,d)}function a(a){return a instanceof h}g.CometLexicalDelightNode=h;g.$createLexicalDelightNode=i;g.$isLexicalDelightNode=a}),98);
__d("CometLexicalEmojiNode",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";var h=9;b=16;c=20;e=16;var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"emoji"};a.clone=function(b){return new a(b.__text,b.__rawText,b.__src,b.__size,b.__key)};a.importJSON=function(a){a=j(a.text,a.rawText,a.src,a.size);return a};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{rawText:this.__rawText,size:this.__size,src:this.__src,type:"emoji"})};function a(a,c,d,e,f){a=b.call(this,a,f)||this;a.__src=d;a.__rawText=c;a.__size=e;return a}c.getRawText=function(){var a=this.getLatest();return a.__rawText};c.createDOM=function(){var a=this.__text,b=this.__size,c=this.__src,d=document.createElement("span"),e=document.createElement("span"),f=d.style;f.cursor="default";d.className="x1xsqp64 xiy17q3 x1o6pynw x19co3pv xdj266r xcwd3tp xat24cr x39eecv x2b8uid";d.setAttribute("data-testid","emoji");c!=null&&(f.backgroundImage="url("+c+")",f.backgroundSize=b+"px "+b+"px");a!==this.__rawText&&(d.style.width="calc("+b+"px + 0.3em)",d.style.height=b+"px",d.className="x1xsqp64 xiy17q3 x1o6pynw x19co3pv xdj266r xcwd3tp xat24cr x39eecv x2b8uid x1rg5ohu x6ikm8r x10wlt62 xmziwt1 xuxw1ft",d.setAttribute("spellcheck","false"),e.style.fontFamily='Courier, "Courier New", Menlo, Monaco, monospace',e.style.fontSize="15px",e.style.letterSpacing=b/(h*a.length)-1+"ch");e.textContent=a;e.className="xexx8yu xn5pp95 x18d9i69 x2fxd7x x1yqt14a x1bhl96m";d.appendChild(e);return d};c.updateDOM=function(a,b){a=b.firstChild;if(a==null)return!0;var c=this.__text;a.textContent!==c&&(a.textContent=c);b.style.backgroundSize=this.__size+"px "+this.__size+"px";return!1};c.setSize=function(a){var b=this.getWritable();b.__size=a};c.selectionTransform=function(a,b){var c=this.__text;if(c===this.__rawText||!d("Lexical").$isRangeSelection(a)||a.is(b))return;a=a.focus;var e=b.focus,f=c.length,g=b.isCollapsed();if(e.offset===0||e.offset===c.length||a.is(e))return;a.isBefore(e)?e.set(e.key,f,"text"):e.set(e.key,0,"text");g&&b.anchor.set(e.key,e.offset,"text")};return a}(d("Lexical").TextNode);function a(a){return a instanceof i}function j(a,b,c,d){return new i(a,b,c,d).setMode("token")}g.UFI_EMOJI_SIZE=b;g.COMPOSER_EMOJI_SIZE_LARGE=c;g.COMPOSER_EMOJI_SIZE_SMALL=e;g.EmojiNode=i;g.$isEmojiNode=a;g.$createEmojiNode=j}),98);
__d("CometLexicalGenericEntityNode",["CometLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){var c;return new a({id:b.__id,text:b.__text,type:b.__entityType,uri:(c=b.__uri)!=null?c:void 0},b.__key)};a.importJSON=function(a){return i({id:a.id,text:a.text,type:a.entityType,uri:(a=a.uri)!=null?a:void 0})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{entityType:this.__entityType,id:this.__id,type:"actor",uri:this.__uri})};function a(a,c){var d=a.id,e=a.text,f=a.type;a=a.uri;e=b.call(this,e,c)||this;e.__id=d;e.__entityType=f;e.__uri=a;return e}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m";a.spellcheck=!1;return a};c.getEntity=function(){var a=this.__uri!=null?{uri:this.__uri}:null;return babelHelpers["extends"]({__UFI__:!0,id:this.__id,isWeak:!1,type:this.__entityType},a)};c.getEntityType=function(){return this.__entityType};c.getID=function(){return this.__id};return a}(d("CometLexicalEntityTextNode").CometLexicalEntityTextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof h}g.CometLexicalGenericEntityNode=h;g.$createCometLexicalGenericEntityNode=i;g.$isCometLexicalGenericEntityNode=a}),98);
__d("CometLexicalGroupEntityNode",["CometLexicalGenericEntityNode"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d=a.canBeInvitedByViewer,e=a.gender,f=a.photoURI;a=babelHelpers.objectWithoutPropertiesLoose(a,["canBeInvitedByViewer","gender","photoURI"]);a=b.call(this,a,c)||this;a.__canBeInvitedByViewer=d===!0;a.__photoURI=f;a.__gender=e;return a}a.getNodeFields=function(a){return{canBeInvitedByViewer:a.__canBeInvitedByViewer,gender:a.__gender,id:a.__id,photoURI:a.__photoURI,text:a.__text,type:a.__entityType,uri:(a=a.__uri)!=null?a:void 0}};a.getType=function(){return"group_actor"};a.clone=function(b){return new a(a.getNodeFields(b),b.__key)};a.importJSON=function(a){return i({canBeInvitedByViewer:a.canBeInvitedByViewer,gender:a.gender,id:a.id,photoURI:a.photoURI,text:a.text,type:a.entityType,uri:(a=a.uri)!=null?a:void 0})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{canBeInvitedByViewer:this.__canBeInvitedByViewer,gender:this.__gender,photoURI:this.__photoURI})};c.getPhotoURI=function(){return this.__photoURI};c.getCanBeInvitedByViewer=function(){return this.__canBeInvitedByViewer};c.getUserGender=function(){return this.__gender};return a}(d("CometLexicalGenericEntityNode").CometLexicalGenericEntityNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}g.CometLexicalGroupEntityNode=h;g.$createCometLexicalGroupEntityNode=i}),98);
__d("useCometLexicalSubscription",["react","useLayoutEffect_SAFE_FOR_SSR","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState;function a(a){var b=c("useUnsafeRef_DEPRECATED")(a.initialValueFn()),d=h(b.current),e=d[0],f=d[1];c("useLayoutEffect_SAFE_FOR_SSR")(function(){var c=a.initialValueFn,d=a.subscribe;c=c();b.current!==c&&(b.current=c,f(c));return d(function(a){b.current=a,f(a)})},[a]);return e}g["default"]=a}),98);
__d("useCometUFILexicalEmptyListeners",["react","useCometLexicalEmptyListeners","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useState;function a(a){var b=i(function(){var b=!0;a(function(a){b=a})();return b}()),d=b[0],e=b[1];c("useLayoutEffect_SAFE_FOR_SSR")(function(){return a(function(a){return e(a)})},[a]);return d}function b(a,b){var c=d("useCometLexicalEmptyListeners").useCometLexicalEmptyListeners(a);return h(function(a){var d=function(c){c=c&&b.attachment==null;a(c)};return c(d)},[c,b.attachment])}g.useCometUFILexicalIsEmpty=a;g.useCometUFILexicalEmptyListeners=b}),98);
__d("CometStickerPickerFlyoutTagSelectorRoot.entrypoint",["CometStickerPickerFlyoutTagSelectorRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.count;a=a.cursor;return{queries:{flyoutTagsQueryReference:{parameters:c("CometStickerPickerFlyoutTagSelectorRootQuery$Parameters"),variables:{count:b,cursor:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometStickerPickerFlyoutTagSelectorRoot.react").__setRef("CometStickerPickerFlyoutTagSelectorRoot.entrypoint")};g["default"]=a}),98);
__d("CometUFIConversationGuideContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({addGiphyStickerToComposer:function(){},addStickerToComposer:function(){},getIsComposerEmpty:function(){return!1},onComposerEmptyStateChange:function(){},setAddGiphyStickerToComposer:function(){},setAddStickerToComposer:function(){},setGetIsComposerEmpty:function(){},setOnComposerEmptyStateChange:function(){},setWriteToComposer:function(){},unsetAddGiphyStickerToComposer:function(){},unsetAddStickerToComposer:function(){},unsetOnComposerEmptyStateChange:function(){},unsetWriteToComposer:function(){},writeToComposer:function(){}});g["default"]=b}),98);
__d("CometUFIProfileLink.react",["ActorHovercard.react","CometLink.react","CometPressable.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a["aria-hidden"],d=a.children,e=a.href,f=a.kind,g=a.shouldProfileLinkBeUnclickable;g=g===void 0?!1:g;a=a.uid;var i="";e!=null?i=e:i="/"+a;var j;typeof d==="string"?j=h.jsx("span",{className:"xi81zsa x3nfvp2 xzueoph xr9ek0c",children:h.jsx(c("TetraText.react"),{type:"bodyLink4",children:d})}):j=d;return g?h.jsx(c("CometLink.react"),{"aria-hidden":b,disabled:!0,children:j}):h.jsx(c("ActorHovercard.react"),{actorID:a,"aria-hidden":b,display:"inline",children:function(a){switch(f){case"link":return h.jsx(c("CometLink.react"),{"aria-hidden":b,href:i,ref:a,children:j});case"profilePhoto":return h.jsx(c("CometPressable.react"),{"aria-hidden":b,linkProps:{url:i},overlayRadius:"50%",ref:a,children:j});default:return f}}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIQPLInstanceKeyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=d("react").createContext;b=a(0);c=b;g["default"]=c}),98);
__d("CometUFIReactionsMenu.react",["CometRelay","CometUFIReactionsMenu_feedback.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var c=a.contextRef,e=a.feedback,f=a.onClose;a=babelHelpers.objectWithoutPropertiesLoose(a,["contextRef","feedback","onClose"]);e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIReactionsMenu_feedback.graphql"),e);return i.jsxs(i.Fragment,{children:[e.if_viewer_can_use_group_custom_reactions_beta!=null?i.jsx(d("CometRelay").MatchContainer,{match:e.if_viewer_can_use_group_custom_reactions_beta,props:babelHelpers["extends"]({contextRef:c,feedback:e.if_viewer_can_use_group_custom_reactions_beta,onClose:f},a)}):null,e.if_viewer_cannot_use_group_custom_reactions_beta!=null?i.jsx(d("CometRelay").MatchContainer,{match:e.if_viewer_cannot_use_group_custom_reactions_beta,props:babelHelpers["extends"]({contextRef:c,feedback:e.if_viewer_cannot_use_group_custom_reactions_beta,onClose:f},a)}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIShareActionLinkMenu.entrypoint",["CometUFIShareActionLinkMenuQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.feedLocation,d=a.qe_optional_share_to_page,e=a.storyUrl;a=a.url;return{extraProps:{},queries:{shareMenuQueryReference:{parameters:b("CometUFIShareActionLinkMenuQuery$Parameters"),variables:{feed_location:c,hasParentStory:e!=null,qe_optional_share_to_page:(c=d)!=null?c:!1,shareableParams:{url:a},storyParams:{url:e}}}}}},root:c("JSResourceForInteraction")("CometUFIShareActionLinkMenu.react").__setRef("CometUFIShareActionLinkMenu.entrypoint")};g["default"]=a}),98);
__d("CometUFICommentActionLinksListItem.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("li",{className:"x1rg5ohu x1emribx x1i64zmx",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useDeferredModuleOnReady",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;function a(b){var c=i(function(){return b.getModuleIfRequireable()}),a=c[0],d=c[1];h(function(){if(a!=null)return;var c=b.onReady(function(a){d(function(){return a})});return function(){c.remove()}},[b,a]);return a}g["default"]=a}),98);
__d("CometDelightsPluginForLexical",["react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("UpgradedCometDelightsPluginForLexical").__setRef("CometDelightsPluginForLexical");function a(a){a=a.pluginProps;a=a.editor;var b=c("useDeferredModuleOnReady")(i);return b!=null?h.jsx(b,{editor:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometIsMimeTypeForMedia",["FBLogger","UFICommentFileInputAcceptValues"],(function(a,b,c,d,e,f,g){"use strict";var h={file:null,photo:null,video:null},i={"image/gif":"video","image/webp":"video"};function j(a){return a.split(",").map(function(a){return a.trim()}).map(function(a){return a.replace(/\/\*$/,"/")})}function k(a,b,d){h[a]==null&&(h[a]=j(d));d=h[a];if(d==null)throw c("FBLogger")("ufi2").mustfixThrow("CometIsMimeTypeForMedia prefixes can't be null");var e=i[b];return e!=null?e===a:d.some(function(a){return b.startsWith(a)})}function a(a){return k("photo",a,d("UFICommentFileInputAcceptValues").photos)}function b(a){return k("video",a,d("UFICommentFileInputAcceptValues").videos)}function e(a){return k("file",a,d("UFICommentFileInputAcceptValues").files)}g.mimeTypeAcceptStringToArray=j;g.isMimeTypeForPhoto=a;g.isMimeTypeForVideo=b;g.isMimeTypeForFile=e}),98);
__d("useFocusedStoryDialogLaunchHandlers",["CometFocusedStoryDialogLauncherContext","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext;function a(){var a=i(c("CometFocusedStoryDialogLauncherContext")),b=a.onDialogCloseHandlers,d=a.onDialogOpenHandlers;a=h(function(a){d.current.add(a);return{dispose:function(){d.current["delete"](a)}}},[d]);var e=h(function(a){b.current.add(a);return{dispose:function(){b.current["delete"](a)}}},[b]);return[a,e]}g["default"]=a}),98);
__d("CometUFIAwardsFbt",["fbt","qex"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){var a;a=(a=c("qex")._("1830"))!=null?a:!1;return a?h._("__JHASH__j0fBwcAm61I__JHASH__"):h._("__JHASH__VOQJ9xd0dgz__JHASH__")};b=function(){var a;a=(a=c("qex")._("1830"))!=null?a:!1;return a?h._("__JHASH__j0fBwcAm61I__JHASH__"):h._("__JHASH___7zuoQfPXOp__JHASH__")};d=function(){var a;a=(a=c("qex")._("1830"))!=null?a:!1;return a?h._("__JHASH__aIvp27Rz_kI__JHASH__"):h._("__JHASH__epkTJTKE3sC__JHASH__")};e=function(){var a;a=(a=c("qex")._("1830"))!=null?a:!1;return a?h._("__JHASH__ZlWUwT5K_Cn__JHASH__"):h._("__JHASH__guMdDokk9-E__JHASH__")};f=h._("__JHASH__SWAuKHzvcfG__JHASH__");var i=function(a){var b;b=(b=c("qex")._("1830"))!=null?b:!1;return b?h._("__JHASH__h-4douLo7eT__JHASH__",[h._plural(a)]):h._("__JHASH__CzyFFMlX0Zf__JHASH__",[h._plural(a)])},j=h._("__JHASH__6zokxrW8WKe__JHASH__"),k=function(){var a;a=(a=c("qex")._("1830"))!=null?a:!1;return a?h._("__JHASH__QYmi_9mcQda__JHASH__"):h._("__JHASH__O_rMyNV0p8H__JHASH__")};g.getAwardCommentTitle=a;g.getAwardPostTitle=b;g.getAwardCommentSummaryTitle=d;g.getAwardPostSummaryTitle=e;g.AWARD_SHEET_GIVE_BUTTON_LABEL=f;g.getGiveAwardSuccessToastText=i;g.AWARD_SENT_LABEL=j;g.getApproveAndGiveAwardNux=k}),98);
__d("CometCommunityAwardsLoggerDeferred",["promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("CometCommunityAwardsLogger").__setRef("CometCommunityAwardsLoggerDeferred");function a(a){c("promiseDone")(h.load().then(function(b){return b.log(a)}))}g.logCommunityAwardsEvent=a}),98);
__d("useCometCommunityAwardAsCommentQPLLogger",["$InternalEnum","QPLUserFlow","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef,i=b("$InternalEnum")({SELECT_AWARD:"select_award",DESELECT_AWARD:"deselect_award",SEND_AWARD_WITH_COMMENT:"send_award_with_comment",SEND_AWARD_WITHOUT_COMMENT:"send_award_without_comment"}),j=c("qpl")._(617550016,"959");function a(){var a=h(!1),b=function(b,d){b===i.SELECT_AWARD&&(a.current=!0),c("QPLUserFlow").addPoint(j,b,{data:{string_array:{award_types:d.awardTypes}}})},d=function(){a.current===!1&&c("QPLUserFlow").endCancel(j)},e=function(){c("QPLUserFlow").endFailure(j,"send_award_mutation_failure")},f=function(){c("QPLUserFlow").endSuccess(j)},g=function(a){c("QPLUserFlow").start(j,{annotations:{string:{content_id:a.contentID,content_type:a.contentType,trigger_source:a.triggerSource},string_array:{previous_awards_from_viewer:a.previousAwardsFromViewer}}})};return{addPoint:b,endCancel:d,endFailure:e,endSuccess:f,start:g}}g.CommunityAwardAsCommentQPLPointName=i;g.useCometCommunityAwardAsCommentQPLLogger=a}),98);
__d("useThrottledImpl",["cr:1708227"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1708227")}),98);
__d("LexicalComposerContext",["cr:509"],(function(a,b,c,d,e,f){e.exports=b("cr:509")}),null);
__d("MLCCharacterLimitCountPlugin.react",["LexicalComposerContext","LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=function(a){return a.length};function a(a){var b=a.editor__DEPRECATED,c=a.limit,e=a.strlen,f=e===void 0?i:e,g=a.onChange,j;if(b)j=b;else{e=d("LexicalComposerContext").useLexicalComposerContext();j=e[0]}h(function(){var a=j.getEditorState().read(function(){return c-f(d("LexicalText").$rootTextContent())});g(a);return j.registerTextContentListener(function(a){a=c-f(a);g(a)})},[j,c,g,f]);return null}g["default"]=a}),98);
__d("MLCInstrumentationCommands",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";a=d("Lexical").createCommand();b=d("Lexical").createCommand();c=d("Lexical").createCommand();e=d("Lexical").createCommand();g.COMMIT_COMMAND=a;g.INTERACTION_INSTRUMENTATION_READY=b;g.DOCUMENT_COMMAND=c;g.PLUGIN_EVENT_COMMAND=e}),98);
__d("UFI2CometRelayBridge",["createSuspenseFragmentContainer_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";g.createFragmentContainer=c("createSuspenseFragmentContainer_DEPRECATED")}),98);
__d("UFI2CometRelayCreateFragmentContainer",["cr:936168","react","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";d("react");a={createFragmentContainer:b("cr:936168").createFragmentContainer,graphql:d("relay-runtime").graphql};g["default"]=a}),98);
__d("UFI2ScaleRect",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return i(a,!0)}function b(a){return i(a,!1)}function i(a,b){var c=a.srcHeight,d=a.srcWidth,e=a.maxHeight,f=a.maxWidth;a=a.gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero;!1===a&&(c>0||h(0,5272,c),d>0||h(0,5273,d));e>0||h(0,5274,e);f>0||h(0,5275,f);c=a&&c===0?e:c;a=a&&d===0?f:d;d=f/a;f=e/c;e=b?Math.min(d,f):Math.min(d,f,1);return{height:Math.round(c*e),width:Math.round(a*e)}}g.scaleToContain=a;g.shrinkToContain=b}),98);
__d("UFI2ViewOption",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="FRIENDS_COMMENTS")return!1;switch(a){case"NEW_TO_YOU":case"ADMIN_HIDDEN":case"RECENT_ACTIVITY":case"RANKED_THREADED":case"RANKED_UNFILTERED":case"LIVE_STREAMING":case"RANKED_SUB_REPLIES":case"RANKED_REPLIES":case"MOST_VOTED":case"MOST_REACCS":case"ANSWERED":case"UNANSWERED":case"MOST_ENGAGEMENT":case"CHRONO_SUB_REPLIES":case"STAR_COMMENTS":case"FISHBOWL_NORMIES_RECENT_ACTIVITY":return!1}return!0}function b(a,b){return b&&a==="RECENT_ACTIVITY"}f.shouldDisplayInReverse=a;f.expectedWasteComment=b}),66);
__d("useOnUpdateEffect",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a,b){var c=i(!1);h(function(){if(c.current===!0)return a();else c.current=!0},b)}g["default"]=a}),98);
__d("useThrottled",["useThrottledImpl"],(function(a,b,c,d,e,f,g){"use strict";f.exports=c("useThrottledImpl")}),34);
__d("XCometGroupSettingsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/edit/",Object.freeze({auto_open_recruiting_group_scope_dialog:!1,auto_open_editing_role_dialog:!1,auto_open_award_customization_onboarding_dialog:!1,auto_open_award_customization_post_onboarding_dialog:!1,auto_open_member_empowerment_onboarding_dialog:!1}),void 0);b=a;g["default"]=b}),98);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalComposerContext.prod",["react"],(function $module_LexicalComposerContext_prod(global,require,requireDynamic,requireLazy,module,exports){
"use strict";var c_react;var c=c_react||(c_react=require("react"));var d=c.createContext(null);exports.LexicalComposerContext=d;exports.createLexicalComposerContext=function(a,e){var b=null;null!=a&&(b=a[1]);return{getTheme:function getTheme(){return null!=e?e:null!=b?b.getTheme():null;}};};
exports.useLexicalComposerContext=function(){var a=c.useContext(d);if(null==a)throw Error("Minified Lexical error #8; visit https://lexical.dev/docs/error?code=8 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return a;};}),null);
__d("LexicalHashtag",["cr:2139"],(function(a,b,c,d,e,f){e.exports=b("cr:2139")}),null);
__d("LexicalLink",["cr:2905"],(function(a,b,c,d,e,f){e.exports=b("cr:2905")}),null);
__d("LexicalUtils",["cr:2774"],(function(a,b,c,d,e,f){e.exports=b("cr:2774")}),null);
__d("lengthInUTF8Bytes",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=new TextEncoder();return b.encode(a).length}function h(a){var b=encodeURIComponent(a).match(/%[89ABab]/g);return a.length+(b?b.length:0)}a=function(){if(typeof TextEncoder==="undefined")return h;else return g}();f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("DOMControl",["$","DataStore"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.root=b("$").fromIDOrElement(a),this.updating=!1,b("DataStore").set(a,"DOMControl",this)}var c=a.prototype;c.getRoot=function(){return this.root};c.beginUpdate=function(){if(this.updating)return!1;this.updating=!0;return!0};c.endUpdate=function(){this.updating=!1};c.update=function(a){if(!this.beginUpdate())return this;this.onupdate(a);this.endUpdate()};c.onupdate=function(a){};a.getInstance=function(a){return b("DataStore").get(a,"DOMControl")};return a}();e.exports=a}),null);
__d("Input",["CSS","DOMControl","DOMQuery"],(function(a,b,c,d,e,f,g){function h(a){return!/\S/.test(a||"")}function i(a){return h(a.value)}function a(a){return i(a)?"":a.value}function b(a){return a.value}function e(a,b){a.value=b||"";b=c("DOMControl").getInstance(a);b&&b.resetHeight&&b.resetHeight()}function f(a,b){b||(b=""),a.setAttribute("aria-label",b),a.setAttribute("placeholder",b)}function j(a){a.value="",a.style.height=""}function k(a,b){d("CSS").conditionClass(a,"enter_submit",b)}function l(a){return d("CSS").hasClass(a,"enter_submit")}function m(a,b){b>0?a.setAttribute("maxlength",b.toString()):a.removeAttribute("maxlength")}g.isWhiteSpaceOnly=h;g.isEmpty=i;g.getValue=a;g.getValueRaw=b;g.setValue=e;g.setPlaceholder=f;g.reset=j;g.setSubmitOnEnter=k;g.getSubmitOnEnter=l;g.setMaxLength=m}),98);
__d("Form",["DOM","DOMQuery","DTSG","DTSGUtils","DataStore","Input","LSD","PHPQuerySerializer","Random","SprinkleConfig","URI","getElementPosition","isFacebookURI","isNode"],(function(a,b,c,d,e,f){var g,h,i="FileList"in window,j="FormData"in window;function k(a){var c={};(g||(g=b("PHPQuerySerializer"))).serialize(a).split("&").forEach(function(a){if(a){a=/^([^=]*)(?:=(.*))?$/.exec(a);var d=(h||(h=b("URI"))).decodeComponent(a[1]),e=a[2]!==void 0;e=e?(h||(h=b("URI"))).decodeComponent(a[2]):null;c[d]=e}});return c}var l={getInputs:function(a){a===void 0&&(a=document);return[].concat(b("DOMQuery").scry(a,"input"),b("DOMQuery").scry(a,"select"),b("DOMQuery").scry(a,"textarea"),b("DOMQuery").scry(a,"button"))},getInputsByName:function(a){var b={};l.getInputs(a).forEach(function(a){var c=b[a.name];b[a.name]=typeof c==="undefined"?a:[a].concat(c)});return b},getSelectValue:function(a){return a.options[a.selectedIndex].value},setSelectValue:function(a,b){for(var c=0;c<a.options.length;++c)if(a.options[c].value==b){a.selectedIndex=c;break}},getRadioValue:function(a){for(var b=0;b<a.length;b++)if(a[b].checked)return a[b].value;return null},getElements:function(a){return a.tagName=="FORM"&&a.elements!=a?Array.from(a.elements):l.getInputs(a)},getAttribute:function(a,b){return(a.getAttributeNode(b)||{}).value||null},setDisabled:function(a,c){l.getElements(a).forEach(function(a){if(a.disabled!==void 0){var d=b("DataStore").get(a,"origDisabledState");c?(d===void 0&&b("DataStore").set(a,"origDisabledState",a.disabled),a.disabled=c):d===!1&&(a.disabled=!1)}})},forEachValue:function(a,c,d){l.getElements(a).forEach(function(a){if(!a.name||a.disabled)return;if(a.type==="submit")return;if(a.type==="reset"||a.type==="button"||a.type==="image")return;if((a.type==="radio"||a.type==="checkbox")&&!a.checked)return;if(a.nodeName==="SELECT"){for(var c=0,e=a.options.length;c<e;c++){var f=a.options[c];f.selected&&d("select",a.name,f.value)}return}if(a.type==="file"){if(i){f=a.files;for(c=0;c<f.length;c++)d("file",a.name,f.item(c))}return}d(a.type,a.name,b("Input").getValue(a))}),c&&c.name&&c.type==="submit"&&b("DOMQuery").contains(a,c)&&b("DOMQuery").isNodeOfType(c,["input","button"])&&d("submit",c.name,c.value)},createFormData:function(a,c){if(!j)return null;var d=new FormData();if(a)if(b("isNode")(a))l.forEachValue(a,c,function(a,b,c){d.append(b,c)});else{c=k(a);for(a in c)c[a]==null?d.append(a,""):d.append(a,c[a])}return d},serialize:function(a,b){var c={};l.forEachValue(a,b,function(a,b,d){if(a==="file")return;l._serializeHelper(c,b,d)});return l._serializeFix(c)},_serializeHelper:function(a,b,c){var d=Object.prototype.hasOwnProperty,e=/([^\]]+)\[([^\]]*)\](.*)/.exec(b);if(e){if(!a[e[1]]||!d.call(a,e[1])){a[e[1]]=d={};if(a[e[1]]!==d)return}d=0;if(e[2]==="")while(a[e[1]][d]!==void 0)d++;else d=e[2];e[3]===""?a[e[1]][d]=c:l._serializeHelper(a[e[1]],d.concat(e[3]),c)}else a[b]=c},_serializeFix:function(a){for(var b in a)a[b]instanceof Object&&(a[b]=l._serializeFix(a[b]));b=Object.keys(a);if(b.length===0||b.some(isNaN))return a;b.sort(function(a,b){return a-b});var c=0,d=b.every(function(a){return+a===c++});return d?b.map(function(b){return a[b]}):a},post:function(a,c,d,e){e===void 0&&(e=!0);a=new(h||(h=b("URI")))(a);var f=document.createElement("form");f.action=a.toString();f.method="POST";f.style.display="none";var g=!b("isFacebookURI")(a);if(d){if(g){f.rel="noopener";if(d==="_blank"){d=btoa(b("Random").uint32());var i=window.open("about:blank",d);i!==void 0&&(i.opener=null)}}f.target=d}if(e&&(!g&&a.getSubdomain()!=="apps")){i=b("DTSG").getToken();i&&(c.fb_dtsg=i,b("SprinkleConfig").param_name&&(c[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(i)));b("LSD").token&&(c.lsd=b("LSD").token,b("SprinkleConfig").param_name&&!i&&(c[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(b("LSD").token)))}l.createHiddenInputs(c,f);b("DOMQuery").getRootElement().appendChild(f);f.submit();return!1},createHiddenInputs:function(a,c,d,e){e===void 0&&(e=!1);d=d||{};a=k(a);for(var f in a){if(a[f]===null)continue;if(d[f]&&e)d[f].value=a[f];else{var g=b("DOM").create("input",{type:"hidden",name:f,value:a[f]});d[f]=g;c.appendChild(g)}}return d},getFirstElement:function(a,c){c===void 0&&(c=['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']);var d=[];for(var e=0;e<c.length;e++){d=b("DOMQuery").scry(a,c[e]);for(var f=0;f<d.length;f++){var g=d[f];try{var h=b("getElementPosition")(g);if(h.y>0&&h.x>0)return g}catch(a){}}}return null},focusFirst:function(a){a=l.getFirstElement(a);if(a){a.focus();return!0}return!1}};e.exports=l}),null);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);b.parseFiles=function(a){var b={};c("forEachObject")(a,function(a,c){if(Array.isArray(a))b[c]=a;else{b[c]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)b[c].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&b[c].push(a)}});return b};function b(b){var c;c=a.call(this)||this;c._allowCrossOrigin=!1;c._allowCrossPageTransition=!1;c._customHeader={};c._inFlight=!1;c._limit=10;c._option={};c._preventDefaultErrorHandler=!1;c._suspended=!1;b&&c.setURI(b);c.setNetworkErrorRetryLimit(0);return c}var e=b.prototype;e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setData=function(a){this._data=a;return this};e.setOption=function(a,b){this._option[a]=b;return this};e.setPreventDefaultErrorHandler=function(a){this._preventDefaultErrorHandler=a;return this};e.setLimit=function(a){this._limit=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setRelativeTo=function(a){this._relativeTo=a;return this};e.setStatusElement=function(a){this._statusElement=a;return this};e.setURI=function(a){this._uri=a;return this};e.suspend=function(){this._suspended=!0;return this};e.resume=function(){this._suspended=!1;this._processQueue();return this};e.isUploading=function(){return this._inFlight};e._createFileUpload=function(a,b,c){return new h(a,b,c)};e._processQueue=function(){if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift(),b=this._preprocessHandler;b?b(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};e._processUpload=function(a){var b=d("Form").createFormData(a.getData()||this._data);if(a.getFile()){b.append(a.getName(),a.getFile());var e=a.getFile().uploadID;e&&b.append("upload_id",e);a.getAdditionalData().forEach(function(a,c){return b.append(c,a)})}e=new(c("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(b).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var f in this._option)e.setOption(f,this._option[f]);for(f in this._customHeader)e.setRequestHeader(f,this._customHeader[f]);this._relativeTo&&e.setRelativeTo(this._relativeTo);e.send();a.setAsyncRequest(e);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};e._abort=function(a){this._pending.indexOf(a)!==-1&&(c("removeFromArray")(this._pending,a),this._processQueue()),c("removeFromArray")(this._waiting,a),a.abort()};e._initial=function(a){if(a.isAborted())return;this.inform("initial",a)};e._success=function(a,b){if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};e._retryUpload=function(a){a.increaseRetryCount(),this._processUpload(a)};e._failure=function(a,b){if(a.isAborted())return;if(b.error===1004&&a.getRetryCount()<(this._retryLimit||0))return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(b))!==!1&&(this._preventDefaultErrorHandler||c("AsyncResponse").defaultErrorHandler(b));this._processQueue()};e._progress=function(a,b){if(a.isAborted())return;this.inform("progress",a.handleProgress(b))};e._complete=function(a){c("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};b.isSupported=function(){return d("BrowserSupport").hasFileAPI()};return b}(c("mixin")(c("ArbiterMixin")));var h=function(){function a(a,b,c){this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=a,this._file=b,this._data=c}var b=a.prototype;b.getName=function(){return this._name};b.getFile=function(){return this._file};b.setFile=function(a){this._file=a};b.getData=function(){return this._data};b.getAdditionalData=function(){return this._additionalData};b.isComplete=function(){return this._success!==null};b.isSuccess=function(){return this._success===!0};b.getResponse=function(){return this._response};b.getProgressEvent=function(){return this._progressEvent};b.setAsyncRequest=function(a){this._request=a;return this};b.increaseRetryCount=function(){this._numRetries++;return this};b.getRetryCount=function(){return this._numRetries};b.isWaiting=function(){return!this._request};b.isAborted=function(){return this._aborted};b.abort=function(){this._request=null,this._aborted=!0};b.handleSuccess=function(a){this._success=!0;this._response=a;this._progressEvent=null;return this};b.handleFailure=function(a){this._success=!1;this._response=a;this._progressEvent=null;return this};b.handleProgress=function(a){this._progressEvent=a;return this};return a}();g["default"]=a}),98);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c._files=null,c._uploads=[],c._fileLessUpload=null,b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.setFiles=function(a){this._files=c("AsyncUploadBase").parseFiles(a);return this};d.setAlwaysReturnResponse=function(a){this._shouldAlwaysReturnResponse=a};d.abort=function(){var a=this;this._uploads.forEach(function(b){return a._abort(b)})};d.send=function(){var a=this;if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var b in this._files)this._files[b].forEach(function(c){a._uploads.push(a._createFileUpload(b,c))});this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))};d._processQueue=function(){a.prototype._processQueue.call(this);if(!this._pending.length&&!this._waiting.length){var b=this._uploads;b=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:b}:{response:b[0].getResponse(),uploads:b}:b;this.inform("complete",b)}};b.isSupported=function(){return c("AsyncUploadBase").isSupported()};return b}(c("AsyncUploadBase"));g["default"]=a}),98);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","DOMQuery","DataStore","Event","FBLogger","Form","Parent","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f,g){function h(a){var b={};a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){b[a.name]=a.files});return b}function i(a){a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g._allowCrossOrigin=!1;g._allowCrossPageTransition=!1;g._uploadInParallel=!1;g._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==g._form)return;if(g.inform("submit")===!1){a.prevent();return}g.submit(a)};g._click=function(a){a=a.getTarget();while(c("isElementNode")(a)){if(a.type==="submit"){g._clickTarget=a;c("setTimeout")(g._unclick,0);break}a=a.parentNode}};g._unclick=function(){g._clickTarget=null};g.initial=function(a){return g.inform("initial",{upload:a})};if(b.getAttribute("rel")==="async")throw c("FBLogger")("FileForm","primer-only").mustfixThrow("FileForm cannot be used with Primer forms.");if((b.getAttribute("method")||"").toUpperCase()!=="POST")throw c("FBLogger")("FileForm","post-only").mustfixThrow("FileForm must be used with POST forms.");g._form=b;g._previousEncoding=g._form.enctype;g._form.enctype=g._form.encoding="multipart/form-data";g._files=null;g._customHeader={};e&&g.enableBehaviors(e);g._options=f||{};g.setAllowCrossOrigin(g._options.allowCrossOrigin);g.setAllowCrossPageTransition(g._options.allowCrossPageTransition);g.setUploadInParallel(g._options.uploadInParallel);g.setConcurrentLimit(g._options.concurrentLimit);g.setPreprocessHandler(g._options.preprocessHandler);g.setNetworkErrorRetryLimit(g._options.networkErrorRetryLimit);g._listeners=[c("Event").listen(document.documentElement,"submit",g._handleSubmit),c("Event").listen(g._form,"click",g._click)];d("DataStore").set(g._form,"FileForm",babelHelpers.assertThisInitialized(g));return g}var e=b.prototype;e.getRoot=function(){return this._form};e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};e.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setFiles=function(a){this._files=a;return this};e.submit=function(a){var b=this,e;if(this._uploadInParallel&&c("AsyncUploadRequest").isSupported()){e=new(c("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(d("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var f in this._customHeader)e.setCustomHttpHeader(f,this._customHeader[f]);this._concurrentLimit&&e.setLimit(this._concurrentLimit);this._files?e.setFiles(this._files):e.setFiles(h(this._form));var g=[e.subscribe("progress",function(a,c){b.progress(c,c.getProgressEvent())}),e.subscribe("initial",function(a,c){b.initial(c)}),e.subscribe("success",function(a,c){b.success(c,c.getResponse())}),e.subscribe("start",function(a,c){b.inform("start",{upload:c})}),e.subscribe("failure",function(a,c){b.failure(c,c.getResponse());return!1}),e.subscribe("complete",function(){while(g.length)g.pop().unsubscribe()})]}else(function(){var a,f=b._files;if(f){a=d("Form").createFormData(d("Form").serialize(b._form,b._clickTarget));var g=c("AsyncUploadRequest").parseFiles(f);f=function(b){var c=g[b];c.length===1?a.append(b,c[0]):(b+="[]",c.forEach(function(c){a.append(b,c)}));b};for(var h in g)f(h)}else a=d("Form").createFormData(b._form,b._clickTarget);e=new(c("AsyncRequest"))().setRawData(a).setHandler(function(a){return b.success(null,a)}).setErrorHandler(function(a){return b.failure(null,a)}).setUploadProgressHandler(function(a){return b.progress(null,a)}).setInitialHandler(c("shield")(b.initial,b,null));b.inform("start",{upload:null})})();e.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=e;a&&a.prevent()};e.success=function(a,b){b={response:b,upload:a};this.inform("success",b)!==!1&&c("Event").fire(this._form,"success",b);this._cleanup()};e.failure=function(a,b){a={response:b,upload:a};this.inform("failure",a)!==!1&&(c("Event").fire(this._form,"error",a)!==!1&&c("AsyncResponse").defaultErrorHandler(b));this._cleanup()};e.progress=function(a,b){this.inform("progress",{event:b,upload:a})};e.abort=function(){this._request&&(this._request.abort(),this._cleanup())};e.clear=function(){i(this._form)};e.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;d("DataStore").remove(this._form,"FileForm")};e._cleanup=function(){this._request=null};e._getStatusElement=function(){return d("Parent").byClass(this._form,"stat_elem")||this._form};b.getInstance=function(a){return d("DataStore").get(a,"FileForm")};return b}(c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});g["default"]=a}),98);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;function a(){return(g++).toString()}f.getNewID=a}),66);
__d("XAsyncRequest",["AsyncRequest"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.setAllowCrossPageTransition=function(a){b.$1.setAllowCrossPageTransition(a);return b};this.$1=new(c("AsyncRequest"))(a)}var b=a.prototype;b.setURI=function(a){this.$1.setURI(a);return this};b.setTimeoutHandler=function(a,b){this.$1.setTimeoutHandler(a,b);return this};b.setOption=function(a,b){this.$1.setOption(a,b);return this};b.setMethod=function(a){this.$1.setMethod(a);return this};b.setData=function(a){this.$1.setData(a);return this};b.setHandler=function(a){this.$1.setHandler(a);return this};b.setPayloadHandler=function(a){this.setHandler(function(b){return a(b.payload)});return this};b.setErrorHandler=function(a){this.$1.setErrorHandler(a);return this};b.send=function(){this.$1.send();return this};b.abort=function(){this.$1.abort()};b.setReadOnly=function(a){this.$1.setReadOnly(a);return this};b.setAllowCrossOrigin=function(a){this.$1.setAllowCrossOrigin(a);return this};b.setAllowCredentials=function(a){this.$1.setAllowCredentials(a);return this};return a}();g["default"]=a}),98);
__d("curry",["bind"],(function(a,b,c,d,e,f,g){a=c("bind")(null,c("bind"),null);b=a;g["default"]=b}),98);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f,g){function a(a){var b=h(a).length;a=i(a).length;return b>a}function b(a){return h(a).length>0}function d(a){return j(a).length>0}function h(a){return k(a,c("VideoUploadConfig").videoExtensions)}function i(a){var b={gif:!0};return k(a,b)}function j(a){return k(a,c("ComposerXNativeAudioUploadsConfig").audioExtensions)}function k(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():"";return b[a]})}g.hasEditableVideos=a;g.hasVideos=b;g.hasAudioFiles=d;g.filterVideos=h;g.filterNonEditableVideos=i;g.filterAudioFiles=j;g.filterFileOfSupportedType=k}),98);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){var b=function(b){return a.charCodeAt(b)&255};this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=function(b,c){return a.substr(b,c)};this.getLength=function(){return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();f.Decoder=d}),66);
__d("ImageMetadata",["ImageExif","Promise","StringEncoding","asyncToGeneratorRuntime","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";e=function(){function e(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var f=e.prototype;f.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=h[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};f.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,i)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+i.length,b-2-i.length)):this.$11(a+4,j)?(this.$1=a,this.$2=b,this.$13(a+4+j.length,b-2-j.length)):this.$11(a+4,k)&&this.$14(a+4+k.length,b-2-k.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};f.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};f.$12=function(a,b){a=emptyFunction;try{emptyFunction=c("emptyFunction");var e=d("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}b={};for(a in e){var f=e[a];typeof f==="string"&&(f=f.trim());b[a.trim()]=f}this.$3=b};f.$13=function(a,b){var c=new(d("StringEncoding").Decoder)(null,"truncate");try{c=c.decode(this.$6.slice(a,a+b));this.$4=c}catch(a){return}};f.$14=function(a){};f.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};f.$9=function(a){for(a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};f.hasAPP1=function(){return Boolean(this.$1)};f.hasExif=function(){return Boolean(this.$3)};f.hasXMP=function(){return Boolean(this.$4)};f.hasSize=function(){return Boolean(this.$5)};f.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};f.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};f.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};f.getXMPString=function(){return this.$4};f.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};f.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};e.genMetadataFromBlob=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return new e(yield e.$16(a))});function c(b){return a.apply(this,arguments)}return c}();e.$16=function(c){return new(b("Promise"))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return e}();var h=[];h[216]={name:"SOI",length:0};h[192]={name:"SOF0"};h[193]={name:"SOF1"};h[194]={name:"SOF2"};h[195]={name:"SOF3"};h[197]={name:"SOF5"};h[198]={name:"SOF6"};h[199]={name:"SOF7"};h[200]={name:"JPG"};h[201]={name:"SOF9"};h[202]={name:"SOF10"};h[203]={name:"SOF11"};h[205]={name:"SOF13"};h[206]={name:"SOF14"};h[207]={name:"SOF15"};h[196]={name:"DHT"};h[219]={name:"DQT"};h[221]={name:"DRI",length:2};h[218]={name:"SOS"};h[208]={name:"RST0",length:0};h[209]={name:"RST1",length:0};h[210]={name:"RST2",length:0};h[211]={name:"RST3",length:0};h[212]={name:"RST4",length:0};h[213]={name:"RST5",length:0};h[214]={name:"RST6",length:0};h[215]={name:"RST7",length:0};h[224]={name:"APP0"};h[225]={name:"APP1"};h[226]={name:"APP2"};h[227]={name:"APP3"};h[228]={name:"APP4"};h[229]={name:"APP5"};h[230]={name:"APP6"};h[231]={name:"APP7"};h[232]={name:"APP8"};h[233]={name:"APP9"};h[234]={name:"APP10"};h[235]={name:"APP11"};h[236]={name:"APP12"};h[237]={name:"APP13"};h[238]={name:"APP14"};h[239]={name:"APP15"};h[254]={name:"COM"};h[217]={name:"EOI",length:0};var i="Exif\0\0",j="http://ns.adobe.com/xap/1.0/\0",k="http://ns.adobe.com/xmp/extension/\0";g["default"]=e}),98);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["ImageMetadata","Promise","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=2048;d=function(){function d(){}d.genArrayBufferFromBlob=function(c){return new(b("Promise"))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})};d.shouldCheckInServer=function(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<h||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0};d.genPhotosphereMetadata=function(a){var d=this;return new(b("Promise"))(function(b,e){c("promiseDone")(d.genArrayBufferFromBlob(a),function(a){try{var f=new(c("ImageMetadata"))(a);d.shouldCheckInServer(f)?c("promiseDone")(d.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}),function(a){a=a.payload;b({photoSphereMetadata:a,imageMetadata:f})},e):b({})}catch(a){a.__manual=!0,e(a)}},e)})};d.genPhotosphereMetadataFromServer=function(a,d,e){var f=this;return new(b("Promise"))(function(b,g){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:f.getExifString(e),height:a.y,width:a.x,xmp:d}).setHandler(b).setErrorHandler(g).send()})};d.getExifString=function(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})};d.getMayContainSphericalMetadata=function(a){return a!==""&&a.indexOf("GPano:")>-1};return d}();g["default"]=d}),98);
__d("SphericalImage",["SphericalImageUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="ProjectionType";a=function(){function a(a){this.props=a}a.createFromBlob=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield c("SphericalImageUtils").genPhotosphereMetadata(a));return new this(a)});function d(b){return a.apply(this,arguments)}return d}();var d=a.prototype;d.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};d.getImageMetadata=function(){return this.props.imageMetadata};d.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};d.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};d.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};d.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h]&&(a=this.props.photoSphereMetadata[h]);return a};return a}();g["default"]=a}),98);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0}function b(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}f.shouldResize360=a;f.shouldRecompress360=b}),66);
__d("loadImageFromBlob",["Promise"],(function(a,b,c,d,e,f){function a(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){URL.revokeObjectURL(d.src),b(d)};d.onerror=function(a){URL.revokeObjectURL(d.src),c(a)};d.src=URL.createObjectURL(a)})}f["default"]=a}),66);
__d("XComposerPhotoUploader",["AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","Promise","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","asyncToGeneratorRuntime","curry","emptyFunction","loadImageFromBlob","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=a.URL||a.webkitURL||{};e=function(){function a(a){this.$20={},this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||c("emptyFunction"),this.$7=a.onUploadsEnqueued||c("emptyFunction"),this.$8=a.onResizeStart||c("emptyFunction"),this.$11=a.onResizeProgress||c("emptyFunction"),this.$9=a.onResizeSuccess||c("emptyFunction"),this.$10=a.onResizeFailure||c("emptyFunction"),this.$12=a.onSphericalCheckFailure||c("emptyFunction"),this.$13=a.onSphericalCheckSuccess||c("emptyFunction"),this.$14=a.onUploadIsSpherical||c("emptyFunction"),this.$15=a.onUploadSent||c("emptyFunction"),this.$16=a.onUploadStart||c("emptyFunction"),this.$17=a.onUploadProgress||c("emptyFunction"),this.$18=a.onUploadSuccess||c("emptyFunction"),this.$19=a.onUploadFailure||c("emptyFunction")}var e=a.prototype;e.setUploadEndpoint=function(a){this.$1=a};e.setOption=function(a,b){this.$20[a]=b;return this};e.getUploadData=function(){return this.$2};e.setUploadData=function(a){this.$2=a};e.upload=function(a,b){var e=this;b||0;b=babelHelpers["extends"]({},this.$2);var f=null;if(!this.$21(a)){var g=d("PhotosUploadID").getNewID();a.uploadID=g;b.upload_id=g;this.$6({uploadID:g,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:h.createObjectURL?h.createObjectURL(a):null})}else{f=Array.from(a.files);f=f.filter(function(a){return!d("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(f.length===0)return;f.forEach(function(a){a.uploadID||(a.uploadID=d("PhotosUploadID").getNewID()),e.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:h.createObjectURL?h.createObjectURL(a):null})})}this.$7();g=new(c("FileInputUploader"))(a).setURI(this.$1).setData(b).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);f&&f.length>0&&(g.setFiles({farr:f}),this.$5?g.setPreprocessHandler(this.$22.bind(this)):g.setPreprocessHandler(this.$23.bind(this)),this.$4&&g.setConcurrentLimit(this.$4));g.subscribe("progress",function(b,c){return e.$17(e.$24(c,a),c)});g.subscribe("failure",function(b,c){return e.$19(e.$24(c,a),c,f)});g.subscribe("start",function(b,c){return e.$16(e.$24(c,a),c)});g.subscribe("success",function(b,c){return e.$18(e.$24(c,a),c)});try{g.send(),this.$15(a)}catch(a){throw a}};e.uploadFiles=function(a){var b=this;a=Array.from(a);var c=[];a.forEach(function(a){var e=d("PhotosUploadID").getNewID();a.uploadID||(a.uploadID=e);b.$6({fileName:a.name,fileURL:h.createObjectURL?h.createObjectURL(a):null,isSpherical:!1,uploadID:e});c.push(e)});a=this.getAsyncFileUploadRequest(a,c);a.send()};e.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$25(a,c);c.subscribe("start",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);return d.$19(c,{upload:e,response:e.getResponse()},a)});return c};e.getAsyncUploadRequest=function(a,b){var c=this;b=this.$25(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};e.$25=function(a,b){a=new(c("AsyncUploadRequest"))().setData(babelHelpers["extends"]({},b&&b.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);(b==null?void 0:b.preventDefaultErrorHandler)&&a.setPreventDefaultErrorHandler(!0);this.$4&&a.setLimit(this.$4);this.$5?a.setPreprocessHandler(this.$22.bind(this)):a.setPreprocessHandler(this.$23.bind(this));for(b in this.$20)a.setOption(b,this.$20[b]);return a};e.$26=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};e.$24=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};e.$23=function(a,d){var e=this;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield e.$27(a,d)})())};e.$27=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.getFile();c=(yield this.$28(c));var d=a.getFile().uploadID;c&&c.isSpherical()?this.$14(c.isSpherical(),c,d):this.$14(!1,null,"");b(a)});function c(b,c){return a.apply(this,arguments)}return c}();e.$22=function(a,d){var e=this;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield e.$29(a,d)})())};e.$28=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("performanceNow")();try{var d=(yield c("SphericalImage").createFromBlob(a));this.$13(a,c("performanceNow")()-b,d);return d}catch(d){this.$12(a,c("performanceNow")()-b);return null}});function d(b){return a.apply(this,arguments)}return d}();e.$30=function(a){return this.$31(this.$5.resizeBlob.bind(this.$5),a)};e.$32=function(a,b){b===void 0&&(b=c("SphericalPhotoTypedConfig").upload_size_limit);return this.$31(this.$5.resize360Blob.bind(this.$5),a,b)};e.$33=function(a){return c("loadImageFromBlob")(a).then(function(a){return{width:a.width,height:a.height}})};e.$31=function(a,d,e){var f=this,g=c("curry")(this.$11,d.uploadID),h=c("curry")(this.$8,d),i=function(){return f.$33(d).then(h)};return new(b("Promise"))(function(b,c){i(),a(d,function(a,d,e,f,g,h,i){a?c(a):e?b({originalWidth:f,originalHeight:g}):b({blob:d,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},g,e)})};e.$29=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.getFile(),f=this.$5.isEligible(e==null?void 0:e.size,e==null?void 0:e.type);if(!e||!d("PhotosMimeType").isJpeg(e.type)||!f){this.$14(!1,null,"");e&&c("promiseDone")(this.$33(e).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",e.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},c("emptyFunction")));b(a);return}f=c("performanceNow")();var g,h;try{var i=null;i=(yield this.$28(e));if(i&&i.isSpherical()){this.$14(!0,i,e.uploadID);var j=i.getSize(),k=c("SphericalPhotoTypedConfig").upload_size_limit,l=i.getProjectionType(),m=!1;m=d("SphericalPhotoUploadHelper").shouldRecompress360(l,i.getBufferLength(),c("SphericalPhotoTypedConfig").upload_bytes_limit);i=d("SphericalPhotoUploadHelper").shouldResize360(l,j,k);j&&(i||m)&&(!i?g=(yield this.$32(e,Math.max(j.x,j.y)-1)):g=(yield this.$32(e)))}else this.$14(!1,null,""),g=(yield this.$30(e));g&&(g.blob!=null&&(h=g.blob,h.uploadID=e.uploadID,h.name=e.name,a.setFile(h)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",e.size).set("original_width",g.originalWidth).set("original_height",g.originalHeight).set("upload_width",g.outputWidth).set("upload_height",g.outputHeight));l=h===null;a.getFile().filename=e.name;this.$9(e,h||e,l,c("performanceNow")()-f,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"))}catch(a){k=c("performanceNow")()-f;this.$10(e,h||e,a,k)}b(a)});function e(b,c){return a.apply(this,arguments)}return e}();e.$21=function(a){return!!a.files&&c("AsyncUploadRequest").isSupported()};return a}();g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5984987311564189"}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters.facebook",["FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"),metadata:{},name:"FBPayHubTransactionDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters",["cr:1932967"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1932967")}),null);
__d("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6098288313524910"}),null);
__d("MWPublicChatsNUXQuickPromotionQuery$Parameters",["MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWPublicChatsNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4823686477743600"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometDynamicEntryPointDialog",["CometDialogContext","CometDialogLoadingState.react","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;function m(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,i=a.preloadedEntryPoint,j=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var m=a[0],n=a[1],o=a[2],p=(e=m)!=null?e:i,q=l(null);k(function(){q.current!=null&&(c("clearTimeout")(q.current),q.current=null);p.isDisposed&&n(j);return function(){q.current=c("setTimeout")(function(){m?o():i.dispose(),q.current=null},6e4)}},[o,p.isDisposed,i,j,n,m]);b=babelHelpers["extends"]({},g,{onClose:f});return h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:i,props:b})}m.displayName=m.name+" [from "+f.id+"]";var n=function(a){return h.jsx(c("CometDialogLoadingState.react"),{onClose:a})};function a(a,b,e){var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=j(c("CometDialogContext"));return i(function(h,i,j,k){var l=d("CometRelay").loadEntryPoint(f,a,h),o=m,p=function(){j&&j.apply(void 0,arguments);var a=l==null?void 0:l.dispose;a&&a()};g(c("CometSuspendedDialogImpl.react"),{dialog:o,dialogProps:{entryPoint:a,environmentProvider:f,otherProps:i,preloadedEntryPoint:l,preloadParams:h},fallback:(o=e)!=null?o:n},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(i=k)!=null?i:c("tracePolicyFromResource")("comet.dialog",a.root)},p)},[f,a,g,e,b])}g["default"]=a}),98);
__d("FBPayHubTransactionDetailDialog.entrypoint",["FBPayHubTransactionDetailDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.transactionID;return{queries:{fBPayHubTransactionDetailDialogQueryReference:{parameters:b("FBPayHubTransactionDetailDialogQuery$Parameters"),variables:{transaction_id:a}}}}},root:c("JSResourceForInteraction")("FBPayHubTransactionDetailDialog.react").__setRef("FBPayHubTransactionDetailDialog.entrypoint")};g["default"]=a}),98);
__d("MDSColumn.react",["BaseView.react","MDSColumnContext","MDSColumnItem.react","UserAgent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k={expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},l={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},m={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},n={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}},o=c("UserAgent").isBrowser("IE >= 11");function a(a,b){var d=a.align,e=d===void 0?null:d;d=a.children;var f=a.expanding;f=f===void 0?!1:f;var g=a.hasDividers,p=g===void 0?!1:g;g=a.paddingHorizontal;var q=g===void 0?null:g;g=a.paddingTop;var r=a.paddingVertical;r=r===void 0?0:r;var s=a.spacing,t=s===void 0?null:s;s=a.verticalAlign;s=s===void 0?"top":s;var u=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","hasDividers","paddingHorizontal","paddingTop","paddingVertical","spacing","verticalAlign","xstyle"]);var v=i(c("MDSColumnContext")),w=j(function(){return{align:e,hasDividers:p,paddingHorizontal:q,spacing:t}},[e,p,q,t]);a=h.jsx(c("BaseView.react"),babelHelpers["extends"]({},a,{ref:b,xstyle:[k.root,f===!0&&[k.expanding,o&&k.expandingIE11],m[r],g!=null&&l[g],u],children:h.jsx(c("BaseView.react"),{xstyle:[k.inner,s!=="top"&&n[s]],children:h.jsx(c("MDSColumnContext").Provider,{value:w,children:d})})}));if(v!=null){return h.jsx(c("MDSColumnItem.react"),{expanding:(b=f)!=null?b:void 0,children:a})}return a}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);d=e;g["default"]=d}),98);
__d("MWPublicChatsNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWPublicChatsNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryRef:{parameters:c("MWPublicChatsNUXQuickPromotionQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWPublicChatsNUXQuickPromotion.react").__setRef("MWPublicChatsNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("LSContactGenderToGenderConst",["GenderConst","LSContactGender","LSIntEnum","bs_caml"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSContactGender").FEMALE)))return c("GenderConst").FEMALE_SINGULAR;else if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSContactGender").MALE)))return c("GenderConst").MALE_SINGULAR;else if(c("bs_caml").i64_eq(a,d("LSIntEnum").ofNumber(c("LSContactGender").NEUTER)))return c("GenderConst").NEUTER_SINGULAR;else return c("GenderConst").NOT_A_PERSON}g.make=a}),98);
__d("MWLSGroupMembershipMemberCell.react",["fbt","ix","CometLazyPopoverTrigger.react","CometMiddotSeparator.react","CometTooltip.react","GenderConst","I64","IntlVariations","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactGenderToGenderConst","LSGroupParticipantJoinState","LSIntEnum","LSMediaUrl.bs","LSWhatsAppConnectStatus","MAWThreadCutover.bs","MDSListCell.react","MDSTextPairing.react","MWCMThreadTypes.react","MWGroupMembershipListItem.bs","MWIcon.react","MWInboxRouteBuilder.bs","MWLSContactTypeExactUtils.bs","MWProfilePhoto.react","MWText.react","fbicon","getFBTSafeGenderFromGenderConst","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useMemo,l=h._("__JHASH__3WTOYPxVm2l__JHASH__"),m=h._("__JHASH__J1b76x4xKfs__JHASH__");function n(a,b){return k(function(){if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult&&a.serverSearchResult.contextLine!=="")return[j.jsx(j.Fragment,{children:a.serverSearchResult.contextLine})];var e=b.filter(function(a){return a!=null});return e.length>0?j.jsx(c("CometMiddotSeparator.react"),{children:e}):null},[a,b])}function o(a){if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact){var b=a.contact,e=a.participant,f=b.blockedByViewerStatus,g=b.gender,h=b.name,i=b.secondaryName,j=b.waConnectStatus,k=e.groupParticipantJoinState,l=e.isSuperAdmin;e=e.subscribeSource;return{gender:d("LSContactGenderToGenderConst").make(g),isBlocked:!d("I64").equal(f,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isInvitedByViewer:d("I64").equal(k,d("LSIntEnum").ofNumber(c("LSGroupParticipantJoinState").INVITED)),isSuperAdmin:l===!0,name:h,nonWaAddressable:d("I64").equal(j,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE)),profilePictureUrl:d("LSMediaUrl.bs").Contact.profilePictureUrl(b),secondaryName:i!=null&&d("MWLSContactTypeExactUtils.bs").isIgContact(b)?i:null,subscribeSource:(g=e)!=null?g:null}}if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember){f=a.communityMember;k=f.isBlocked;l=f.name;h=f.nickname;j=f.profilePictureUrl;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:(b=k)!=null?b:!1,isInvitedByViewer:!1,isSuperAdmin:!1,name:(i=h)!=null?i:l,nonWaAddressable:!1,profilePictureUrl:(e=j)!=null?e:"<PLACEHOLDER>",secondaryName:null,subscribeSource:null}}g=a.serverSearchResult;f=g.displayName;k=g.profilePicUrl;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:!d("I64").equal(g.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isInvitedByViewer:!1,isSuperAdmin:!1,name:f,nonWaAddressable:!1,profilePictureUrl:(b=k)!=null?b:"<PLACEHOLDER>",secondaryName:null,subscribeSource:null}}function p(a,b,c,e,f){var g,i;g=(g=d("MWGroupMembershipListItem.bs").isAdmin(a))!=null?g:!1;i=(i=d("MWGroupMembershipListItem.bs").isModerator(a))!=null?i:!1;a=o(a);var j=a.isInvitedByViewer,k=a.isSuperAdmin,n=a.nonWaAddressable;a=a.subscribeSource;if(b&&n&&!j)return h._("__JHASH__YJ7dDY2F-1___JHASH__").toString();if(b&&!n&&j)return h._("__JHASH__XW-fqo6HqSP__JHASH__").toString();if(a!=null&&k)return c?l:a;if(g&&e)return l;return i&&f?m:null}function a(a){var b=a.folder,e=a.isMAWParticipantSuperAdmin,f=a.isSecure,g=a.membershipListItem,k=a.onClose,l=a.showAdminIndicator,m=a.showInvitedByViewerOnly;m=m===void 0?!1:m;var q=a.showModeratorIndicator;a=a.thread;var r=d("I64").to_string(d("MWGroupMembershipListItem.bs").contactId(g)),s=d("MAWThreadCutover.bs").useGetCutoverSecureThreadKey(r),t=s!=null?d("MWInboxRouteBuilder.bs").buildE2EEThreadURL({thread_key:s}):d("MWInboxRouteBuilder.bs").buildURL({thread_key:r});s=o(g);var u=s.gender,v=s.isBlocked,w=s.isInvitedByViewer,x=s.isSuperAdmin,y=s.name,z=s.profilePictureUrl,A=s.secondaryName;s=s.subscribeSource;var B=d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType),C=n(g,[A,p(g,f,B,l,q),v?h._("__JHASH__iywW1hlnypb__JHASH__"):null,s!=null&&!x&&!B?s:null]),D=f&&w&&!m;return j.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{folder:b,isMAWParticipantSuperAdmin:e,membershipListItem:g,onClose:k,onCloseDialog:k,thread:a},popoverResource:c("JSResourceForInteraction")("MWLSGroupMembershipMenu.react").__setRef("MWLSGroupMembershipMemberCell.react"),popoverType:"menu",preloadTrigger:"button",children:function(a,b,e,f,g,l,m){return j.jsx(c("MDSListCell.react"),{addOnEnd:j.jsx(c("MWIcon.react"),{"aria-label":h._("__JHASH__-R08aUV4n3s__JHASH__",[h._name("name",y,c("getFBTSafeGenderFromGenderConst")(u))]),color:"secondary",icon:d("fbicon")._(i("484388"),24),onHoverIn:f,onHoverOut:function(){return g()},onPress:function(){return b()},onPressIn:l,ref:a,testid:void 0}),addOnEndVerticalAlign:"center",addOnStart:j.jsx(c("CometTooltip.react"),{position:"above",tooltip:j.jsx(c("MWText.react"),{type:"body3",children:h._("__JHASH__gvt-u-jxLjT__JHASH__",[h._name("name",y,c("IntlVariations").GENDER_UNKNOWN)])}),children:j.jsx(c("MWProfilePhoto.react"),{alt:y,"aria-label":h._("__JHASH__5FWHZ8StuMQ__JHASH__",[h._name("name",y,c("IntlVariations").GENDER_UNKNOWN)]),linkProps:{onNavigate:k,url:t},shape:"circle",size:36,source:{uri:z}})}),content:C!=null?j.jsx(c("MDSTextPairing.react"),{body:j.jsx(c("MWText.react"),{color:D?"disabled":"secondary",type:"body4",children:C}),headline:j.jsx(c("MWText.react"),{color:D?"disabled":"primary",type:"headline4",children:y}),level:4}):j.jsx(c("MWText.react"),{align:"start",numberOfLines:1,type:"headline4",children:y}),size:"medium",testid:void 0,verticalAlign:C==null?"center":"top"},r)}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSGroupMembershipMemberList.bs",["LSGroupParticipantJoinState","LSIntEnum","LSMessagingThreadTypeUtil","MAWThreadId.bs","MWGroupMembershipListItem.bs","MWLSGroupMembershipMemberCell.react","Promise","bs_int64","cr:1344","emptyFunction","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.folder,f=a.participantsAndContacts,g=a.showAdmodIndicator,i=a.showAdmodsOnly,j=a.showInvitedByViewerOnly,k=a.thread,l=a.onClose,m=l===void 0?c("emptyFunction"):l;l=a.doSortParticipants;a=l===void 0?!0:l;var n=c("useReStore")();l=h.useState(c("emptyFunction"));var o=l[0],p=l[1];l=i?f.filter(function(a){var b;b=(b=d("MWGroupMembershipListItem.bs").isAdmin(a))!=null?b:!1;a=(a=d("MWGroupMembershipListItem.bs").isModerator(a))!=null?a:!1;return b||a}):j?f.filter(function(a){a=a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact?a.participant.groupParticipantJoinState:d("LSIntEnum").ofNumber(c("LSGroupParticipantJoinState").MEMBER);return c("bs_int64").equal(a,d("LSIntEnum").ofNumber(c("LSGroupParticipantJoinState").INVITED))}):f;i=a?l.slice(0).sort(function(a,b){if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact&&b.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact)return a.contact.name.localeCompare(b.contact.name);if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember&&b.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember)return a.communityMember.name.localeCompare(b.communityMember.name);return a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult&&b.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult?a.serverSearchResult.displayName.localeCompare(b.serverSearchResult.displayName):0}):l;var q=d("LSMessagingThreadTypeUtil").isSecure(k.threadType);h.useEffect(function(){if(b("cr:1344")!=null&&q){var a=b("cr:1344").sendAndReceive;c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(n,k.threadKey).then(function(c){if(c.TAG===0)return a("backend","getGroupSuperAdmin",{threadId:c._0}).then(function(a){return p(function(){return a})});else return b("Promise").resolve()}))}},[n,JSON.stringify(k.threadKey)]);return i.map(function(a){var b=d("MWGroupMembershipListItem.bs").contactId(a);return h.jsx(c("MWLSGroupMembershipMemberCell.react"),{folder:e,isMAWParticipantSuperAdmin:q&&o!==void 0?o===c("bs_int64").to_string(b):!1,isSecure:q,membershipListItem:a,onClose:m,showAdminIndicator:g,showInvitedByViewerOnly:j,showModeratorIndicator:g,thread:k},c("bs_int64").to_string(b))})}g["default"]=a}),98);
__d("MWInboxHeaderPublicChatSubText.react",["fbt","CometMiddot.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.count;return i.jsxs(i.Fragment,{children:[c("gkx")("3187")?h._("__JHASH__e_CSXZOMSHT__JHASH__"):h._("__JHASH__u3LpXcI2cyj__JHASH__"),i.jsx(c("CometMiddot.react"),{}),h._("__JHASH__auWIPhKvwTb__JHASH__",[h._plural(a,"number")])]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMessengerWebThreadImpressionLogging",["CometDebounce","Int64Hooks","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.bs","logMessengerWebFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function a(a){var b=a.threadKey,c=a.threadType,e=d("MWV2IsTabFocusedContext.bs").useContext();a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var f="inbox";switch(a){case"ChatTab":f="popup_chat_box";break;case"RoomsSideChat":f="rooms_lobby";break}d("Int64Hooks").useEffectInt64(function(){e&&h({threadKey:b,threadType:c},"thread_impression",f)},[b,f,c,e])}g["default"]=a}),98);
__d("useMessengerWebThreadSeenLogging",["CometDebounce","Int64Hooks","logMessengerWebFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function a(a){var b=a.entryPoint,c=a.threadKey,e=a.threadType;return d("Int64Hooks").useCallbackInt64(function(){b!=null&&h({threadKey:c,threadType:e},"seen_receipt",b)},[b,c,e])}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiverBanner.bs",["fbt","ix","CometLazyDialogTrigger.react","CometSkittleIcon.react","JSResource","MDSRow.react","MDSRowItem.react","MWText.react","TetraButton.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},card:{backgroundColor:"xcrg951",boxShadow:"x7m3og9",position:"x10l6tqk",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(a){var b=a.onDismiss,e=a.onView;a=h._("__JHASH__6a2Fgvho2wx__JHASH__");var f=h._("__JHASH__ZJi8hPzvWwM__JHASH__");return j.jsxs("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",children:[j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[j.jsx(c("MDSRowItem.react"),{xstyle:[k.imageRow],children:j.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:d("fbicon")._(i("685851"),16),size:36})}),j.jsxs(c("MDSRowItem.react"),{expanding:!0,children:[j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWText.react"),{color:"primary",type:"headline4",children:a})})}),j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWText.react"),{color:"secondary",type:"body4",children:f})})})]})]}),j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[j.jsx(c("MDSRowItem.react"),{xstyle:[k.button],children:j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(){}},dialogResource:c("JSResource")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.bs"),children:function(a){return j.jsx(c("TetraButton.react"),{label:h._("__JHASH__LPDl6ep1oBy__JHASH__"),onPress:function(){c("bs_curry")._1(a);return c("bs_curry")._1(e)},type:"secondary"})}})}),j.jsx(c("MDSRowItem.react"),{xstyle:[k.button],children:j.jsx(c("TetraButton.react"),{label:h._("__JHASH__IRN53cEfYnc__JHASH__"),onPress:b,type:"secondary"})})]})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("RelayHooks").useRelayEnvironment(),e=i(function(e){c("promiseDone")(d("CometRelay").fetchQuery(b,j,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;e(a)},null)},[b,a]),f=i(function(){d("CometDismissFBNuxMutation").commit(b,a)},[b,a]),g=i(function(){d("CometLogImpressionFBNuxMutation").commit(b,a)},[b,a]);return[e,f,g]}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.bs",["MWChatUnsendNUXReceiverBanner.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_curry","react","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return Date.now()-c("bs_caml_int64").to_float(c("bs_belt_Option").getWithDefault(a.unsentTimestampMs,c("bs_caml_int64").zero))<=1e4}function a(a){var b=d("MWPActor.bs").useActor(),e=d("MWThreadKey.bs").useIdMemoizedExn(),f=c("useReStore")();a=h.useState(function(){return!1});var g=a[0],j=a[1],k=h.useRef(!1),l=h.useRef(!1),m=h.useRef();a=c("useMessengerUnsendNUX")(8568);var n=a[0],o=a[1],p=a[2],q=h.useCallback(function(){var a=m.current;if(a!==void 0){c("bs_curry")._1(a);m.current=void 0;return}},[]);a=h.useCallback(function(){l.current=!0;c("bs_curry")._1(o);c("bs_curry")._1(q);return c("bs_curry")._1(j,function(){return!1})},[]);var r=h.useCallback(function(a){var b=!g&&!k.current;if(b&&i(a)){k.current=!0;return c("bs_curry")._1(n,function(a){k.current=!1;if(a)return c("bs_curry")._1(j,function(){return!0});else{c("bs_curry")._1(q);l.current=!0;return}})}},[b,g]);h.useEffect(function(){if(l.current)return;else{m.current=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("messages")),{hd:e,tl:0}),function(a){if(a.isUnsent)return c("bs_caml").i64_neq(a.senderId,b);else return!1}),function(a,b){switch(b.TAG){case 0:case 1:return c("bs_curry")._1(r,b._0);case 2:return}});return function(){c("bs_curry")._1(q);if(g&&!l.current)return c("bs_curry")._1(p)}}},[g,r,e,q]);if(g)return h.jsx(d("MWChatUnsendNUXReceiverBanner.bs").make,{onDismiss:a,onView:a});else return null}b=8568;e=1e4;f=a;a=b;b=e;e=i;f=f;g.cNUX_ID=a;g.cTEN_SECONDS=b;g.isMessageUnsentInLastTenSeconds=e;g.make=f}),98);
__d("MWChatUnsendNUXSender.bs",["JSResource","MWChatUnsendNUXReceiver.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","react","useCometLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("MWPActor.bs").useActor(),e=d("MWThreadKey.bs").useIdMemoizedExn(),f=c("useReStore")(),g=h.useRef(!1),i=h.useRef(!1),j=h.useRef(!1),k=h.useRef();a=c("useMessengerUnsendNUX")(8598);var l=a[0],m=a[1],n=h.useCallback(function(){var a=k.current;if(a!==void 0){c("bs_curry")._1(a);k.current=void 0;return}},[]),o=h.useCallback(function(){if(!j.current){j.current=!0;c("bs_curry")._1(n);return c("bs_curry")._1(m)}},[]);a=c("useCometLazyDialog")(c("JSResource")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.bs"));var p=a[0],q=h.useCallback(function(a){var b=!g.current&&!i.current;if(b&&d("MWChatUnsendNUXReceiver.bs").isMessageUnsentInLastTenSeconds(a)){g.current=!0;return c("bs_curry")._1(l,function(a){g.current=!1,a?(p({onView:o},function(){}),i.current=!0):(c("bs_curry")._1(n),j.current=!0)})}},[b,n]);h.useEffect(function(){k.current=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("messages")),{hd:e,tl:0}),function(a){if(a.isUnsent)return c("bs_caml").i64_eq(a.senderId,b);else return!1}),function(a,b){switch(b.TAG){case 0:case 1:return c("bs_curry")._1(q,b._0);case 2:return}});return n},[e,q,n]);return null}b=8598;e=a;g.cNUX_ID=b;g.make=e}),98);
__d("MWCommandsComposerPluginCommandList",["fbt","ix","FBLogger","fbicon"],(function(a,b,c,d,e,f,g,h,i){"use strict";b=h._("__JHASH__fM-I8ly761K__JHASH__");e=h._("__JHASH__bcTzx6eBHE9__JHASH__");f=[{decorType:"regular",handle:b.toString(),key:"silent",label:b.toString(),rawData:{icon:d("fbicon")._(i("549627"),16),subtitle:e.toString()},type:"entry"}];var j=(h={},h[b.toString()]="s",h);function a(a){var b=j[a];if(b==null){c("FBLogger")("messenger_web_product").mustfix("Unregisted messenger composer command "+a+" used. Please add the command to the mapping in MWCommandsComposerPluginCommandList");return"n"}return b}g.commands=f;g.commandMapping=j;g.commandToRangeType=a}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical","MWCommandsComposerPluginCommandList"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=a.handle;c=b.call(this,"/"+a,c)||this;c.__handle=a;return c}a.getType=function(){return"command"};a.clone=function(b){return new a({handle:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return i({handle:a.handle})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{handle:this.__handle,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{handle:this.__handle}};c.getRangeType=function(){return d("MWCommandsComposerPluginCommandList").commandToRangeType(this.__handle)};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof h}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i;g.isMessengerCommandNode=a}),98);
__d("messengerCommandsLexicalCreateNodeStrategy",["MWCommandsComposerPluginTextNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({handle:c("cometMentionsDataEntryText")(a)})});b=a;g["default"]=b}),98);
__d("MWCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposerMentionsViewItem.react","MWCommandsComposerPluginCommandList","Promise","createCometMentionMatchStrategy","messengerCommandsLexicalCreateNodeStrategy","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={view:{minWidth:"x1jzhcrs",$$css:!0}},k=function(){function a(){}var c=a.prototype;c.bootstrap=function(){return};c.fetchCache=function(a){return{entries:a.query.length===0?d("MWCommandsComposerPluginCommandList").commands:d("MWCommandsComposerPluginCommandList").commands.filter(function(b){return(b=b.handle)==null?void 0:b.startsWith(a.query)}),params:a}};c.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();function a(a){a=a.editor;var b=c("useCometMentionsDataSourceResolverConfig")(i(function(){return[{dataSource:new k(),matchStrategy:c("createCometMentionMatchStrategy")({minMatchLength:0,name:"MessengerCommandsMatchStrategy",triggers:"/"})}]},[]),!0),d=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:j.view});return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerCommandsLexicalCreateNodeStrategy"),dataSourceResolverConfig:b,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPublicChatMemberRequestsBanner.react",["fbt","ix","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","CometSkittleIcon.react","FBLogger","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset.bs","LSVerifyContactRowExists","MWInboxInfoPanelContext.bs","Promise","ReQL","ReQLSuspense","TetraButtonGroup.react","cr:4923","fbicon","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useContext,l=e.useEffect,m=e.useState;function n(a){if(a.length===0){c("FBLogger")("messenger_comet").mustfix("No member requests?");return void 0}else if(a.length===1){var b;return h._("__JHASH__bWQyKZ80V0d__JHASH__",[h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}else{b=a.length-1;return h._("__JHASH__ZU2Oj6CpDJW__JHASH__",[h._plural(b,"number"),h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}}function o(a){var e=a.memberRequests,f=a.setWasClosed;a=k(d("MWInboxInfoPanelContext.bs").context);var g=a.isExpanded,l=a.isOnMemberRequestsPageRef,m=a.pushMemberRequestsPage,o=a.setIsExpanded,p=a.setShouldNavToMemberRequests;return j.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",children:j.jsx(c("CometContextualMessage.react"),{addOnPrimary:j.jsx(c("TetraButtonGroup.react"),{primary:{label:h._("__JHASH__N4aWocdoeuZ__JHASH__",[h._plural(e.length)]),onPress:function(){l.current!==!0&&(g===!0?m():(p(!0),o(!0))),f(!0)},padding:"wide",type:"secondary"}}),body:n(e),headline:h._("__JHASH__wwx2l6C4JXf__JHASH__",[h._plural(e.length,"number")]),icon:j.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:b("cr:4923")!=null?b("cr:4923"):d("fbicon")._(i("497883"),16),size:36}),level:4,onClose:function(){f(!0)}})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var e=a.thread;a=m(!1);var f=a[0],g=a[1],h=c("useReStore")(),i=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(h.table("group_membership_approval_requests")).getKeyRange(e.threadKey).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(h.table("contacts")).getKeyRange(a.contactId));return[a,b]})},[h,e.threadKey]),n=i.length,p=c("usePrevious")(n);a=k(d("MWInboxInfoPanelContext.bs").context);var q=a.isOnMemberRequestsPageRef;l(function(){q.current!==!0&&p!==null&&n>p&&g(!1)},[n,p,g,q]);l(function(){var a=i.map(function(a){return a[0].contactId});h.runInTransaction(function(e){return b("Promise").all(a.map(function(a){return c("LSVerifyContactRowExists")(a,d("LSIntEnum").ofNumber(c("LSContactIdType").FBID),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,!1,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(e))}))},"readwrite")},[h,i]);return!f&&i.length>0?j.jsx(o,{memberRequests:i,setWasClosed:g}):null}p.displayName=p.name+" [from "+f.id+"]";function q(a){a=a.thread;var b=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),c=d("LSThreadBitOffset.bs").has(d("LSIntEnum").ofNumber(66),a);return c&&b?j.jsx(p,{thread:a}):null}q.displayName=q.name+" [from "+f.id+"]";function a(a){a=a.thread;return j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(q,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPublicChatNUXDialog.bs",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","LSMessagingThreadTypeUtil","MWPublicChatsNUXQuickPromotionContainer.entrypoint","bs_caml_option","bs_curry","react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.thread;var b=h.useState(function(){}),e=b[0],f=b[1],g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),i=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType);h.useEffect(function(){e===void 0&&i&&c("bs_curry")._1(f,function(){return c("bs_caml_option").some(d("CometRelay").loadEntryPoint(g,c("MWPublicChatsNUXQuickPromotionContainer.entrypoint"),{}))});return function(){if(e!==void 0)return c("bs_curry")._1(c("bs_caml_option").valFromOption(e).dispose)}},[e,g,i]);if(e!==void 0)return h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:c("bs_caml_option").valFromOption(e),props:{}})})});else return null}b=a;e=b;g.make=e}),98);
__d("MWMessageListProtectedMedia.bs",["fbt","CometPressable.react","MWLSThreadDisplayContext","MWText.react","MWVerticalRhythm","bs_caml_obj","bs_caml_option","bs_caml_splice_call","bs_curry","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6",$$css:!0},containerForInbox:{minWidth:"xlm99nl",$$css:!0},containerUncoverable:{minWidth:"xfb3i0g",$$css:!0},overlay:{maxWidth:"x193iq5w",":before_content":"x1gftdam",":before_height":"xw22vqi",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_top":"x1ehtkf2",":before_width":"xy7dqi3",":before_zIndex":"x1wl4osp",$$css:!0},overlayBlurred:{filter:"xj2j9hd",$$css:!0},overlayDisabled:{pointerEvents:"x47corl",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},sneezeguard:{backgroundColor:"x11dxs5c",height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},sneezeguardTransparent:{backgroundColor:"x1cw4mn1",$$css:!0}};b={container:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",zIndex:"xhtitgo",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"xurgmgr",textAlign:"x2b8uid",$$css:!0}};function k(a){var b=a.state;a=a.uncoverable;a=a!==void 0?a:!0;var d;switch(b.TAG){case 0:d=c("bs_caml_option").some(i.jsxs(i.Fragment,{children:[i.jsx(c("MWText.react"),{color:"white",testid:void 0,type:"body3",children:h._("__JHASH__SmhjEO8LZM7__JHASH__")}),a?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:25}),i.jsx(c("MWText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:h._("__JHASH__grSMjsZRe9-__JHASH__")})]}):null]}));break;case 1:d=c("bs_caml_option").some(i.jsxs(i.Fragment,{children:[i.jsx(c("MWText.react"),{color:"white",testid:void 0,type:"body3",children:h._("__JHASH__SmhjEO8LZM7__JHASH__")}),i.jsx(c("MWVerticalRhythm"),{height:25}),i.jsx(c("MWText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:h._("__JHASH__cegqh2566-V__JHASH__")})]}));break;case 2:d=void 0;break}if(d===void 0)return null;var e;switch(b.TAG){case 0:e="0";break;case 1:e="1";break;case 2:e=void 0;break}return i.jsx("div",{"aria-live":"polite","aria-relevant":"all",className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d xl56j7k xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x17qophe x13vifvy xh8yej3 xhtitgo",children:i.jsx("div",{className:"x78zum5 xdt5ytf xurgmgr x2b8uid",children:c("bs_caml_option").valFromOption(d)})},e)}k.displayName=k.name+" [from "+f.id+"]";e={make:k,styles:b};function l(){}function a(a){var b=a.onPress,e=a.overlayDisabled,f=a.ariaLabel,g=a.children,h=a.linkProps_,m=a.testid,n=a.type_,o=a.url,p=a.xstyle;a=a.uncoverable;var q=b!==void 0?b:l;b=e!==void 0?e:!1;e=a!==void 0?a:!0;a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var r=i.useMemo(function(){return p.concat([j.pressable])},[p]),s=i.useState(function(){return{_0:void 0,TAG:0}}),t=s[0],u=s[1],v=i.useRef(null);s=i.useMemo(function(){return{url:"#"}},[]);var w=i.useMemo(function(){var a;a=n.TAG===0?!0:!1;if(a)return{};else if(o!==void 0)return{backgroundImage:"url("+o+")",backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"};else return{}},[o,n]),x;switch(t.TAG){case 0:case 1:x=!0;break;case 2:x=!1;break}var y;switch(t.TAG){case 0:case 1:y=!0;break;case 2:y=!1;break}var z;switch(t.TAG){case 1:z=!0;break;case 0:case 2:z=!1;break}var A,B;switch(t.TAG){case 0:case 1:B=!1;break;case 2:B=!0;break}if(B)A=null;else{var C;switch(t.TAG){case 1:C=!0;break;case 0:case 2:C=!1;break}A=i.jsx("div",{className:c("stylex")(j.sneezeguard,C?j.sneezeguardTransparent:!1)})}a=i.jsxs("div",{className:c("stylex")(j.container,c("bs_caml_obj").caml_equal(a,"Inbox")?j.containerForInbox:!1,e?j.containerUncoverable:!1),children:[i.jsx("div",{style:w}),i.jsx("div",{"aria-hidden":x,className:c("stylex")(j.overlay,y?j.overlayDisabled:!1,z?j.overlayBlurred:!1),children:g}),A,i.jsx(k,{state:t,uncoverable:e})]});if(!e)return i.jsx("div",{className:c("bs_caml_splice_call").spliceApply(c("stylex"),[r]),"data-testid":void 0,children:a});var D;switch(t.TAG){case 0:case 1:D=!1;break;case 2:D=!0;break}var E;switch(t.TAG){case 0:case 1:E=!1;break;case 2:E=!0;break}w={children:a,onPress:function(){var a;switch(t.TAG){case 0:case 1:a=!1;break;case 2:a=!0;break}if(a)return c("bs_curry")._1(q);else return c("bs_curry")._1(u,function(a){switch(a.TAG){case 0:return{_0:void 0,TAG:1};case 1:var b=function(){c("setTimeout")(function(){var a=v.current;if(a!=null)return a.focus()},0)};b();return{_0:void 0,TAG:2};case 2:return a}})},overlayDisabled:b,ref:v,xstyle:function(){return r}};g=D?f:void 0;g!==void 0&&(w["aria-label"]=c("bs_caml_option").valFromOption(g));A=E?h:s;A!==void 0&&(w.linkProps=c("bs_caml_option").valFromOption(A));m!==void 0&&(w.testid=c("bs_caml_option").valFromOption(m));return i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},w))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.$$Text=e;g.defaultOnPress=l;g.make=b}),98);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions","isFalsey"],(function(a,b,c,d,e,f,g){var h={allowShrink:!0,strategy:"vector",timeout:100,widthElement:null};function b(a){Object.assign(h,a),window.setInterval(i,h.timeout)}function i(){var a=c("getViewportDimensions")(),b=j(),e=c("Layer").getTopmostLayer();if(e){e=(e=e.getRoot())==null?void 0:e.firstChild;e||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("topMostLayer.getRoot().firstChild is null.");var f=d("DOMDimensions").getElementDimensions(e);f.height+=d("DOMDimensions").measureElementBox(e,"height",!0,!0,!0);f.width+=d("DOMDimensions").measureElementBox(e,"width",!0,!0,!0);b.height=Math.max(b.height,f.height);b.width=Math.max(b.width,f.width)}e=b.height-a.height;f=b.width-a.width;f<0&&c("isFalsey")(h.widthElement)&&(f=0);f=f>1?f:0;c("isFalsey")(h.allowShrink)&&e<0&&(e=0);if(e||f)try{window.console&&window.console.firebug,window.resizeBy(f,e),f&&window.moveBy(f/-2,0)}catch(a){}}function j(){var b=d("DOMDimensions").getDocumentDimensions();if(h.strategy==="offsetHeight"){var e=document.body;if(!e)d("FlowMigrationUtilsForLegacyFiles").invariantViolation("document.body is null.");else{b.height=(e=e.offsetHeight)!=null?e:0}}if(c("isFalsey")(h.widthElement)&&typeof h.widthElement==="string"){e=d("DOMQuery").scry(document.body,h.widthElement)[0];e&&(b.width=d("DOMDimensions").getElementDimensions(e).width)}e=a.Dialog;e&&e.max_bottom&&e.max_bottom>b.height&&(b.height=e.max_bottom);return b}function e(a,b,c,e){return d("Popup").open(a,c,b,e)}g._opts=h;g.init=b;g._resizeCheck=i;g._getDocumentSize=j;g.open=e}),98);/*FB_PKG_DELIM*/
__d("LSInsertOptimisticAttachment",["LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[0],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq([0,0],[0,0])&&b.messageId===a[2]&&b.attachmentFbid===a[4]&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[0],messageId:a[2],attachmentFbid:a[4],timestampMs:a[1],offlineAttachmentId:a[3],attachmentType:a[5],filename:a[6],attributionAppId:a[7],hasMedia:a[8],isSharable:!1,hasXma:a[9],authorityLevel:[0,20]})},function(d){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[0],a[2],a[1],e,!1,c.i64.eq(a[5],[0,1]))}])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,b.primarySortKey,b.secondarySortKey==null?[-1,4294967295]:b.secondarySortKey],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d)})},function(d){return b.sb(b.ftr(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?[-1,4294967295]:d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d)})},function(d){return b.sb(b.ftr(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?[-1,4294967295]:d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d)})},function(d){return c[32]=b.i64.or_([0,2],b.i64.or_(!c[3]&&!a[3]?[0,4]:[0,0],b.i64.or_(c[3]?[0,0]:[0,1],b.i64.or_(b.i64.eq(c[5],[0,60])||b.i64.eq(c[5],[0,80])?[0,1048576]:[0,0],b.i64.neq(c[6],[85970,924785702])&&b.i64.neq(c[6],[85970,1004785694])&&b.i64.neq(c[6],[85970,1044785690])?[0,0]:[0,2097152])))),c[14]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[12],[0,1]))))),c[33]=b.i64.eq(b.i64.and_(c[35],[0,8]),[0,8]),c[34]=c[33]?b.i64.or_(c[32],[0,16]):c[32],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],[-1,4294967294]):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[30],[0,1]))))),c[33]=b.i64.eq(b.i64.and_(c[35],[0,8]),[0,8]),c[34]=c[33]?b.i64.or_(c[22],[0,16]):c[22],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],[-1,4294967294]):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),f!==f?c.resolve(d[1]=f):c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[1]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.seq([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?d[9]=[-1,4294967295]:(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],[0,1]),d[13]=c.i64.gt(d[0],d[11])?d[0]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,[0,40])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:[0,0],threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:[0,0],lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:[0,0],authorityLevel:[0,40]})},function(b){return c.i64.eq(a[2],[0,13])||c.i64.eq(a[2],[0,7])||c.i64.eq(a[2],[0,1])?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:[0,0],deliveredWatermarkTimestampMs:[0,0],authorityLevel:[0,20],isModerator:!1})}]):c.resolve()},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.seq([function(a){return c.localizeV2Async([0,2285622730],f).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async([0,1919524925],f).then(function(a){return d[17]=a})},function(a){return c.sp(b("LSIssueNewError"),f,[0,1545093],d[16],d[17],f)}]):c.resolve()}]):(e.item,c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f})}))})}])},function(e){return c.seq([function(b){return c.islc(c.ftr(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,[0,80])||c.i64.eq(b.authorityLevel,[0,60])||c.i64.eq(b.authorityLevel,[0,40]))}),0,c.i64.to_float([0,1])).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[33]=c.i64.of_float(Date.now()),d[9]=d[33]):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==f&&(c.i64.eq(a[9],[0,1])||c.i64.eq(a[10],[0,1]))?c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(i=[a[8],f,f,[0,0],f,f,f,f,f,f,f,f,f,f,f,f],d[33]=i[0],d[34]=i[1],d[35]=i[2],d[36]=i[3],d[37]=i[4],d[38]=i[5],d[39]=i[6],d[40]=i[7],d[41]=i[8],d[42]=i[9],d[43]=i[10],d[44]=i[11],d[45]=i[12],d[46]=i[13],d[47]=i[14],d[48]=i[15],i):(h=e.item,c.seq([function(e){return d[54]=h.senderId,d[53]=h.stickerId,c.i64.neq(d[53],f)?(e=[d[53],[0,4]],d[56]=e[0],d[57]=e[1],e):(e=[f,f],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],e,d[55]=h.replyType==null?[0,0]:h.replyType,c.seq([function(e){return c.sp(b("LSGetLocalizedReplySnippet"),a[1],a[0],d[54],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(b){return d[52]=c.i64.eq(a[10],[0,1])?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],[0,1],d[52],d[54],h.text,d[50],d[51],f,f,f,f,f,f,d[55]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===f||c.i64.eq(a[9],[0,0])||c.i64.eq(a[10],[0,0])?(e=[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],[0,1],f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[f,f,f,f],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=[0,3]:d[32]=d[13],c.i64.eq([0,20],[0,20])?c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[9],secondarySortKey:d[0],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:[0,1],sendStatusV2:[0,1],authorityLevel:[0,20],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.seq([function(a){return c.db.table(12).fetch([[[d[1]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[0],f],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.fe(c.ftr(c.db.table(12).fetch([[[d[1]]],"optimistic"]),function(a){return a.offlineThreadingId===d[1]&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:[0,1],sendStatusV2:[0,1],authorityLevel:[0,20],localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[2]=c.createArray(),d[3]=(d[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[2]),d[4]=(d[2].push("localApplyOptimisticMessage"),d[2]),d[5]=(d[2].push(a[1]),d[2]),d[6]=(d[2].push(d[1]),d[2]),d[7]=c.toJSON(d[2]),function(a){c.logger(a).info(a)}(d[7]),a[14]?c.seq([function(e){return c.sp(b("LSSetMessageViewFlags"),a[1],d[1],d[0],c.i64.eq(a[2],[0,1]))},function(e){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[1],d[0],a[3],!1,c.i64.neq(a[6],f))}]):c.resolve()},function(a){return a=[d[1],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateOptimisticAttachmentPreview",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(c){return c.attachmentFbid===a[2]&&b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.authorityLevel,[0,20])}),function(b){var c=b.update;b.item;return c({playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],previewUrl:a[7],previewUrlFallback:a[8],previewUrlExpirationTimestampMs:a[9],previewUrlMimeType:a[10],previewWidth:a[11],previewHeight:a[12],imageUrl:d,imageUrlFallback:d,imageUrlExpirationTimestampMs:d,imageUrlMimeType:d})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticSendAttachmentForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[1]=a[3]===""?f:a[3],d[1]!==f?c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],d[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===d[1]&&c.i64.eq(b.authorityLevel,[0,20])}),function(b){var d=b.update;b.item;return d({attachmentFbid:c.i64.to_string(a[7])})})},function(a){return d[0]=d[1]}]):c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],f,f,f,f,[0,3],f,f,f,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return c.ftr(c.db.table(16).fetch(),function(b){return b.attachmentFbid===c.i64.to_string(a[7])}).next().then(function(e,h){var i=e.done;e=e.value;return i?c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),[0,2],f,f,!0,!1):(h=e.item,c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),h.attachmentType,h.filename,h.attributionAppId,!0,!1)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[2],c.i64.to_string(a[7]),h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}]))})},function(a){return d[0]=d[2]}])},function(e){return c.seq([function(e){return d[2]=c.createArray(),d[4]=(d[2].push(a[7]),d[2]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[3]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[8],sendType:[0,4],markThreadRead:!1,initiatingSource:a[9]})}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticSendMessageForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[3],a[4],a[5]]]]),function(b){return c.i64.eq(b.threadKey,a[3])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.timestampMs,a[4])&&b.messageId===a[5]&&c.i64.eq(b.authorityLevel,[0,80])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(d[2]=c.createArray(),d[3]=(d[2].push("optimisticSendMessageForward msg not found"),d[2]),d[4]=(d[2].push(a[5]),d[2]),d[5]=c.toJSON(d[2]),function(a){c.logger(a).mustfix(a)}(d[5]),d[0]=""):(h=e.item,c.seq([function(e){return d[8]=h.forwardScore,d[2]=h.text,d[3]=d[8],c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],d[2],f,f,h.stickerId,h.hotEmojiSize,f,f,[0,3],f,d[3],f,!0).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(e){return c.fe(c.db.table(16).fetch([[[h.threadKey,h.messageId]]]),function(e){var h=e.item;return c.seq([function(e){return d[13]=h.attachmentFbid,d[9]=c.createArray(),d[10]=(d[9].push(d[13]),d[9]),d[11]=(d[9].push(d[4]),d[9]),d[12]=c.toJSON(d[9]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[5],d[4],d[13],d[12],h.attachmentType,h.filename,f,h.hasMedia,h.hasXma)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[4],d[12],h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}])})},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return f!==f?c.sp(b("LSPredefineTraceForTask"),f,d[6],c.i64.to_string([0,46]),d[4]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[6],threadKey:a[1],offlineThreadingId:d[4],messageId:a[5],threadAttributionSource:a[6],sendType:[0,5],markThreadRead:!1,initiatingSource:a[7]})},function(b){return d[9]=new c.Map(),d[10]=d[9].set("optimisticSendMessageForward",a[1]),d[11]=d[9].set("fwdMsgID",a[5]),d[12]=c.toJSON(d[9]),d[7]=d[12],function(a){c.logger(a).info(a)}(d[7]),d[0]=d[4]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSAppendDataTraceAddon.bs",["LSAppendDataTraceAddon","LSFactory","bs_belt_Option","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return window.Promise.resolve();else return c("LSAppendDataTraceAddon")(d,e,f,c("bs_belt_Option").getWithDefault(g,""),c("bs_belt_Option").getWithDefault(h,""),c("LSFactory")(a))}b=a;g.call=b}),98);
__d("LSAppendDataTraceAddon.nop",["LSAppendDataTraceAddon.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f,g,h){return d("LSAppendDataTraceAddon.bs").call(a,b,c,e,f,g,h)};g["default"]=a}),98);
__d("LSOptimisticSendMessage",["LSAppendDataTraceAddon.nop","LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSLogEventAnnotate.nop","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[18],a[19],a[21]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[10]=a[9]===""?f:a[9],d[10]!==f?c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],[0,3],d[10],a[10],!0,!1)},function(e){return a[22]?d[11]=!1:d[11]=!0,d[11]?c.resolve():(d[12]=a[22].get("playable_url"),a[22],d[13]=a[22].get("playable_url_fallback"),a[22],d[14]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[15]=a[22].get("playable_url_mime_type"),a[22],d[16]=a[22].get("preview_url"),a[22],d[17]=a[22].get("preview_url_fallback"),a[22],d[18]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[19]=a[22].get("preview_url_mime_type"),a[22],d[20]=a[22].get("preview_width"),a[22],d[21]=a[22].get("preview_height"),a[22],d[22]=a[22].get("image_url"),a[22],d[23]=a[22].get("image_url_fallback"),a[22],d[24]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[25]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21]))},function(a){return d[2]=[0,7]}]):c.seq([function(e){return c.i64.neq(a[7],f)?c.seq([function(e){return c.i64.neq(a[7],[53057,267535043])&&c.i64.neq(a[7],[85970,924785702])&&c.i64.neq(a[7],[85970,1004785694])&&c.i64.neq(a[7],[85970,1044785690])?c.seq([function(e){return d[13]=c.i64.to_string(a[7]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(a[7]),d[13],[0,1],f,f,!0,!1)},function(e){return a[22]?d[12]=!1:d[12]=!0,d[12]?c.resolve():(d[14]=a[22].get("playable_url"),a[22],d[15]=a[22].get("playable_url_fallback"),a[22],d[16]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[17]=a[22].get("playable_url_mime_type"),a[22],d[18]=a[22].get("preview_url"),a[22],d[19]=a[22].get("preview_url_fallback"),a[22],d[20]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[21]=a[22].get("preview_url_mime_type"),a[22],d[22]=a[22].get("preview_width"),a[22],d[23]=a[22].get("preview_height"),a[22],d[24]=a[22].get("image_url"),a[22],d[25]=a[22].get("image_url_fallback"),a[22],d[26]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[27]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23]))}]):c.resolve()},function(a){return d[11]=[0,2]}]):c.resolve(d[11]=[0,1])},function(a){return d[2]=d[11]}])},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return a[24]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[24],d[3],c.i64.to_string([0,46]),d[0])},function(d){return c.nop(b("LSAppendDataTraceAddon.nop"),a[24],[0,20],[0,1],f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[11],externalAttachmentUrl:a[9],platformRef:a[12],platformToken:a[13],replySourceId:a[14],replySourceType:a[15],sendType:d[2],markThreadRead:a[20]==null?!1:a[20],initiatingSource:a[23],skipUrlPreviewGen:a[25],textHasLinks:a[26]})},function(e){return(a[20]==null?!1:a[20])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[4]=c.createArray(),d[5]=(d[4].push("optimisticSendMessage"),d[4]),d[6]=(d[4].push(a[1]),d[4]),d[7]=(d[4].push(d[0]),d[4]),d[8]=c.toJSON(d[4]),function(a){c.logger(a).info(a)}(d[8]),d[9]=new c.Map(),d[9].set("offline_threading_id",d[0]),d[9].set("task_id",d[3]),d[9].set("task_queue_name",c.i64.to_string(a[1])),d[9].set("task_label",c.i64.to_string([0,1])),c.nop(b("LSLogEventAnnotate.nop"),[0,16],[0,23],[0,0],d[9])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MWChatForwardDialogQuery$Parameters",["MWChatForwardDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatForwardDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatForwardDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("LSThreadAttributionTypeUtil.bs",["LSIntEnum","LSMessagingThreadAttributionType","LSThreadAttributionStore.bs","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=d("LSThreadAttributionStore.bs").getSource({_0:b,TAG:1},c("bs_int64").to_string(a));if(b.TAG===0)return b._0;a=b._0;if(a==="communityFriendsDialog"||a==="pagesHomeFriendsDialog"||a==="mutualFriendsDialog"||a==="birthday"||a==="groupMembers"||a==="fundraiserSupportersList"||a==="memories"||a==="feedPoll"||a==="reactorList"||a==="friendsList"||a==="pagesPrivateReply")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="inboxPendingRequests")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_PENDING_REQUESTS);else if(a==="fullscreenChat")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT);else if(a==="sidebarGroupsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_GROUPS);else if(a==="jewel")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_THREAD_LIST);else if(a==="shop")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MINI_SHOP_VIEW_MENU_BUTTON);else if(a==="chatheadsOverflow")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS);else if(a==="hovercard"||a==="feedDynamicHoverCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_DYNAMIC_HOVER_CARD);else if(a==="search"||a==="messengerUniversalSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_UNIVERSAL_SEARCH);else if(a==="story"||a==="storyAggregatedUsers"||a==="storySeenByList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_STORY);else if(a==="timeline"||a==="feedOrganicPost")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="pageAboutCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_ABOUT_CARD);else if(a==="inboxInThread")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_IN_THREAD);else if(a==="notificationInThreadReply")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_NOTIFICATION_IN_THREAD_REPLY);else if(a==="archieve")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_ARCHIVED_THREADS);else if(a==="storyViewerSheetRow")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_STORY_VIEWER_SHEET_ROW);else if(a==="chatheadsNewMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_NEW_MESSAGE);else if(a==="event")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_EVENT);else if(a==="jewelSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_SEARCH);else if(a==="inboxSpam"||a==="inboxThreadList"||a==="inboxRestricted")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX);else if(a==="jewelNewMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NEW_MESSAGE);else if(a==="pendingRequests")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST);else if(a==="sidebarSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_SEARCH);else if(a==="inboxRemainingThreads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_REMAINING_THREADS);else if(a==="pagesHeader")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON);else if(a==="inboxRecentThreads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_RECENT_THREADS);else if(a==="chatheads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_RECENT_THREADS);else if(a==="pageResponsivenessCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_RESPONSIVENESS_CONTEXT_CARD);else if(a==="inboxSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_MESSAGE_SEARCH);else if(a==="jewelNestedFolder")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NESTED_FOLDER);else if(a==="marketplace")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MARKETPLACE_SEND_MESSAGE);else if(a==="feedOrganicPostViewAndMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE);else if(a==="adsCta")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA);else if(a==="chatInThread")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_IN_THREAD);else if(a==="payments")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").PAYMENTS);else if(a==="inboxFolder")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_NESTED_FOLDER);else if(a==="inboxArchived")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ARCHIVED_THREADS);else if(a==="inboxActiveContacts")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ACTIVE_CONTACTS);else if(a==="sidebarContactsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_LIST);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN)}g.getSource=a}),98);
__d("LSMessagingInitiatingSourceHook.bs",["LSIntEnum","LSMessagingInitiatingSource","MWLSThreadDisplayContext","bs_belt_Option"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("bs_belt_Option").map(d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),function(a){if(a==="Inbox")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX);else if(a==="FullscreenChat")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_FULLSCREEN);else if(a==="ChatTab")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT);else return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").ROOMS_SIDE_CHAT)})}g.useHook=a}),98);
__d("getMWReplySourceId",["MWChatMessageId.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return;return d("MWChatMessageId.bs").getMessageId(a.content._0.messageID)}g["default"]=a}),98);
__d("WorkChatMessageType.bs",[],(function(a,b,c,d,e,f){"use strict";a="text";b="gif";c="sticker";d="audio";e="file";f.text=a;f.gif=b;f.sticker=c;f.audio=d;f.file=e}),66);
__d("useMWLSSendStickerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessage","LSShape","LSThreadAttributionTypeUtil.bs","MWPActor.bs","MWThread_DEPRECATED.bs","WorkChatMessageType.bs","getMWReplySourceId","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("useReStore")(),g=d("MWPActor.bs").useActor();return d("Int64Hooks").useCallbackInt64(function(h,i,j,k){c("promiseDone")(f.runInTransaction(function(e){var f,l=d("MWThread_DEPRECATED.bs").toThreadKey(h);f=d("LSThreadAttributionTypeUtil.bs").getSource(l,(f=a)!=null?f:"unknown");return c("LSOptimisticSendMessage")(g,l,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),void 0,void 0,!1,d("I64").of_string(i),void 0,void 0,void 0,f,void 0,void 0,c("getMWReplySourceId")(j),d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),void 0,void 0,void 0,!0,!0,d("LSShape").ofRecord({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:d("I64").zero,preview_url:k,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:d("I64").zero}),b,void 0,void 0,void 0,c("LSFactory")(e))},"readwrite").then(function(a){e==null?void 0:e(d("WorkChatMessageType.bs").sticker,1,a[0])}))},[f,g,b,a,e])}g["default"]=a}),98);
__d("MWChatForwardDialog.entrypoint",["JSResourceForInteraction","MWChatForwardDialogQuery$Parameters","MWXacGating.bs","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{forwardQueryReference:{parameters:b("MWChatForwardDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get(),suppress_xac_groups:!d("MWXacGating.bs").isGroupsEnabled()}}}}},root:c("JSResourceForInteraction")("MWChatForwardDialog.react").__setRef("MWChatForwardDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatInteractionLog.bs",["QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b){var d=Date.now()|0;h.set(b,d);c("QPLUserFlow").start(a,{cancelOnUnload:!0,instanceKey:d,timeoutInMs:6e4})}function b(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endFailure(a,d,{instanceKey:b});return}}function d(a,b){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endSuccess(a,{instanceKey:b});return}}function e(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").addPoint(a,d,{instanceKey:b});return}}f=a;a=b;b=d;d=e;g.logStartUserFlow=f;g.logFailUserFlow=a;g.logSuccessUserFlow=b;g.logPointUserFlow=d}),98);
__d("MWLSForwardMessage.bs",["LSFactory","LSIntEnum","LSMediaUrl.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingSource","LSMessagingThreadAttributionType","LSMessagingThreadTypeUtil","LSOptimisticSendAttachmentForward","LSOptimisticSendMessageForward","MWChatInteractionLog.bs","MWChatThreadId","MWLSThreadDisplayContext","MWPActor.bs","MWThread_DEPRECATED.bs","ODS","Promise","ReQL.bs","bs_caml_format","bs_caml_option","bs_curry","bs_int64","promiseDone","qpl","react","useMWLSSendStickerMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a!==void 0)if(a==="Inbox")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_FORWARD);else if(a==="ChatTab")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_FORWARD);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_BROADCAST_FLOW);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_BROADCAST_FLOW)}function a(){var a=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("LSMessagingInitiatingSourceHook.bs").useHook(),g=i(),j=d("LSMessagingSource").useHook(),k=c("useMWLSSendStickerMessage")(j,f);return h.useCallback(function(h,i){var j=d("LSMessagingThreadTypeUtil").ofThreadId(h),l=d("MWThread_DEPRECATED.bs").toThreadKey(h);switch(i.TAG){case 0:case 1:return;case 2:i=i._0;var m=i.timestamp,n=i.messageId,o=i.threadId;d("ODS").bumpEntityKey(3185,"mw_forward","send");d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),n,"sending");var p=function(){return a.runInTransaction(function(a){return c("LSOptimisticSendMessageForward")(e,l,j,o,m,n,g,f!==void 0?c("bs_caml_option").valFromOption(f):void 0,c("LSFactory")(a))},"readwrite").then(function(){})};c("promiseDone")(d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("messages")),{hd:o,tl:{hd:m,tl:{hd:n,tl:0}}})).then(function(e){if(e===void 0)return p();var f=e.stickerId;if(f!==void 0)return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("attachments")),{hd:o,tl:{hd:n,tl:0}})).then(function(a){a=a!==void 0?d("LSMediaUrl.bs").Attachment.previewUrl(a):void 0;c("bs_curry")._4(k,h,c("bs_int64").to_string(f),void 0,a);return b("Promise").resolve()});else return p()}),function(){d("ODS").bumpEntityKey(3185,"mw_forward","success");return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),n)},function(){d("ODS").bumpEntityKey(3185,"mw_forward","failure");return d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),n,"ls_error")});return}},[a,JSON.stringify(e),f,g,k])}function e(){var a=c("useReStore")(),b=d("MWPActor.bs").useActor(),e=d("LSMessagingInitiatingSourceHook.bs").useHook(),f=i();return h.useMemo(function(){return function(g,h,i){d("ODS").bumpEntityKey(3185,"mw_forward","send");i!==void 0&&d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),i,"sending");var j=d("LSMessagingThreadTypeUtil").ofThreadId(g),k=d("MWThread_DEPRECATED.bs").toThreadKey(g);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendAttachmentForward")(b,k,j,void 0,void 0,void 0,void 0,c("bs_caml_format").caml_int64_of_string(h),f,e!==void 0?c("bs_caml_option").valFromOption(e):void 0,c("LSFactory")(a))},"readwrite"),function(){d("ODS").bumpEntityKey(3185,"mw_forward","success");if(i!==void 0)return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),i)},function(){i!==void 0&&d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),i,"ls_error"),d("ODS").bumpEntityKey(3185,"mw_forward","failure")})}},[a,JSON.stringify(b),e,f])}g.useForwardMessage=a;g.useForwardAttachment=e;g.targetIdString=d("MWChatThreadId").getFBID}),98);
__d("useMWChatForward",["MWChatForwardDialog.entrypoint","MWChatInteractionLog.bs","MWChatMessageId.bs","qpl","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a){var b=a.dropToggle,e=a.forwardDialogType,f=a.messageID,g=a.onClose,j=a.onSend;a=i(null);var k=c("useCometEntryPointDialog")(c("MWChatForwardDialog.entrypoint"),{}),l=k[0];k=h(function(){var a=d("MWChatMessageId.bs").getMessageId(f);a!=null&&d("MWChatInteractionLog.bs").logStartUserFlow(c("qpl")._(25298392,"4881"),a);l({dropToggle:b,forwardDialogType:e,messageID:f,onSend:j},g)},[j,l,f,g,e,b]);return{onClick:k,triggerRef:a}}g["default"]=a}),98);